{"names":["Function104a95"],"callingMethods":["DoMysteryGift"],"methodsCalled":["FarCall","Function104b0a","Function104b22","Function104b49","Function104bd0","Function104d56","Function104d5e","Function104d96","Function104ddd","MysteryGift_ReadJoypad"],"methodAddressesUsed":[],"varsSet":["hMGStatusFlags"],"varsUsed":["hMGJoypadReleased","hMGStatusFlags","hPrintNumBuffer","rLY"],"varAddressesUsed":["hPrintNumBuffer"],"constantsUsed":["rRP"],"lines":["Function104a95:","\tdi","\tfarcall ClearChannels","\tcall Function104d5e","",".loop2","\tcall Function104d96","\tcall Function104ddd","\tldh a, [hMGStatusFlags]","\tcp $10","\tjp z, Function104bd0","\tcp $6c","\tjr nz, .loop2","","\tldh a, [hPrintNumBuffer + 8]","\tcp $2","\tjr z, Function104b22","\tld hl, hPrintNumBuffer","\tld b, $1","\tcall Function104d56","\tjr nz, .ly_loop","\tcall Function104b49","\tjp nz, Function104bd0","\tjr Function104b0a","\t; Delay frame",".ly_loop","\tldh a, [rLY]","\tcp LY_VBLANK","\tjr c, .ly_loop","\tld c, LOW(rRP)","\tld a, $c0","\tldh [c], a","\tld b, 240 ; This might have been intended as a 4-second timeout buffer.","\t          ; However, it is reset with each frame.",".loop3","\tpush bc","\tcall MysteryGift_ReadJoypad","","\tld b, $2","\tld c, LOW(rRP)","\t; Delay frame",".ly_loop2","\tldh a, [c]","\tand b","\tld b, a","\tldh a, [rLY]","\tcp LY_VBLANK","\tjr nc, .ly_loop2",".ly_loop3","\tldh a, [c]","\tand b","\tld b, a","\tldh a, [rLY]","\tcp LY_VBLANK","\tjr c, .ly_loop3","","\tld a, b","\tpop bc","\tdec b","\tjr z, .loop2 ; we never jump here","\tor a","\tjr nz, .loop2","\t; Check if we\u0027ve pressed the B button","\tldh a, [hMGJoypadReleased]","\tbit B_BUTTON_F, a","\tjr z, .loop3","\tld a, $10","\tldh [hMGStatusFlags], a","\tjp Function104bd0"],"name":"Function104a95","file":"engine/link/mystery_gift.asm","lineNo":228,"address":263081,"addressUsedBy":[]}