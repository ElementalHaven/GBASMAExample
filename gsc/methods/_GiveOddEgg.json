{"names":["_GiveOddEgg"],"callingMethods":[],"methodsCalled":["AddNTimes","CopyBytes","FarCall","Random","TossItem"],"methodAddressesUsed":["AddMobileMonToParty"],"varsSet":["wCurItem","wCurItemQuantity","wItemQuantityChangeBuffer","wMobileMonNicknamePointerBuffer","wMobileMonOTNamePointerBuffer","wMobileMonSpeciesBuffer","wMobileMonSpeciesPointerBuffer","wMobileMonStructurePointerBuffer"],"varsUsed":["hRandomAdd","hRandomSub"],"varAddressesUsed":["OddEggProbabilities","OddEggs","wNumItems","wOddEggName"],"constantsUsed":["EGG","EGG_TICKET","MON_NAME_LENGTH","NAME_LENGTH","NICKNAMED_MON_STRUCT_LENGTH"],"lines":["_GiveOddEgg:","\t; Figure out which egg to give.","","\t; Compare a random word to","\t; probabilities out of 0xffff.","\tcall Random","\tld hl, OddEggProbabilities","\tld c, 0","\tld b, c",".loop","\tld a, [hli]","\tld e, a","\tld a, [hli]","\tld d, a","","\t; Break on $ffff.","\tld a, d","\tcp HIGH($ffff)","\tjr nz, .not_done","\tld a, e","\tcp LOW($ffff)","\tjr z, .done",".not_done","","\t; Break when the random word \u003c\u003d the next probability in de.","\tldh a, [hRandomSub]","\tcp d","\tjr c, .done","\tjr z, .ok","\tjr .next",".ok","\tldh a, [hRandomAdd]","\tcp e","\tjr c, .done","\tjr z, .done",".next","\tinc bc","\tjr .loop",".done","","\tld hl, OddEggs","\tld a, NICKNAMED_MON_STRUCT_LENGTH","\tcall AddNTimes","","\t; Writes to wOddEgg, wOddEggName, and wOddEggOTName,","\t; even though OddEggs does not have data for wOddEggOTName","\tld de, wOddEgg","\tld bc, NICKNAMED_MON_STRUCT_LENGTH + NAME_LENGTH","\tcall CopyBytes","","\tld a, EGG_TICKET","\tld [wCurItem], a","\tld a, 1","\tld [wItemQuantityChangeBuffer], a","\tld a, -1","\tld [wCurItemQuantity], a","\tld hl, wNumItems","\tcall TossItem","","\t; load species in wcd2a","\tld a, EGG","\tld [wMobileMonSpeciesBuffer], a","","\t; load pointer to (wMobileMonSpeciesBuffer - 1) in wMobileMonSpeciesPointerBuffer","\tld a, LOW(wMobileMonSpeciesBuffer - 1)","\tld [wMobileMonSpeciesPointerBuffer], a","\tld a, HIGH(wMobileMonSpeciesBuffer - 1)","\tld [wMobileMonSpeciesPointerBuffer + 1], a","\t; load pointer to wOddEgg in wMobileMonStructurePointerBuffer","\tld a, LOW(wOddEgg)","\tld [wMobileMonStructurePointerBuffer], a","\tld a, HIGH(wOddEgg)","\tld [wMobileMonStructurePointerBuffer + 1], a","","\t; load Odd Egg Name in wTempOddEggNickname","\tld hl, .Odd","\tld de, wTempOddEggNickname","\tld bc, MON_NAME_LENGTH","\tcall CopyBytes","","\t; load pointer to wTempOddEggNickname in wMobileMonOTNamePointerBuffer","\tld a, LOW(wTempOddEggNickname)","\tld [wMobileMonOTNamePointerBuffer], a","\tld a, HIGH(wTempOddEggNickname)","\tld [wMobileMonOTNamePointerBuffer + 1], a","\t; load pointer to wOddEggName in wMobileMonNicknamePointerBuffer","\tld a, LOW(wOddEggName)","\tld [wMobileMonNicknamePointerBuffer], a","\tld a, HIGH(wOddEggName)","\tld [wMobileMonNicknamePointerBuffer + 1], a","\tfarcall AddMobileMonToParty","\tret","",".Odd:","\tdb \"ODD@@@@@@@@@\""],"name":"_GiveOddEgg","file":"engine/events/odd_egg.asm","lineNo":1,"address":323658,"addressUsedBy":["GiveOddEgg"]}