{"names":["PrintMail"],"callingMethods":["PrintMailAndExit"],"methodsCalled":["Printer_CleanUpAfterSend","Printer_CopyBufferToTilemap","Printer_PlayMusic","Printer_PrepareTilemapForPrint","SendScreenToPrinter"],"methodAddressesUsed":[],"varsSet":["hBGMapMode","hPrinter","hVBlank","rIE","rIF","wPrinterQueueLength"],"varsUsed":["rIE","wPrinterQueueLength"],"varAddressesUsed":["hVBlank"],"constantsUsed":["SERIAL","VBLANK"],"lines":["PrintMail:","\tld a, [wPrinterQueueLength]","\tpush af","\txor a","\tldh [hPrinter], a","\tcall Printer_PlayMusic","","\tldh a, [rIE]","\tpush af","\txor a","\tldh [rIF], a","\tld a, (1 \u003c\u003c SERIAL) | (1 \u003c\u003c VBLANK)","\tldh [rIE], a","","\txor a","\tldh [hBGMapMode], a","","\tln a, 1, 3 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tld hl, hVBlank","\tld a, [hl]","\tpush af","\tld [hl], $4","","\tld a, 18 / 2","\tld [wPrinterQueueLength], a","\tcall SendScreenToPrinter","","\tpop af","\tldh [hVBlank], a","\tcall Printer_CleanUpAfterSend","\tcall Printer_CopyBufferToTilemap","","\txor a","\tldh [rIF], a","\tpop af","\tldh [rIE], a","","\tpop af","\tld [wPrinterQueueLength], a","\tret"],"name":"PrintMail","file":"engine/printer/printer.asm","lineNo":276,"address":173824,"addressUsedBy":["Function89d0d"]}