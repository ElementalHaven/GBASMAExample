{"names":["NamingScreen"],"callingMethods":["_NamingScreen"],"methodsCalled":["ClearBGPalettes","ClearJoypad","DelayFrame","DisableLCD","FarCall","GetPokemonName","GetSGBLayout","InitSpriteAnimStruct","LoadNamingScreenGFX","NamingScreenJoypadLoop","NamingScreen_InitNameEntry","NamingScreen_InitText","PlaceString","Request2bpp","SetPalettes","WaitBGMap","WaitTop"],"methodAddressesUsed":["GetGender","GetPlayerIcon","LoadMenuMonIcon"],"varsSet":["hInMenu","hMapAnims","rLCDC","wNamedObjectIndexBuffer","wNamingScreenMaxNameLength","wNamingScreenStringEntryCoord","wOptions","wTempIconSpecies"],"varsUsed":["hInMenu","hMapAnims","wCurPartySpecies","wNamingScreenType"],"varAddressesUsed":["vTiles0","wNamingScreenDestinationPointer","wNamingScreenType","wOptions","wSpriteAnimDict"],"constantsUsed":["BOX_NAME_LENGTH","LCDC_DEFAULT","MONICON_NAMINGSCREEN","MON_NAME_LENGTH","PLAYER_NAME_LENGTH","SCGB_DIPLOMA","SPRITEANIMSTRUCT_FRAMESET_ID","SPRITE_ANIM_INDEX_BLUE_WALK","SPRITE_ANIM_INDEX_RED_WALK","tile","tiles"],"lines":["NamingScreen:","\tld hl, wNamingScreenDestinationPointer","\tld [hl], e","\tinc hl","\tld [hl], d","\tld hl, wNamingScreenType","\tld [hl], b","\tld hl, wOptions","\tld a, [hl]","\tpush af","\tset NO_TEXT_SCROLL, [hl]","\tldh a, [hMapAnims]","\tpush af","\txor a","\tldh [hMapAnims], a","\tldh a, [hInMenu]","\tpush af","\tld a, $1","\tldh [hInMenu], a","\tcall .SetUpNamingScreen","\tcall DelayFrame",".loop","\tcall NamingScreenJoypadLoop","\tjr nc, .loop","\tpop af","\tldh [hInMenu], a","\tpop af","\tldh [hMapAnims], a","\tpop af","\tld [wOptions], a","\tcall ClearJoypad","\tret","",".SetUpNamingScreen:","\tcall ClearBGPalettes","\tld b, SCGB_DIPLOMA","\tcall GetSGBLayout","\tcall DisableLCD","\tcall LoadNamingScreenGFX","\tcall NamingScreen_InitText","\tld a, LCDC_DEFAULT","\tldh [rLCDC], a","\tcall .GetNamingScreenSetup","\tcall WaitBGMap","\tcall WaitTop","\tcall SetPalettes","\tcall NamingScreen_InitNameEntry","\tret","",".GetNamingScreenSetup:","\tld a, [wNamingScreenType]","\tmaskbits NUM_NAME_TYPES","\tld e, a","\tld d, 0","\tld hl, .Jumptable","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjp hl","",".Jumptable:","; entries correspond to NAME_* constants","\tdw .Pokemon","\tdw .Player","\tdw .Rival","\tdw .Mom","\tdw .Box","\tdw .Tomodachi","\tdw .Pokemon","\tdw .Pokemon","",".Pokemon:","\tld a, [wCurPartySpecies]","\tld [wTempIconSpecies], a","\tld hl, LoadMenuMonIcon","\tld a, BANK(LoadMenuMonIcon)","\tld e, MONICON_NAMINGSCREEN","\trst FarCall","\tld a, [wCurPartySpecies]","\tld [wNamedObjectIndexBuffer], a","\tcall GetPokemonName","\thlcoord 5, 2","\tcall PlaceString","\tld l, c","\tld h, b","\tld de, .NicknameStrings","\tcall PlaceString","\tinc de","\thlcoord 5, 4","\tcall PlaceString","\tfarcall GetGender","\tjr c, .genderless","\tld a, \"♂\"","\tjr nz, .place_gender","\tld a, \"♀\"",".place_gender","\thlcoord 1, 2","\tld [hl], a",".genderless","\tcall .StoreMonIconParams","\tret","",".NicknameStrings:","\tdb \"\u0027S@\"","\tdb \"NICKNAME?@\"","",".Player:","\tfarcall GetPlayerIcon","\tcall .LoadSprite","\thlcoord 5, 2","\tld de, .PlayerNameString","\tcall PlaceString","\tcall .StoreSpriteIconParams","\tret","",".PlayerNameString:","\tdb \"YOUR NAME?@\"","",".Rival:","\tld de, SilverSpriteGFX","\tld b, BANK(SilverSpriteGFX)","\tcall .LoadSprite","\thlcoord 5, 2","\tld de, .RivalNameString","\tcall PlaceString","\tcall .StoreSpriteIconParams","\tret","",".RivalNameString:","\tdb \"RIVAL\u0027S NAME?@\"","",".Mom:","\tld de, MomSpriteGFX","\tld b, BANK(MomSpriteGFX)","\tcall .LoadSprite","\thlcoord 5, 2","\tld de, .MomNameString","\tcall PlaceString","\tcall .StoreSpriteIconParams","\tret","",".MomNameString:","\tdb \"MOTHER\u0027S NAME?@\"","",".Box:","\tld de, PokeBallSpriteGFX","\tld hl, vTiles0 tile $00","\tlb bc, BANK(PokeBallSpriteGFX), 4","\tcall Request2bpp","\txor a","\tld hl, wSpriteAnimDict","\tld [hli], a","\tld [hl], a","\tdepixel 4, 4, 4, 0","\tld a, SPRITE_ANIM_INDEX_RED_WALK","\tcall InitSpriteAnimStruct","\tld hl, SPRITEANIMSTRUCT_FRAMESET_ID","\tadd hl, bc","\tld [hl], $0","\thlcoord 5, 2","\tld de, .BoxNameString","\tcall PlaceString","\tcall .StoreBoxIconParams","\tret","",".BoxNameString:","\tdb \"BOX NAME?@\"","",".Tomodachi:","\thlcoord 3, 2","\tld de, .oTomodachi_no_namae_sutoringu","\tcall PlaceString","\tcall .StoreSpriteIconParams","\tret","",".oTomodachi_no_namae_sutoringu","\tdb \"おともだち　の　なまえは？@\"","",".LoadSprite:","\tpush de","\tld hl, vTiles0 tile $00","\tld c, 4","\tpush bc","\tcall Request2bpp","\tpop bc","\tld hl, 12 tiles","\tadd hl, de","\tld e, l","\tld d, h","\tld hl, vTiles0 tile $04","\tcall Request2bpp","\txor a","\tld hl, wSpriteAnimDict","\tld [hli], a","\tld [hl], a","\tpop de","\tld b, SPRITE_ANIM_INDEX_RED_WALK","\tld a, d","\tcp HIGH(KrisSpriteGFX)","\tjr nz, .not_kris","\tld a, e","\tcp LOW(KrisSpriteGFX)","\tjr nz, .not_kris","\tld b, SPRITE_ANIM_INDEX_BLUE_WALK",".not_kris","\tld a, b","\tdepixel 4, 4, 4, 0","\tcall InitSpriteAnimStruct","\tret","",".StoreMonIconParams:","\tld a, MON_NAME_LENGTH - 1","\thlcoord 5, 6","\tjr .StoreParams","",".StoreSpriteIconParams:","\tld a, PLAYER_NAME_LENGTH - 1","\thlcoord 5, 6","\tjr .StoreParams","",".StoreBoxIconParams:","\tld a, BOX_NAME_LENGTH - 1","\thlcoord 5, 4","\tjr .StoreParams","",".StoreParams:","\tld [wNamingScreenMaxNameLength], a","\tld a, l","\tld [wNamingScreenStringEntryCoord], a","\tld a, h","\tld [wNamingScreenStringEntryCoord + 1], a","\tret"],"name":"NamingScreen","file":"engine/menus/naming_screen.asm","lineNo":13,"address":83663,"addressUsedBy":["InitNickname","HatchEggs","BillsPC_ChangeBoxSubmenu","NamePlayer","Function8a78c","PokeBallEffect"]}