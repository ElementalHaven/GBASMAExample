{"names":["NPCTrade"],"callingMethods":[],"methodsCalled":["CheckTradeGender","DisableSpriteUpdates","DoNPCTrade","FarCall","GetTradeAttribute","GetTradeMonNames","Predef","PrintText","PrintTradeText","RestartMapMusic","ReturnToMapWithSpeechTextbox","TradeFlagAction","Trade_GetDialog","YesNoBox"],"methodAddressesUsed":["SelectTradeOrDayCareMon","TradedForText"],"varsSet":["wJumptableIndex","wcf64"],"varsUsed":["wCurPartySpecies","wJumptableIndex","wcf64"],"varAddressesUsed":["NPCTradeCableText","TradeAnimationPredef"],"constantsUsed":["CHECK_FLAG","NPCTRADE_GIVEMON","PARTYMENUACTION_GIVE_MON","SET_FLAG","TRADE_DIALOG_AFTER","TRADE_DIALOG_CANCEL","TRADE_DIALOG_COMPLETE","TRADE_DIALOG_INTRO","TRADE_DIALOG_WRONG"],"lines":["NPCTrade::","\tld a, e","\tld [wJumptableIndex], a","\tcall Trade_GetDialog","\tld b, CHECK_FLAG","\tcall TradeFlagAction","\tld a, TRADE_DIALOG_AFTER","\tjr nz, .done","","\tld a, TRADE_DIALOG_INTRO","\tcall PrintTradeText","","\tcall YesNoBox","\tld a, TRADE_DIALOG_CANCEL","\tjr c, .done","","; Select givemon from party","\tld b, PARTYMENUACTION_GIVE_MON","\tfarcall SelectTradeOrDayCareMon","\tld a, TRADE_DIALOG_CANCEL","\tjr c, .done","","\tld e, NPCTRADE_GIVEMON","\tcall GetTradeAttribute","\tld a, [wCurPartySpecies]","\tcp [hl]","\tld a, TRADE_DIALOG_WRONG","\tjr nz, .done","","\tcall CheckTradeGender","\tld a, TRADE_DIALOG_WRONG","\tjr c, .done","","\tld b, SET_FLAG","\tcall TradeFlagAction","","\tld hl, NPCTradeCableText","\tcall PrintText","","\tcall DoNPCTrade","\tcall .TradeAnimation","\tcall GetTradeMonNames","","\tld hl, TradedForText","\tcall PrintText","","\tcall RestartMapMusic","","\tld a, TRADE_DIALOG_COMPLETE","",".done","\tcall PrintTradeText","\tret","",".TradeAnimation:","\tcall DisableSpriteUpdates","\tld a, [wJumptableIndex]","\tpush af","\tld a, [wcf64]","\tpush af","\tpredef TradeAnimation","\tpop af","\tld [wcf64], a","\tpop af","\tld [wJumptableIndex], a","\tcall ReturnToMapWithSpeechTextbox","\tret"],"name":"NPCTrade","file":"engine/events/npc_trade.asm","lineNo":1,"address":253972,"addressUsedBy":[]}