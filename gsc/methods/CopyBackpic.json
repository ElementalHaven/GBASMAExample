{"names":["CopyBackpic"],"callingMethods":["InitBattleDisplay"],"methodsCalled":["Get2bpp","Predef"],"methodAddressesUsed":[],"varsSet":["hGraphicStartTile","hMapObjectIndexBuffer","rSVBK"],"varsUsed":["hMapObjectIndexBuffer","hROMBank","rSVBK"],"varAddressesUsed":["PlaceGraphicPredef","vTiles0","vTiles2","wDecompressScratch"],"constantsUsed":["PAL_BATTLE_OB_PLAYER","SCREEN_WIDTH","TILE_WIDTH","tile"],"lines":["CopyBackpic:","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wDecompressScratch)","\tldh [rSVBK], a","\tld hl, vTiles0","\tld de, vTiles2 tile $31","\tldh a, [hROMBank]","\tld b, a","\tld c, 7 * 7","\tcall Get2bpp","\tpop af","\tldh [rSVBK], a","\tcall .LoadTrainerBackpicAsOAM","\tld a, $31","\tldh [hGraphicStartTile], a","\thlcoord 2, 6","\tlb bc, 6, 6","\tpredef PlaceGraphic","\tret","",".LoadTrainerBackpicAsOAM:","\tld hl, wVirtualOAMSprite00","\txor a","\tldh [hMapObjectIndexBuffer], a","\tld b, 6","\tld e, (SCREEN_WIDTH + 1) * TILE_WIDTH",".outer_loop","\tld c, 3","\tld d, 8 * TILE_WIDTH",".inner_loop","\tld [hl], d ; y","\tinc hl","\tld [hl], e ; x","\tinc hl","\tldh a, [hMapObjectIndexBuffer]","\tld [hli], a ; tile id","\tinc a","\tldh [hMapObjectIndexBuffer], a","\tld a, PAL_BATTLE_OB_PLAYER","\tld [hli], a ; attributes","\tld a, d","\tadd 1 * TILE_WIDTH","\tld d, a","\tdec c","\tjr nz, .inner_loop","\tldh a, [hMapObjectIndexBuffer]","\tadd $3","\tldh [hMapObjectIndexBuffer], a","\tld a, e","\tadd 1 * TILE_WIDTH","\tld e, a","\tdec b","\tjr nz, .outer_loop","\tret"],"name":"CopyBackpic","file":"engine/battle/core.asm","lineNo":9006,"address":141630,"addressUsedBy":[]}