{"names":["ValidateBTParty"],"callingMethods":[],"methodsCalled":["CloseSRAM","GetBaseData","OpenSRAM","Predef"],"methodAddressesUsed":[],"varsSet":["wCurPartyLevel","wCurSpecies"],"varsUsed":["s5_b2fb"],"varAddressesUsed":["CalcMonStatsPredef","s5_b2fb","wBT_OTTempMon1Species"],"constantsUsed":["BATTLETOWER_PARTY_LENGTH","MIN_LEVEL","MON_LEVEL","MON_MAXHP","MON_MOVES","MON_STAT_EXP","NICKNAMED_MON_STRUCT_LENGTH","NUM_MOVES","POUND","SMEARGLE","TRUE"],"lines":["ValidateBTParty:","; Check for and fix errors in party data","\tld hl, wBT_OTTempMon1Species","\tld d, BATTLETOWER_PARTY_LENGTH",".pkmn_loop","\tpush de","\tpush hl","\tld b, h","\tld c, l","\tld a, [hl]","\tand a","x \u003d $ff","rept ($ff - NUM_POKEMON)","\tjr z, .invalid","\tcp x","x \u003d x - 1","endr","\tjr nz, .valid","",".invalid","\tld a, SMEARGLE","\tld [hl], a","",".valid","\tld [wCurSpecies], a","\tcall GetBaseData","\tld a, BANK(s5_b2fb)","\tcall OpenSRAM","\tld a, [s5_b2fb] ; s5_b2fb ; max level?","\tcall CloseSRAM","\tld e, a","\tld hl, MON_LEVEL","\tadd hl, bc","\tld a, [hl]","\tcp MIN_LEVEL","\tld a, MIN_LEVEL","\tjr c, .load","\tld a, [hl]","\tcp e","\tjr c, .dont_load","\tld a, e","",".load","\tld [hl], a","",".dont_load","\tld [wCurPartyLevel], a","\tld hl, MON_MOVES","\tadd hl, bc","\tld d, NUM_MOVES - 1","\tld a, [hli]","\tand a","\tjr z, .not_move","\tcp NUM_ATTACKS + 1","\tjr nc, .not_move","\tjr .valid_move","",".not_move","\tdec hl","\tld a, POUND","\tld [hli], a","\txor a","\tld [hli], a","\tld [hli], a","\tld [hl], a","\tjr .done_moves","",".valid_move","\tld a, [hl]","\tcp NUM_ATTACKS + 1","\tjr c, .next","\tld [hl], $0","",".next","\tinc hl","\tdec d","\tjr nz, .valid_move","",".done_moves","\tld hl, MON_MAXHP","\tadd hl, bc","\tld d, h","\tld e, l","\tpush hl","\tpush de","\tld hl, MON_STAT_EXP - 1","\tadd hl, bc","\tld b, TRUE","\tpredef CalcMonStats","\tpop de","\tpop hl","\tdec de","\tdec de","\tld a, [hli]","\tld [de], a","\tinc de","\tld a, [hl]","\tld [de], a","\tpop hl","\tld bc, NICKNAMED_MON_STRUCT_LENGTH","\tadd hl, bc","\tpop de","\tdec d","\tjp nz, .pkmn_loop","\tret"],"name":"ValidateBTParty","file":"engine/events/battle_tower/battle_tower.asm","lineNo":386,"address":294116,"addressUsedBy":[]}