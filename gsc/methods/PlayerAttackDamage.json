{"names":["PlayerAttackDamage"],"callingMethods":["BattleCommand_ConstantDamage","BattleCommand_DamageStats"],"methodsCalled":["CheckDamageStatsCritical","DittoMetalPowder","LightBallBoost","ResetDamage","ThickClubBoost","TruncateHL_BC"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wBattleMonLevel","wEnemyScreens"],"varAddressesUsed":["wBattleMonAttack","wBattleMonSpclAtk","wEnemyDefense","wEnemyMonDefense","wEnemyMonSpclDef","wEnemySpDef","wPlayerAttack","wPlayerMoveStructPower","wPlayerSpAtk"],"constantsUsed":[],"lines":["PlayerAttackDamage:","; Return move power d, player level e, enemy defense c and player attack b.","","\tcall ResetDamage","","\tld hl, wPlayerMoveStructPower","\tld a, [hli]","\tand a","\tld d, a","\tret z","","\tld a, [hl]","\tcp SPECIAL","\tjr nc, .special","",".physical","\tld hl, wEnemyMonDefense","\tld a, [hli]","\tld b, a","\tld c, [hl]","","\tld a, [wEnemyScreens]","\tbit SCREENS_REFLECT, a","\tjr z, .physicalcrit","\tsla c","\trl b","",".physicalcrit","\tld hl, wBattleMonAttack","\tcall CheckDamageStatsCritical","\tjr c, .thickclub","","\tld hl, wEnemyDefense","\tld a, [hli]","\tld b, a","\tld c, [hl]","\tld hl, wPlayerAttack","\tjr .thickclub","",".special","\tld hl, wEnemyMonSpclDef","\tld a, [hli]","\tld b, a","\tld c, [hl]","","\tld a, [wEnemyScreens]","\tbit SCREENS_LIGHT_SCREEN, a","\tjr z, .specialcrit","\tsla c","\trl b","",".specialcrit","\tld hl, wBattleMonSpclAtk","\tcall CheckDamageStatsCritical","\tjr c, .lightball","","\tld hl, wEnemySpDef","\tld a, [hli]","\tld b, a","\tld c, [hl]","\tld hl, wPlayerSpAtk","",".lightball","; Note: Returns player special attack at hl in hl.","\tcall LightBallBoost","\tjr .done","",".thickclub","; Note: Returns player attack at hl in hl.","\tcall ThickClubBoost","",".done","\tcall TruncateHL_BC","","\tld a, [wBattleMonLevel]","\tld e, a","\tcall DittoMetalPowder","","\tld a, 1","\tand a","\tret"],"name":"PlayerAttackDamage","file":"engine/battle/effect_commands.asm","lineNo":2574,"address":118799,"addressUsedBy":[]}