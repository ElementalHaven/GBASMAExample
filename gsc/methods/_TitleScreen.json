{"names":["_TitleScreen"],"callingMethods":["Function10ed51"],"methodsCalled":["ByteFill","ChannelsOff","ClearBGPalettes","ClearSprites","ClearTilemap","CopyBytes","Decompress","DisableLCD","DrawTitleGraphic","EnableLCD","InitializeBackground","LoadSuicuneFrame","PlaySFX","SFXChannelsOff"],"methodAddressesUsed":[],"varsSet":["hBGMapMode","hCGBPalUpdate","hLCDCPointer","hSCX","hSCY","hWX","hWY","rLCDC","rSVBK","rVBK","wSuicuneFrame"],"varsUsed":["rLCDC","rSVBK"],"varAddressesUsed":["TitleScreenPalettes","vTiles0","vTiles1","wBGPals1","wBGPals2","wLYOverrides","wLYOverridesEnd"],"constantsUsed":["BG_MAP_WIDTH","NAME_LENGTH","SFX_TITLE_SCREEN_ENTRANCE","VRAM_BANK_1","palettes","rSCX"],"lines":["_TitleScreen:","\tcall ClearBGPalettes","\tcall ClearSprites","\tcall ClearTilemap","","; Turn BG Map update off","\txor a","\tldh [hBGMapMode], a","","; Reset timing variables","\tld hl, wJumptableIndex","\tld [hli], a ; wJumptableIndex","\tld [hli], a ; wIntroSceneFrameCounter","\tld [hli], a ; wTitleScreenTimer","\tld [hl], a  ; wTitleScreenTimer + 1","","; Turn LCD off","\tcall DisableLCD","","; VRAM bank 1","\tld a, 1","\tldh [rVBK], a","","; Decompress running Suicune gfx","\tld hl, TitleSuicuneGFX","\tld de, vTiles1","\tcall Decompress","","; Clear screen palettes","\thlbgcoord 0, 0","\tld bc, 20 * BG_MAP_WIDTH","\txor a","\tcall ByteFill","","; Fill tile palettes:","","; BG Map 1:","","; line 0 (copyright)","\thlbgcoord 0, 0, vBGMap1","\tld bc, BG_MAP_WIDTH","\tld a, 7 ; palette","\tcall ByteFill","","; BG Map 0:","","; Apply logo gradient:","","; lines 3-4","\thlbgcoord 0, 3","\tld bc, 2 * BG_MAP_WIDTH","\tld a, 2","\tcall ByteFill","; line 5","\thlbgcoord 0, 5","\tld bc, BG_MAP_WIDTH","\tld a, 3","\tcall ByteFill","; line 6","\thlbgcoord 0, 6","\tld bc, BG_MAP_WIDTH","\tld a, 4","\tcall ByteFill","; line 7","\thlbgcoord 0, 7","\tld bc, BG_MAP_WIDTH","\tld a, 5","\tcall ByteFill","; lines 8-9","\thlbgcoord 0, 8","\tld bc, 2 * BG_MAP_WIDTH","\tld a, 6","\tcall ByteFill","","; \u0027CRYSTAL VERSION\u0027","\thlbgcoord 5, 9","\tld bc, NAME_LENGTH ; length of version text","\tld a, 1","\tcall ByteFill","","; Suicune gfx","\thlbgcoord 0, 12","\tld bc, 6 * BG_MAP_WIDTH ; the rest of the screen","\tld a, 0 | VRAM_BANK_1","\tcall ByteFill","","; Back to VRAM bank 0","\tld a, $0","\tldh [rVBK], a","","; Decompress logo","\tld hl, TitleLogoGFX","\tld de, vTiles1","\tcall Decompress","","; Decompress background crystal","\tld hl, TitleCrystalGFX","\tld de, vTiles0","\tcall Decompress","","; Clear screen tiles","\thlbgcoord 0, 0","\tld bc, 64 * BG_MAP_WIDTH","\tld a, \" \"","\tcall ByteFill","","; Draw Pokemon logo","\thlcoord 0, 3","\tlb bc, 7, 20","\tld d, $80","\tld e, $14","\tcall DrawTitleGraphic","","; Draw copyright text","\thlbgcoord 3, 0, vBGMap1","\tlb bc, 1, 13","\tld d, $c","\tld e, $10","\tcall DrawTitleGraphic","","; Initialize running Suicune?","\tld d, $0","\tcall LoadSuicuneFrame","","; Initialize background crystal","\tcall InitializeBackground","","; Save WRAM bank","\tldh a, [rSVBK]","\tpush af","; WRAM bank 5","\tld a, BANK(wBGPals1)","\tldh [rSVBK], a","","; Update palette colors","\tld hl, TitleScreenPalettes","\tld de, wBGPals1","\tld bc, 16 palettes","\tcall CopyBytes","","\tld hl, TitleScreenPalettes","\tld de, wBGPals2","\tld bc, 16 palettes","\tcall CopyBytes","","; Restore WRAM bank","\tpop af","\tldh [rSVBK], a","","; LY/SCX trickery starts here","","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wLYOverrides)","\tldh [rSVBK], a","","; Make alternating lines come in from opposite sides","","; (This part is actually totally pointless, you can\u0027t",";  see anything until these values are overwritten!)","","\tld b, 80 / 2 ; alternate for 80 lines","\tld hl, wLYOverrides",".loop","; $00 is the middle position","\tld [hl], +112 ; coming from the left","\tinc hl","\tld [hl], -112 ; coming from the right","\tinc hl","\tdec b","\tjr nz, .loop","","; Make sure the rest of the buffer is empty","\tld hl, wLYOverrides + 80","\txor a","\tld bc, wLYOverridesEnd - (wLYOverrides + 80)","\tcall ByteFill","","; Let LCD Stat know we\u0027re messing around with SCX","\tld a, LOW(rSCX)","\tldh [hLCDCPointer], a","","\tpop af","\tldh [rSVBK], a","","; Reset audio","\tcall ChannelsOff","\tcall EnableLCD","","; Set sprite size to 8x16","\tldh a, [rLCDC]","\tset rLCDC_SPRITE_SIZE, a","\tldh [rLCDC], a","","\tld a, +112","\tldh [hSCX], a","\tld a, 8","\tldh [hSCY], a","\tld a, 7","\tldh [hWX], a","\tld a, -112","\tldh [hWY], a","","\tld a, $1","\tldh [hCGBPalUpdate], a","","; Update BG Map 0 (bank 0)","\tldh [hBGMapMode], a","","\txor a","\tld [wSuicuneFrame], a","","; Play starting sound effect","\tcall SFXChannelsOff","\tld de, SFX_TITLE_SCREEN_ENTRANCE","\tcall PlaySFX","","\tret"],"name":"_TitleScreen","file":"engine/movie/title.asm","lineNo":1,"address":267858,"addressUsedBy":["StartTitleScreen"]}