{"names":["Function90199"],"callingMethods":["PokegearPhone_MakePhoneCall"],"methodsCalled":["AddNTimes","CheckPhoneContactTimeOfDay","ExecuteCallbackScript","GetMapPhoneService"],"methodAddressesUsed":[],"varsSet":["wCurCaller","wPhoneCaller","wPhoneScriptBank"],"varsUsed":["wLinkMode","wMapGroup","wMapNumber"],"varAddressesUsed":["LoadOutOfAreaScript","LoadPhoneScriptBank","PhoneContacts","PhoneScript_JustTalkToThem"],"constantsUsed":["PHONE_CONTACT_MAP_GROUP","PHONE_CONTACT_MAP_NUMBER","PHONE_CONTACT_SCRIPT1_ADDR_LO","PHONE_CONTACT_SCRIPT1_BANK","PHONE_CONTACT_SCRIPT1_TIME","PHONE_CONTACT_SIZE"],"lines":["Function90199:","\t; Don\u0027t do the call if you\u0027re in a link communication","\tld a, [wLinkMode]","\tand a","\tjr nz, .OutOfArea","\t; If you\u0027re in an area without phone service, don\u0027t do the call","\tcall GetMapPhoneService","\tand a","\tjr nz, .OutOfArea","\t; If the person can\u0027t take a call at that time, don\u0027t do the call","\tld a, b","\tld [wCurCaller], a","\tld hl, PhoneContacts","\tld bc, PHONE_CONTACT_SIZE","\tcall AddNTimes","\tld d, h","\tld e, l","\tld hl, PHONE_CONTACT_SCRIPT1_TIME","\tadd hl, de","\tld a, [hl]","\tcall CheckPhoneContactTimeOfDay","\tjr z, .OutOfArea","\t; If we\u0027re in the same map as the person we\u0027re calling,","\t; use the \"Just talk to that person\" script.","\tld hl, PHONE_CONTACT_MAP_GROUP","\tadd hl, de","\tld a, [wMapGroup]","\tcp [hl]","\tjr nz, .GetPhoneScript","\tld hl, PHONE_CONTACT_MAP_NUMBER","\tadd hl, de","\tld a, [wMapNumber]","\tcp [hl]","\tjr nz, .GetPhoneScript","\tld b, BANK(PhoneScript_JustTalkToThem)","\tld hl, PhoneScript_JustTalkToThem","\tjr .DoPhoneCall","",".GetPhoneScript:","\tld hl, PHONE_CONTACT_SCRIPT1_BANK","\tadd hl, de","\tld b, [hl]","\tld hl, PHONE_CONTACT_SCRIPT1_ADDR_LO","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjr .DoPhoneCall","",".OutOfArea:","\tld b, BANK(LoadOutOfAreaScript)","\tld de, LoadOutOfAreaScript","\tcall ExecuteCallbackScript","\tret","",".DoPhoneCall:","\tld a, b","\tld [wPhoneScriptBank], a","\tld a, l","\tld [wPhoneCaller], a","\tld a, h","\tld [wPhoneCaller + 1], a","\tld b, BANK(LoadPhoneScriptBank)","\tld de, LoadPhoneScriptBank","\tcall ExecuteCallbackScript","\tret"],"name":"Function90199","file":"engine/phone/phone.asm","lineNo":314,"address":187198,"addressUsedBy":[]}