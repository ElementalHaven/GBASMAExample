{"names":["BattleCommand_Present"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","AnimateCurrentMoveEitherSide","AnimateFailedMove","BattleCommand_Stab","BattleCommand_SwitchTurn","BattleRandom","CallBattleCore","EndMoveEffect","FarCall","StdBattleTextbox","UpdateOpponentInParty","_CheckBattleScene"],"methodAddressesUsed":["AICheckEnemyMaxHP","AICheckPlayerMaxHP","GetQuarterMaxHP","RestoreHP"],"varsSet":["wPresentPower"],"varsUsed":["hBattleTurn","wAttackMissed","wLinkMode","wTypeMatchup"],"varAddressesUsed":["PresentPower"],"constantsUsed":[],"lines":["BattleCommand_Present:","; present","","\tld a, [wLinkMode]","\tcp LINK_COLOSSEUM","\tjr z, .colosseum_skippush","\tpush bc","\tpush de",".colosseum_skippush","","\tcall BattleCommand_Stab","","\tld a, [wLinkMode]","\tcp LINK_COLOSSEUM","\tjr z, .colosseum_skippop","\tpop de","\tpop bc",".colosseum_skippop","","\tld a, [wTypeMatchup]","\tand a","\tjp z, AnimateFailedMove","\tld a, [wAttackMissed]","\tand a","\tjp nz, AnimateFailedMove","","\tpush bc","\tcall BattleRandom","\tld b, a","\tld hl, PresentPower","\tld c, 0",".next","\tld a, [hli]","\tcp -1","\tjr z, .heal_effect","\tcp b","\tjr nc, .got_power","\tinc c","\tinc hl","\tjr .next","",".got_power","\tld a, c","\tld [wPresentPower], a","\tcall AnimateCurrentMoveEitherSide","\tld d, [hl]","\tpop bc","\tret","",".heal_effect","\tpop bc","\tld a, 3","\tld [wPresentPower], a","\tcall AnimateCurrentMove","\tcall BattleCommand_SwitchTurn","\tld hl, AICheckPlayerMaxHP","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_hp_fn_pointer","\tld hl, AICheckEnemyMaxHP",".got_hp_fn_pointer","\tld a, BANK(AICheckPlayerMaxHP) ; aka BANK(AICheckEnemyMaxHP)","\trst FarCall","\tjr c, .already_fully_healed","","\tld hl, GetQuarterMaxHP","\tcall CallBattleCore","\tcall BattleCommand_SwitchTurn","\tld hl, RestoreHP","\tcall CallBattleCore","\tcall BattleCommand_SwitchTurn","\tld hl, RegainedHealthText","\tcall StdBattleTextbox","\tcall BattleCommand_SwitchTurn","\tcall UpdateOpponentInParty","\tjr .do_animation","",".already_fully_healed","\tcall BattleCommand_SwitchTurn","\tcall _CheckBattleScene","\tjr nc, .do_animation","\tcall AnimateFailedMove","\tld hl, RefusedGiftText","\tcall StdBattleTextbox",".do_animation","\tjp EndMoveEffect"],"name":"BattleCommand_Present","file":"engine/battle/move_effects/present.asm","lineNo":1,"address":123668,"addressUsedBy":[]}