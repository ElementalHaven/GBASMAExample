{"names":["SpikesDamage"],"callingMethods":["BattleMonEntrance","DetermineMoveOrder","DoBattle","EnemyMonEntrance","EnemyPartyMonEntrance","ForcePlayerMonChoice","PassedBattleMonEntrance","PlayerPartyMonEntrance"],"methodsCalled":["GetEighthMaxHP","StdBattleTextbox","SubtractHPFromTarget","WaitBGMap"],"methodAddressesUsed":["UpdateEnemyHUD","UpdatePlayerHUD"],"varsSet":[],"varsUsed":["hBattleTurn"],"varAddressesUsed":["wEnemyScreens","wPlayerScreens"],"constantsUsed":[],"lines":["SpikesDamage:","\tld hl, wPlayerScreens","\tld de, wBattleMonType","\tld bc, UpdatePlayerHUD","\tldh a, [hBattleTurn]","\tand a","\tjr z, .ok","\tld hl, wEnemyScreens","\tld de, wEnemyMonType","\tld bc, UpdateEnemyHUD",".ok","","\tbit SCREENS_SPIKES, [hl]","\tret z","","\t; Flying-types aren\u0027t affected by Spikes.","\tld a, [de]","\tcp FLYING","\tret z","\tinc de","\tld a, [de]","\tcp FLYING","\tret z","","\tpush bc","","\tld hl, BattleText_UserHurtBySpikes ; \"hurt by SPIKES!\"","\tcall StdBattleTextbox","","\tcall GetEighthMaxHP","\tcall SubtractHPFromTarget","","\tpop hl","\tcall .hl","","\tjp WaitBGMap","",".hl","\tjp hl"],"name":"SpikesDamage","file":"engine/battle/core.asm","lineNo":4100,"address":137451,"addressUsedBy":["BattleCommand_BatonPass","BattleCommand_ForceSwitch"]}