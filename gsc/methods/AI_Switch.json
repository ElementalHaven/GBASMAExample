{"names":["AI_Switch"],"callingMethods":["AI_TrySwitch"],"methodsCalled":["AddNTimes","CopyBytes","FarCall","PrintText"],"methodAddressesUsed":["EnemySwitch","NewEnemyMonStatus","PursuitSwitch","ResetBattleParticipants","ResetEnemyStatLevels"],"varsSet":["hBattleTurn","wBattleHasJustStarted","wEnemyGoesFirst","wEnemyIsSwitching"],"varsUsed":["wCurOTMon","wLinkMode"],"varAddressesUsed":["EnemyWithdrewText","wEnemyMonStatus","wEnemySubStatus4","wOTPartyMon1Status","wPlayerSubStatus1"],"constantsUsed":["MON_MAXHP","MON_STATUS","PARTYMON_STRUCT_LENGTH"],"lines":["AI_Switch:","\tld a, $1","\tld [wEnemyIsSwitching], a","\tld [wEnemyGoesFirst], a","\tld hl, wEnemySubStatus4","\tres SUBSTATUS_RAGE, [hl]","\txor a","\tldh [hBattleTurn], a","\tcallfar PursuitSwitch","","\tpush af","\tld a, [wCurOTMon]","\tld hl, wOTPartyMon1Status","\tld bc, PARTYMON_STRUCT_LENGTH","\tcall AddNTimes","\tld d, h","\tld e, l","\tld hl, wEnemyMonStatus","\tld bc, MON_MAXHP - MON_STATUS","\tcall CopyBytes","\tpop af","","\tjr c, .skiptext","\tld hl, EnemyWithdrewText","\tcall PrintText","",".skiptext","\tld a, 1","\tld [wBattleHasJustStarted], a","\tcallfar NewEnemyMonStatus","\tcallfar ResetEnemyStatLevels","\tld hl, wPlayerSubStatus1","\tres SUBSTATUS_IN_LOVE, [hl]","\tfarcall EnemySwitch","\tfarcall ResetBattleParticipants","\txor a","\tld [wBattleHasJustStarted], a","\tld a, [wLinkMode]","\tand a","\tret nz","\tscf","\tret"],"name":"AI_Switch","file":"engine/battle/ai/items.asm","lineNo":667,"address":125038,"addressUsedBy":["EnemyMonEntrance","DetermineMoveOrder"]}