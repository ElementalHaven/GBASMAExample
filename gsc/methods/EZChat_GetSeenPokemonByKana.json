{"names":["EZChat_GetSeenPokemonByKana"],"callingMethods":["Function11c1b9"],"methodsCalled":["CheckSeenMon"],"methodAddressesUsed":[],"varsSet":["rSVBK","wcd2d","wcd2e","wcd2f","wcd30","wcd31","wcd32","wcd33","wcd34"],"varsUsed":["rSVBK","wcd2d","wcd2e","wcd2f","wcd30","wcd31","wcd32","wcd33","wcd34"],"varAddressesUsed":["EZChat_SortedPokemon","w3_d000","w5_d800","wc648","wc64a","wc6a8"],"constantsUsed":["rSVBK"],"lines":["EZChat_GetSeenPokemonByKana:","\tldh a, [rSVBK]","\tpush af","\tld hl, wc648","\tld a, LOW(w5_d800)","\tld [wcd2d], a","\tld [hli], a","\tld a, HIGH(w5_d800)","\tld [wcd2e], a","\tld [hl], a","","\tld a, LOW(EZChat_SortedPokemon)","\tld [wcd2f], a","\tld a, HIGH(EZChat_SortedPokemon)","\tld [wcd30], a","","\tld a, LOW(wc6a8)","\tld [wcd31], a","\tld a, HIGH(wc6a8)","\tld [wcd32], a","","\tld a, LOW(wc64a)","\tld [wcd33], a","\tld a, HIGH(wc64a)","\tld [wcd34], a","","\tld hl, EZChat_SortedWords","\tld a, (EZChat_SortedWords.End - EZChat_SortedWords) / 4","",".MasterLoop:","\tpush af","; read row","; offset","\tld a, [hli]","\tld e, a","\tld a, [hli]","\tld d, a","; size","\tld a, [hli]","\tld c, a","\tld a, [hli]","\tld b, a","; save the pointer to the next row","\tpush hl","; add de to w3_d000","\tld hl, w3_d000","\tadd hl, de","; recover de from wcd2d (default: w5_d800)","\tld a, [wcd2d]","\tld e, a","\tld a, [wcd2e]","\tld d, a","; save bc for later","\tpush bc","",".loop1","; copy 2*bc bytes from 3:hl to 5:de","\tld a, $3","\tldh [rSVBK], a","\tld a, [hli]","\tpush af","\tld a, $5","\tldh [rSVBK], a","\tpop af","\tld [de], a","\tinc de","","\tld a, $3","\tldh [rSVBK], a","\tld a, [hli]","\tpush af","\tld a, $5","\tldh [rSVBK], a","\tpop af","\tld [de], a","\tinc de","","\tdec bc","\tld a, c","\tor b","\tjr nz, .loop1","","; recover the pointer from wcd2f (default: EZChat_SortedPokemon)","\tld a, [wcd2f]","\tld l, a","\tld a, [wcd30]","\tld h, a","; copy the pointer from [hl] to bc","\tld a, [hli]","\tld c, a","\tld a, [hli]","\tld b, a","; store the pointer to the next pointer back in wcd2f","\tld a, l","\tld [wcd2f], a","\tld a, h","\tld [wcd30], a","; push pop that pointer to hl","\tpush bc","\tpop hl","\tld c, $0",".loop2","; Have you seen this Pokemon?","\tld a, [hl]","\tcp $ff","\tjr z, .done","\tcall .CheckSeenMon","\tjr nz, .next","; If not, skip it.","\tinc hl","\tjr .loop2","",".next","; If so, append it to the list at 5:de, and increase the count.","\tld a, [hli]","\tld [de], a","\tinc de","\txor a","\tld [de], a","\tinc de","\tinc c","\tjr .loop2","",".done","; Remember the original value of bc from the table?","; Well, the stack remembers it, and it\u0027s popping it to hl.","\tpop hl","; Add the number of seen Pokemon from the list.","\tld b, $0","\tadd hl, bc","; Push pop to bc.","\tpush hl","\tpop bc","; Load the pointer from [wcd31] (default: wc6a8)","\tld a, [wcd31]","\tld l, a","\tld a, [wcd32]","\tld h, a","; Save the quantity from bc to [hl]","\tld a, c","\tld [hli], a","\tld a, b","\tld [hli], a","; Save the new value of hl to [wcd31]","\tld a, l","\tld [wcd31], a","\tld a, h","\tld [wcd32], a","; Recover the pointer from [wcd33] (default: wc64a)","\tld a, [wcd33]","\tld l, a","\tld a, [wcd34]","\tld h, a","; Save the current value of de there","\tld a, e","\tld [wcd2d], a","\tld [hli], a","\tld a, d","\tld [wcd2e], a","; Save the new value of hl back to [wcd33]","\tld [hli], a","\tld a, l","\tld [wcd33], a","\tld a, h","\tld [wcd34], a","; Next row","\tpop hl","\tpop af","\tdec a","\tjr z, .ExitMasterLoop","\tjp .MasterLoop","",".ExitMasterLoop:","\tpop af","\tldh [rSVBK], a","\tret","",".CheckSeenMon:","\tpush hl","\tpush bc","\tpush de","\tdec a","\tld hl, rSVBK","\tld e, $1","\tld [hl], e","\tcall CheckSeenMon","\tld hl, rSVBK","\tld e, $5","\tld [hl], e","\tpop de","\tpop bc","\tpop hl","\tret"],"name":"EZChat_GetSeenPokemonByKana","file":"mobile/fixed_words.asm","lineNo":2959,"address":286713,"addressUsedBy":[]}