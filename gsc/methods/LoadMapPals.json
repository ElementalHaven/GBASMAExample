{"names":["LoadMapPals"],"callingMethods":["_CGB_MapPals"],"methodsCalled":["AddNTimes","FarCall","FarCopyWRAM"],"methodAddressesUsed":["LoadSpecialMapPalette"],"varsSet":["rSVBK"],"varsUsed":["rSVBK","wEnvironment","wMapGroup","wTimeOfDayPal"],"varAddressesUsed":["EnvironmentColorsPointers","MapObjectPals","RoofPals","TilesetBGPalette","wBGPals1","wOBPals1"],"constantsUsed":["PAL_BG_ROOF","color","palette","palettes"],"lines":["\tfarcall LoadSpecialMapPalette","\tjr c, .got_pals","","\t; Which palette group is based on whether we\u0027re outside or inside","\tld a, [wEnvironment]","\tand 7","\tld e, a","\tld d, 0","\tld hl, EnvironmentColorsPointers","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\t; Futher refine by time of day","\tld a, [wTimeOfDayPal]","\tmaskbits NUM_DAYTIMES","\tadd a","\tadd a","\tadd a","\tld e, a","\tld d, 0","\tadd hl, de","\tld e, l","\tld d, h","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wBGPals1)","\tldh [rSVBK], a","\tld hl, wBGPals1","\tld b, 8",".outer_loop","\tld a, [de] ; lookup index for TilesetBGPalette","\tpush de","\tpush hl","\tld l, a","\tld h, 0","\tadd hl, hl","\tadd hl, hl","\tadd hl, hl","\tld de, TilesetBGPalette","\tadd hl, de","\tld e, l","\tld d, h","\tpop hl","\tld c, 1 palettes",".inner_loop","\tld a, [de]","\tinc de","\tld [hli], a","\tdec c","\tjr nz, .inner_loop","\tpop de","\tinc de","\tdec b","\tjr nz, .outer_loop","\tpop af","\tldh [rSVBK], a","",".got_pals","\tld a, [wTimeOfDayPal]","\tmaskbits NUM_DAYTIMES","\tld bc, 8 palettes","\tld hl, MapObjectPals","\tcall AddNTimes","\tld de, wOBPals1","\tld bc, 8 palettes","\tld a, BANK(wOBPals1)","\tcall FarCopyWRAM","","\tld a, [wEnvironment]","\tcp TOWN","\tjr z, .outside","\tcp ROUTE","\tret nz",".outside","\tld a, [wMapGroup]","\tld l, a","\tld h, 0","\tadd hl, hl","\tadd hl, hl","\tadd hl, hl","\tld de, RoofPals","\tadd hl, de","\tld a, [wTimeOfDayPal]","\tmaskbits NUM_DAYTIMES","\tcp NITE_F","\tjr c, .morn_day","rept 4","\tinc hl","endr",".morn_day","\tld de, wBGPals1 palette PAL_BG_ROOF color 1","\tld bc, 4","\tld a, BANK(wBGPals1)","\tcall FarCopyWRAM","\tret"],"name":"LoadMapPals","lineNo":1,"address":71993,"addressUsedBy":[]}