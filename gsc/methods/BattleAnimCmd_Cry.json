{"names":["BattleAnimCmd_Cry"],"callingMethods":[],"methodsCalled":["FarCall","GetBattleAnimByte","LoadCry"],"methodAddressesUsed":[],"varsSet":["rSVBK","wCryLength","wCryPitch","wCryTracks","wStereoPanningMask"],"varsUsed":["hBattleTurn","rSVBK","wBattleMonSpecies","wEnemyMonSpecies"],"varAddressesUsed":["wCryLength","wCryPitch"],"constantsUsed":[],"lines":["BattleAnimCmd_Cry:","\tcall GetBattleAnimByte","\tmaskbits NUM_NOISE_CHANS","\tld e, a","\tld d, 0","\tld hl, .CryData","rept 4","\tadd hl, de","endr","","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wEnemyMon) ; wBattleMon is in WRAM0, but wEnemyMon is in WRAMX","\tldh [rSVBK], a","","\tldh a, [hBattleTurn]","\tand a","\tjr nz, .enemy","","\tld a, $f0","\tld [wCryTracks], a","\tld a, [wBattleMonSpecies]","\tjr .done_cry_tracks","",".enemy","\tld a, $0f","\tld [wCryTracks], a","\tld a, [wEnemyMonSpecies]","",".done_cry_tracks","\tpush hl","\tcall LoadCry","\tpop hl","\tjr c, .done","","\tld a, [hli]","\tld c, a","\tld a, [hli]","\tld b, a","","\tpush hl","\tld hl, wCryPitch","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tadd hl, bc","\tld a, l","\tld [wCryPitch], a","\tld a, h","\tld [wCryPitch + 1], a","\tpop hl","","\tld a, [hli]","\tld c, a","\tld b, [hl]","\tld hl, wCryLength","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tadd hl, bc","","\tld a, l","\tld [wCryLength], a","\tld a, h","\tld [wCryLength + 1], a","\tld a, 1","\tld [wStereoPanningMask], a","","\tcallfar _PlayCry","",".done","\tpop af","\tldh [rSVBK], a","\tret","",".CryData:","; +pitch, +length","\tdw $0000, $00c0","\tdw $0000, $0040","\tdw $0000, $0000","\tdw $0000, $0000"],"name":"BattleAnimCmd_Cry","file":"engine/battle_anims/anim_commands.asm","lineNo":1222,"address":224526,"addressUsedBy":[]}