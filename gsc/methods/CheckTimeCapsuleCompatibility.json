{"names":["CheckTimeCapsuleCompatibility"],"callingMethods":[],"methodsCalled":["CopyName1","FarCall","Function29c67","GetMoveName","GetPokemonName"],"methodAddressesUsed":["ItemIsMail"],"varsSet":["wNamedObjectIndexBuffer","wScriptVar"],"varsUsed":["wPartyCount"],"varAddressesUsed":["wPartyMon1Item","wPartyMon1Moves","wPartySpecies"],"constantsUsed":["NUM_MOVES","PARTYMON_STRUCT_LENGTH","PARTY_LENGTH"],"lines":["CheckTimeCapsuleCompatibility:","; Checks to see if your party is compatible with the Gen 1 games.","; Returns the following in wScriptVar:","; 0: Party is okay","; 1: At least one Pokémon was introduced in Gen 2","; 2: At least one Pokémon has a move that was introduced in Gen 2","; 3: At least one Pokémon is holding mail","","; If any party Pokémon was introduced in the Gen 2 games, don\u0027t let it in.","\tld hl, wPartySpecies","\tld b, PARTY_LENGTH",".loop","\tld a, [hli]","\tcp -1","\tjr z, .checkitem","\tcp JOHTO_POKEMON","\tjr nc, .mon_too_new","\tdec b","\tjr nz, .loop","","; If any party Pokémon is holding mail, don\u0027t let it in.",".checkitem","\tld a, [wPartyCount]","\tld b, a","\tld hl, wPartyMon1Item",".itemloop","\tpush hl","\tpush bc","\tld d, [hl]","\tfarcall ItemIsMail","\tpop bc","\tpop hl","\tjr c, .mon_has_mail","\tld de, PARTYMON_STRUCT_LENGTH","\tadd hl, de","\tdec b","\tjr nz, .itemloop","","; If any party Pokémon has a move that was introduced in the Gen 2 games, don\u0027t let it in.","\tld hl, wPartyMon1Moves","\tld a, [wPartyCount]","\tld b, a",".move_loop","\tld c, NUM_MOVES",".move_next","\tld a, [hli]","\tcp STRUGGLE + 1","\tjr nc, .move_too_new","\tdec c","\tjr nz, .move_next","\tld de, PARTYMON_STRUCT_LENGTH - NUM_MOVES","\tadd hl, de","\tdec b","\tjr nz, .move_loop","\txor a","\tjr .done","",".mon_too_new","\tld [wNamedObjectIndexBuffer], a","\tcall GetPokemonName","\tld a, $1","\tjr .done","",".move_too_new","\tpush bc","\tld [wNamedObjectIndexBuffer], a","\tcall GetMoveName","\tcall CopyName1","\tpop bc","\tcall Function29c67","\tld a, $2","\tjr .done","",".mon_has_mail","\tcall Function29c67","\tld a, $3","",".done","\tld [wScriptVar], a","\tret"],"name":"CheckTimeCapsuleCompatibility","file":"engine/link/link.asm","lineNo":1988,"address":105447,"addressUsedBy":[]}