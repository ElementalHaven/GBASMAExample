{"names":["TeleportFunction"],"callingMethods":[],"methodsCalled":["CheckOutdoorMap","FarCall","FieldMoveJumptable","FieldMoveJumptableReset","GetMapEnvironment","GetPartyNick","MenuTextboxBackup","QueueScript"],"methodAddressesUsed":["IsSpawnPoint"],"varsSet":["wDefaultSpawnpoint","wFieldMoveSucceeded"],"varsUsed":["wLastSpawnMapGroup","wLastSpawnMapNumber"],"varAddressesUsed":[],"constantsUsed":[],"lines":["TeleportFunction:","\tcall FieldMoveJumptableReset",".loop","\tld hl, .Jumptable","\tcall FieldMoveJumptable","\tjr nc, .loop","\tand $7f","\tld [wFieldMoveSucceeded], a","\tret","",".Jumptable:","\tdw .TryTeleport","\tdw .DoTeleport","\tdw .FailTeleport","",".TryTeleport:","\tcall GetMapEnvironment","\tcall CheckOutdoorMap","\tjr z, .CheckIfSpawnPoint","\tjr .nope","",".CheckIfSpawnPoint:","\tld a, [wLastSpawnMapGroup]","\tld d, a","\tld a, [wLastSpawnMapNumber]","\tld e, a","\tfarcall IsSpawnPoint","\tjr nc, .nope","\tld a, c","\tld [wDefaultSpawnpoint], a","\tld a, $1","\tret","",".nope","\tld a, $2","\tret","",".DoTeleport:","\tcall GetPartyNick","\tld hl, .TeleportScript","\tcall QueueScript","\tld a, $81","\tret","",".FailTeleport:","\tld hl, .CantUseTeleportText","\tcall MenuTextboxBackup","\tld a, $80","\tret","",".TeleportReturnText:","\ttext_far _TeleportReturnText","\ttext_end","",".CantUseTeleportText:","\ttext_far _CantUseTeleportText","\ttext_end","",".TeleportScript:","\treloadmappart","\tspecial UpdateTimePals","\twritetext .TeleportReturnText","\tpause 60","\treloadmappart","\tclosetext","\tplaysound SFX_WARP_TO","\tapplymovement PLAYER, .TeleportFrom","\tfarscall Script_AbortBugContest","\tspecial WarpToSpawnPoint","\tloadvar VAR_MOVEMENT, PLAYER_NORMAL","\tnewloadmap MAPSETUP_TELEPORT","\tplaysound SFX_WARP_FROM","\tapplymovement PLAYER, .TeleportTo","\tend","",".TeleportFrom:","\tteleport_from","\tstep_end","",".TeleportTo:","\tteleport_to","\tstep_end"],"name":"TeleportFunction","file":"engine/events/overworld.asm","lineNo":878,"address":74912,"addressUsedBy":["MonMenu_Teleport"]}