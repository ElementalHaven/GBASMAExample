{"names":["AI_TryItem"],"callingMethods":["DontSwitch"],"methodsCalled":["AddNTimes"],"methodAddressesUsed":["AI_Items"],"varsSet":["wEnemyFuryCutterCount","wEnemyGoesFirst","wEnemyProtectCount","wEnemyRageCounter","wLastEnemyCounterMove"],"varsUsed":["wCurOTMon","wEnemyTrainerItem1","wEnemyTrainerItem2","wInBattleTowerBattle","wOTPartyCount","wTrainerClass"],"varAddressesUsed":["TrainerClassAttributes","wEnemySubStatus3","wEnemySubStatus4","wEnemyTrainerItem1","wOTPartyMon1Level"],"constantsUsed":["NUM_TRAINER_ATTRIBUTES","PARTYMON_STRUCT_LENGTH","TRNATTR_AI_ITEM_SWITCH"],"lines":["AI_TryItem:","\t; items are not allowed in the BattleTower","\tld a, [wInBattleTowerBattle]","\tand a","\tret nz","","\tld a, [wEnemyTrainerItem1]","\tld b, a","\tld a, [wEnemyTrainerItem2]","\tor b","\tret z","","\tcall .IsHighestLevel","\tret nc","","\tld a, [wTrainerClass]","\tdec a","\tld hl, TrainerClassAttributes + TRNATTR_AI_ITEM_SWITCH","\tld bc, NUM_TRAINER_ATTRIBUTES","\tcall AddNTimes","\tld b, h","\tld c, l","\tld hl, AI_Items","\tld de, wEnemyTrainerItem1",".loop","\tld a, [hl]","\tand a","\tinc a","\tret z","","\tld a, [de]","\tcp [hl]","\tjr z, .has_item","\tinc de","\tld a, [de]","\tcp [hl]","\tjr z, .has_item","","\tdec de","\tinc hl","\tinc hl","\tinc hl","\tjr .loop","",".has_item","\tinc hl","","\tpush hl","\tpush de","\tld de, .callback","\tpush de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjp hl",".callback","\tpop de","\tpop hl","","\tinc hl","\tinc hl","\tjr c, .loop","",".used_item","\txor a","\tld [de], a","\tinc a","\tld [wEnemyGoesFirst], a","","\tld hl, wEnemySubStatus3","\tres SUBSTATUS_BIDE, [hl]","","\txor a","\tld [wEnemyFuryCutterCount], a","\tld [wEnemyProtectCount], a","\tld [wEnemyRageCounter], a","","\tld hl, wEnemySubStatus4","\tres SUBSTATUS_RAGE, [hl]","","\txor a","\tld [wLastEnemyCounterMove], a","","\tscf","\tret","",".IsHighestLevel:","\tld a, [wOTPartyCount]","\tld d, a","\tld e, 0","\tld hl, wOTPartyMon1Level","\tld bc, PARTYMON_STRUCT_LENGTH",".next","\tld a, [hl]","\tcp e","\tjr c, .ok","\tld e, a",".ok","\tadd hl, bc","\tdec d","\tjr nz, .next","","\tld a, [wCurOTMon]","\tld hl, wOTPartyMon1Level","\tcall AddNTimes","\tld a, [hl]","\tcp e","\tjr nc, .yes","",".no","\tand a","\tret","",".yes","\tscf","\tret"],"name":"AI_TryItem","file":"engine/battle/ai/items.asm","lineNo":153,"address":124601,"addressUsedBy":[]}