{"names":["PrintPCBox"],"callingMethods":[],"methodsCalled":["DelayFrames","PrintPCBox_Page1","PrintPCBox_Page2","PrintPCBox_Page3","PrintPCBox_Page4","Printer_CleanUpAfterSend","Printer_ExitPrinter","Printer_PlayMusic","Printer_PrepareTilemapForPrint","Printer_ResetRegistersAndStartDataSend"],"methodAddressesUsed":[],"varsSet":["hBGMapMode","hPrinter","hVBlank","rIE","rIF","wAddrOfBoxToPrint","wBankOfBoxToPrint","wFinishedPrintingBox","wPrinterQueueLength","wWhichBoxToPrint"],"varsUsed":["rIE","wPrinterQueueLength"],"varAddressesUsed":["hVBlank"],"constantsUsed":["SERIAL","VBLANK"],"lines":["PrintPCBox:","\tld a, [wPrinterQueueLength]","\tpush af","\tld a, 18 / 2","\tld [wPrinterQueueLength], a","","\tld a, e","\tld [wAddrOfBoxToPrint], a","\tld a, d","\tld [wAddrOfBoxToPrint + 1], a","\tld a, b","\tld [wBankOfBoxToPrint], a","\tld a, c","\tld [wWhichBoxToPrint], a","","\txor a","\tldh [hPrinter], a","\tld [wFinishedPrintingBox], a","\tcall Printer_PlayMusic","","\tldh a, [rIE]","\tpush af","\txor a","\tldh [rIF], a","\tld a, (1 \u003c\u003c SERIAL) | (1 \u003c\u003c VBLANK)","\tldh [rIE], a","","\tld hl, hVBlank","\tld a, [hl]","\tpush af","\tld [hl], $4","","\txor a","\tldh [hBGMapMode], a","\tcall PrintPCBox_Page1","\tln a, 1, 0 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tcall Printer_ResetRegistersAndStartDataSend","\tjr c, .cancel","","\tcall Printer_CleanUpAfterSend","\tld c, 12","\tcall DelayFrames","\txor a","\tldh [hBGMapMode], a","\tcall PrintPCBox_Page2","\tln a, 0, 0 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tcall Printer_ResetRegistersAndStartDataSend","\tjr c, .cancel","","\tcall Printer_CleanUpAfterSend","\tld c, 12","\tcall DelayFrames","","\txor a","\tldh [hBGMapMode], a","\tcall PrintPCBox_Page3","\tln a, 0, 0 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tcall Printer_ResetRegistersAndStartDataSend","\tjr c, .cancel","","\tcall Printer_CleanUpAfterSend","\tld c, 12","\tcall DelayFrames","","\txor a","\tldh [hBGMapMode], a","\tcall PrintPCBox_Page4","\tln a, 0, 3 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tcall Printer_ResetRegistersAndStartDataSend",".cancel","\tpop af","\tldh [hVBlank], a","\tcall Printer_CleanUpAfterSend","","\txor a","\tldh [rIF], a","\tpop af","\tldh [rIE], a","\tcall Printer_ExitPrinter","","\tpop af","\tld [wPrinterQueueLength], a","\tret"],"name":"PrintPCBox","file":"engine/printer/printer.asm","lineNo":119,"address":173691,"addressUsedBy":["BillsPC_ChangeBoxSubmenu"]}