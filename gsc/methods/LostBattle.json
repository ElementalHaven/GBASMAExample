{"names":["LostBattle"],"callingMethods":["DoBattle","HandleEnemyMonFaint","HandlePlayerMonFaint"],"methodsCalled":["BattleWinSlideInEnemyTrainerFrontpic","CheckEnemyTrainerDefeated","ClearBGPalettes","ClearBox","ClearTilemap","DelayFrames","EmptyBattleTextbox","FarCall","GetSGBLayout","IsMobileBattle","PrintWinLossText","SetPalettes","StdBattleTextbox","UpdateEnemyMonInParty","WaitPressAorB_BlinkCursor"],"methodAddressesUsed":["BattleTowerText","Mobile_PrintOpponentBattleMessage"],"varsSet":["wBattleEnded","wBattleResult"],"varsUsed":["wBattleResult","wBattleType","wDebugFlags","wInBattleTowerBattle","wLinkMode"],"varAddressesUsed":[],"constantsUsed":["BATTLETOWERTEXT_WIN_TEXT","SCGB_BATTLE_GRAYSCALE"],"lines":["LostBattle:","\tld a, 1","\tld [wBattleEnded], a","","\tld a, [wInBattleTowerBattle]","\tbit 0, a","\tjr nz, .battle_tower","","\tld a, [wBattleType]","\tcp BATTLETYPE_CANLOSE","\tjr nz, .not_canlose","","; Remove the enemy from the screen.","\thlcoord 0, 0","\tlb bc, 8, 21","\tcall ClearBox","\tcall BattleWinSlideInEnemyTrainerFrontpic","","\tld c, 40","\tcall DelayFrames","","\tld a, [wDebugFlags]","\tbit DEBUG_BATTLE_F, a","\tjr nz, .skip_win_loss_text","\tcall PrintWinLossText",".skip_win_loss_text","\tret","",".battle_tower","; Remove the enemy from the screen.","\thlcoord 0, 0","\tlb bc, 8, 21","\tcall ClearBox","\tcall BattleWinSlideInEnemyTrainerFrontpic","","\tld c, 40","\tcall DelayFrames","","\tcall EmptyBattleTextbox","\tld c, BATTLETOWERTEXT_WIN_TEXT","\tfarcall BattleTowerText","\tcall WaitPressAorB_BlinkCursor","\tcall ClearTilemap","\tcall ClearBGPalettes","\tret","",".not_canlose","\tld a, [wLinkMode]","\tand a","\tjr nz, .LostLinkBattle","","; Greyscale","\tld b, SCGB_BATTLE_GRAYSCALE","\tcall GetSGBLayout","\tcall SetPalettes","\tjr .end","",".LostLinkBattle:","\tcall UpdateEnemyMonInParty","\tcall CheckEnemyTrainerDefeated","\tjr nz, .not_tied","\tld hl, TiedAgainstText","\tld a, [wBattleResult]","\tand BATTLERESULT_BITMASK","\tadd DRAW","\tld [wBattleResult], a","\tjr .text","",".not_tied","\tld hl, LostAgainstText","\tcall IsMobileBattle","\tjr z, .mobile","",".text","\tcall StdBattleTextbox","",".end","\tscf","\tret","",".mobile","; Remove the enemy from the screen.","\thlcoord 0, 0","\tlb bc, 8, 21","\tcall ClearBox","\tcall BattleWinSlideInEnemyTrainerFrontpic","","\tld c, 40","\tcall DelayFrames","","\tld c, $3 ; lost","\tfarcall Mobile_PrintOpponentBattleMessage","\tscf","\tret"],"name":"LostBattle","file":"engine/battle/core.asm","lineNo":2903,"address":136454,"addressUsedBy":[]}