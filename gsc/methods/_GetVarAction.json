{"names":["_GetVarAction"],"callingMethods":[],"methodsCalled":["CloseSRAM","CountSetBits","GetWeekday","OpenSRAM","_de_"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wBattleResult","wNumSetBits","wPlayerDirection"],"varAddressesUsed":["sBoxCount","wPokedexCaught","wPokedexSeen","wStringBuffer2","wUnownDex"],"constantsUsed":["MONS_PER_BOX"],"lines":["_GetVarAction::","\tld a, c","\tcp NUM_VARS","\tjr c, .valid","\txor a",".valid","\tld c, a","\tld b, 0","\tld hl, .VarActionTable","\tadd hl, bc","\tadd hl, bc","\tadd hl, bc","\tld e, [hl]","\tinc hl","\tld d, [hl]","\tinc hl","\tld b, [hl]","\tld a, b","\tand RETVAR_EXECUTE","\tjr nz, .call","\tld a, b","\tand RETVAR_ADDR_DE","\tret nz","\tld a, [de]","\tjr .loadstringbuffer2","",".call","\tcall _de_","\tret","",".loadstringbuffer2","\tld de, wStringBuffer2","\tld [de], a","\tret","",".VarActionTable:","; entries correspond to VAR_* constants","\t; RETVAR_STRBUF2: copy [de] to wStringBuffer2","\t; RETVAR_ADDR_DE: return address in de","\t; RETVAR_EXECUTE: call function","\tdwb wStringBuffer2,                 RETVAR_STRBUF2","\tdwb wPartyCount,                    RETVAR_STRBUF2","\tdwb .BattleResult,                  RETVAR_EXECUTE","\tdwb wBattleType,                    RETVAR_ADDR_DE","\tdwb wTimeOfDay,                     RETVAR_STRBUF2","\tdwb .CountCaughtMons,               RETVAR_EXECUTE","\tdwb .CountSeenMons,                 RETVAR_EXECUTE","\tdwb .CountBadges,                   RETVAR_EXECUTE","\tdwb wPlayerState,                   RETVAR_ADDR_DE","\tdwb .PlayerFacing,                  RETVAR_EXECUTE","\tdwb hHours,                         RETVAR_STRBUF2","\tdwb .DayOfWeek,                     RETVAR_EXECUTE","\tdwb wMapGroup,                      RETVAR_STRBUF2","\tdwb wMapNumber,                     RETVAR_STRBUF2","\tdwb .UnownCaught,                   RETVAR_EXECUTE","\tdwb wEnvironment,                   RETVAR_STRBUF2","\tdwb .BoxFreeSpace,                  RETVAR_EXECUTE","\tdwb wBugContestMinsRemaining,       RETVAR_STRBUF2","\tdwb wXCoord,                        RETVAR_STRBUF2","\tdwb wYCoord,                        RETVAR_STRBUF2","\tdwb wSpecialPhoneCallID,            RETVAR_STRBUF2","\tdwb wNrOfBeatenBattleTowerTrainers, RETVAR_STRBUF2","\tdwb wKurtApricornQuantity,          RETVAR_STRBUF2","\tdwb wCurCaller,                     RETVAR_ADDR_DE","\tdwb wBlueCardBalance,               RETVAR_ADDR_DE","\tdwb wBuenasPassword,                RETVAR_ADDR_DE","\tdwb wKenjiBreakTimer,               RETVAR_STRBUF2","\tdwb NULL,                           RETVAR_STRBUF2","",".CountCaughtMons:","; Caught mons.","\tld hl, wPokedexCaught","\tld b, wEndPokedexCaught - wPokedexCaught","\tcall CountSetBits","\tld a, [wNumSetBits]","\tjp .loadstringbuffer2","",".CountSeenMons:","; Seen mons.","\tld hl, wPokedexSeen","\tld b, wEndPokedexSeen - wPokedexSeen","\tcall CountSetBits","\tld a, [wNumSetBits]","\tjp .loadstringbuffer2","",".CountBadges:","; Number of owned badges.","\tld hl, wBadges","\tld b, 2","\tcall CountSetBits","\tld a, [wNumSetBits]","\tjp .loadstringbuffer2","",".PlayerFacing:","; The direction the player is facing.","\tld a, [wPlayerDirection]","\tand $c","\trrca","\trrca","\tjp .loadstringbuffer2","",".DayOfWeek:","; The day of the week.","\tcall GetWeekday","\tjp .loadstringbuffer2","",".UnownCaught:","; Number of unique Unown caught.","\tcall .count_unown","\tld a, b","\tjp .loadstringbuffer2","",".count_unown","\tld hl, wUnownDex","\tld b, 0",".loop","\tld a, [hli]","\tand a","\tret z","\tinc b","\tld a, b","\tcp NUM_UNOWN","\tjr c, .loop","\tret","",".BoxFreeSpace:","; Remaining slots in the current box.","\tld a, BANK(sBoxCount)","\tcall OpenSRAM","\tld hl, sBoxCount","\tld a, MONS_PER_BOX","\tsub [hl]","\tld b, a","\tcall CloseSRAM","\tld a, b","\tjp .loadstringbuffer2","",".BattleResult:","\tld a, [wBattleResult]","\tand $ff ^ BATTLERESULT_BITMASK","\tjp .loadstringbuffer2"],"name":"_GetVarAction","file":"engine/overworld/variables.asm","lineNo":1,"address":171443,"addressUsedBy":[]}