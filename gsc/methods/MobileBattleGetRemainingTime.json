{"names":["MobileBattleGetRemainingTime"],"callingMethods":[],"methodsCalled":["CloseSRAM","MobileBattleFixTimer","OpenSRAM"],"methodAddressesUsed":[],"varsSet":["wStringBuffer2"],"varsUsed":["wStringBuffer2"],"varAddressesUsed":["sMobileBattleTimer"],"constantsUsed":["MOBILE_BATTLE_ALLOWED_MINUTES","MOBILE_BATTLE_ALLOWED_SECONDS"],"lines":["MobileBattleGetRemainingTime:","; Calculates the difference between 10 minutes and sMobileBattleTimer","; Returns minutes in c and seconds in b","\tld a, BANK(sMobileBattleTimer)","\tld hl, sMobileBattleTimer","\tcall OpenSRAM","\tld a, [hli]","\tld [wStringBuffer2], a","\tld a, [hli]","\tld [wStringBuffer2 + 1], a","\tld a, [hli]","\tld [wStringBuffer2 + 2], a","\tcall CloseSRAM","\tld a, [wStringBuffer2 + 2]","\tld b, a","\tld a, MOBILE_BATTLE_ALLOWED_SECONDS","\tsub b","\tjr nc, .no_carry_seconds","\tadd 60",".no_carry_seconds","\tld b, a","\tld a, [wStringBuffer2 + 1]","\tld c, a","\tld a, MOBILE_BATTLE_ALLOWED_MINUTES","\tsbc c","\tld c, a","\tjr c, .fail","\tld a, [wStringBuffer2]","\tand a","\tjr nz, .fail","\tret","",".fail","\tcall MobileBattleFixTimer","\tld c, 0","\tret"],"name":"MobileBattleGetRemainingTime","file":"mobile/mobile_40.asm","lineNo":1336,"address":255933,"addressUsedBy":["Function10387b","MobileCheckRemainingBattleTime","Function103700"]}