{"names":["BankOfMom"],"callingMethods":[],"methodsCalled":["CloseWindow","CopyBytes","CopyMenuHeader","DSTChecks","FarCall","LoadStandardMenuHeader","Mom_SetUpDepositMenu","Mom_SetUpWithdrawMenu","Mom_Wait10Frames","Mom_WithdrawDepositMenuJoypad","PlaySFX","PrintText","VerticalMenu","WaitSFX","YesNoBox"],"methodAddressesUsed":["CompareMoney","GiveMoney","TakeMoney"],"varsSet":["hInMenu","wJumptableIndex","wMomBankDigitCursorPosition","wMomSavingMoney"],"varsUsed":["hInMenu","wJumptableIndex","wMenuCursorY","wMomSavingMoney"],"varAddressesUsed":["MenuHeader_0x166b5","MomBankWhatDoYouWantToDoText","MomHaventSavedThatMuchText","MomInsufficientFundsInWalletText","MomIsThisAboutYourMoneyText","MomJustDoWhatYouCanText","MomLeavingText1","MomLeavingText2","MomLeavingText3","MomNotEnoughRoomInBankText","MomNotEnoughRoomInWalletText","MomSaveMoneyText","MomStartSavingMoneyText","MomStoreMoneyText","MomStoredMoneyText","MomTakeMoneyText","MomTakenMoneyText","wMomsMoney","wMoney","wStringBuffer2"],"constantsUsed":["MOM_ACTIVE_F","MOM_SAVING_SOME_MONEY_F","SFX_TRANSACTION"],"lines":["BankOfMom:","\tldh a, [hInMenu]","\tpush af","\tld a, $1","\tldh [hInMenu], a","\txor a","\tld [wJumptableIndex], a",".loop","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .done","\tcall .RunJumptable","\tjr .loop","",".done","\tpop af","\tldh [hInMenu], a","\tret","",".RunJumptable:","\tld a, [wJumptableIndex]","\tld e, a","\tld d, 0","\tld hl, .dw","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjp hl","",".dw","","\tdw .CheckIfBankInitialized","\tdw .InitializeBank","\tdw .IsThisAboutYourMoney","\tdw .AccessBankOfMom","\tdw .StoreMoney","\tdw .TakeMoney","\tdw .StopOrStartSavingMoney","\tdw .JustDoWhatYouCan","\tdw .AskDST","",".CheckIfBankInitialized:","\tld a, [wMomSavingMoney]","\tbit MOM_ACTIVE_F, a","\tjr nz, .savingmoneyalready","\tset MOM_ACTIVE_F, a","\tld [wMomSavingMoney], a","\tld a, $1","\tjr .done_0","",".savingmoneyalready","\tld a, $2","",".done_0","\tld [wJumptableIndex], a","\tret","",".InitializeBank:","\tld hl, MomLeavingText1","\tcall PrintText","\tcall YesNoBox","\tjr c, .DontSaveMoney","\tld hl, MomLeavingText2","\tcall PrintText","\tld a, (1 \u003c\u003c MOM_ACTIVE_F) | (1 \u003c\u003c MOM_SAVING_SOME_MONEY_F)","\tjr .done_1","",".DontSaveMoney:","\tld a, 1 \u003c\u003c MOM_ACTIVE_F","",".done_1","\tld [wMomSavingMoney], a","\tld hl, MomLeavingText3","\tcall PrintText","\tld a, $8","\tld [wJumptableIndex], a","\tret","",".IsThisAboutYourMoney:","\tld hl, MomIsThisAboutYourMoneyText","\tcall PrintText","\tcall YesNoBox","\tjr c, .nope","\tld a, $3","\tjr .done_2","",".nope","\tcall DSTChecks","\tld a, $7","",".done_2","\tld [wJumptableIndex], a","\tret","",".AccessBankOfMom:","\tld hl, MomBankWhatDoYouWantToDoText","\tcall PrintText","\tcall LoadStandardMenuHeader","\tld hl, MenuHeader_0x166b5","\tcall CopyMenuHeader","\tcall VerticalMenu","\tcall CloseWindow","\tjr c, .cancel","\tld a, [wMenuCursorY]","\tcp $1","\tjr z, .withdraw","\tcp $2","\tjr z, .deposit","\tcp $3","\tjr z, .stopsaving","",".cancel","\tld a, $7","\tjr .done_3","",".withdraw","\tld a, $5","\tjr .done_3","",".deposit","\tld a, $4","\tjr .done_3","",".stopsaving","\tld a, $6","",".done_3","\tld [wJumptableIndex], a","\tret","",".StoreMoney:","\tld hl, MomStoreMoneyText","\tcall PrintText","\txor a","\tld hl, wStringBuffer2","\tld [hli], a","\tld [hli], a","\tld [hl], a","\tld a, 5","\tld [wMomBankDigitCursorPosition], a","\tcall LoadStandardMenuHeader","\tcall Mom_SetUpDepositMenu","\tcall Mom_Wait10Frames","\tcall Mom_WithdrawDepositMenuJoypad","\tcall CloseWindow","\tjr c, .CancelDeposit","\tld hl, wStringBuffer2","\tld a, [hli]","\tor [hl]","\tinc hl","\tor [hl]","\tjr z, .CancelDeposit","\tld de, wMoney","\tld bc, wStringBuffer2","\tfarcall CompareMoney","\tjr c, .InsufficientFundsInWallet","\tld hl, wStringBuffer2","\tld de, wStringBuffer2 + 3","\tld bc, 3","\tcall CopyBytes","\tld bc, wMomsMoney","\tld de, wStringBuffer2","\tfarcall GiveMoney","\tjr c, .NotEnoughRoomInBank","\tld bc, wStringBuffer2 + 3","\tld de, wMoney","\tfarcall TakeMoney","\tld hl, wStringBuffer2","\tld de, wMomsMoney","\tld bc, 3","\tcall CopyBytes","\tld de, SFX_TRANSACTION","\tcall PlaySFX","\tcall WaitSFX","\tld hl, MomStoredMoneyText","\tcall PrintText","\tld a, $8","\tjr .done_4","",".InsufficientFundsInWallet:","\tld hl, MomInsufficientFundsInWalletText","\tcall PrintText","\tret","",".NotEnoughRoomInBank:","\tld hl, MomNotEnoughRoomInBankText","\tcall PrintText","\tret","",".CancelDeposit:","\tld a, $7","",".done_4","\tld [wJumptableIndex], a","\tret","",".TakeMoney:","\tld hl, MomTakeMoneyText","\tcall PrintText","\txor a","\tld hl, wStringBuffer2","\tld [hli], a","\tld [hli], a","\tld [hl], a","\tld a, 5","\tld [wMomBankDigitCursorPosition], a","\tcall LoadStandardMenuHeader","\tcall Mom_SetUpWithdrawMenu","\tcall Mom_Wait10Frames","\tcall Mom_WithdrawDepositMenuJoypad","\tcall CloseWindow","\tjr c, .CancelWithdraw","\tld hl, wStringBuffer2","\tld a, [hli]","\tor [hl]","\tinc hl","\tor [hl]","\tjr z, .CancelWithdraw","\tld hl, wStringBuffer2","\tld de, wStringBuffer2 + 3","\tld bc, 3","\tcall CopyBytes","\tld de, wMomsMoney","\tld bc, wStringBuffer2","\tfarcall CompareMoney","\tjr c, .InsufficientFundsInBank","\tld bc, wMoney","\tld de, wStringBuffer2","\tfarcall GiveMoney","\tjr c, .NotEnoughRoomInWallet","\tld bc, wStringBuffer2 + 3","\tld de, wMomsMoney","\tfarcall TakeMoney","\tld hl, wStringBuffer2","\tld de, wMoney","\tld bc, 3","\tcall CopyBytes","\tld de, SFX_TRANSACTION","\tcall PlaySFX","\tcall WaitSFX","\tld hl, MomTakenMoneyText","\tcall PrintText","\tld a, $8","\tjr .done_5","",".InsufficientFundsInBank:","\tld hl, MomHaventSavedThatMuchText","\tcall PrintText","\tret","",".NotEnoughRoomInWallet:","\tld hl, MomNotEnoughRoomInWalletText","\tcall PrintText","\tret","",".CancelWithdraw:","\tld a, $7","",".done_5","\tld [wJumptableIndex], a","\tret","",".StopOrStartSavingMoney:","\tld hl, MomSaveMoneyText","\tcall PrintText","\tcall YesNoBox","\tjr c, .StopSavingMoney","\tld a, (1 \u003c\u003c MOM_ACTIVE_F) | (1 \u003c\u003c MOM_SAVING_SOME_MONEY_F)","\tld [wMomSavingMoney], a","\tld hl, MomStartSavingMoneyText","\tcall PrintText","\tld a, $8","\tld [wJumptableIndex], a","\tret","",".StopSavingMoney:","\tld a, 1 \u003c\u003c MOM_ACTIVE_F","\tld [wMomSavingMoney], a","\tld a, $7","\tld [wJumptableIndex], a","\tret","",".JustDoWhatYouCan:","\tld hl, MomJustDoWhatYouCanText","\tcall PrintText","",".AskDST:","\tld hl, wJumptableIndex","\tset 7, [hl]","\tret"],"name":"BankOfMom","file":"engine/events/mom.asm","lineNo":1,"address":94505,"addressUsedBy":[]}