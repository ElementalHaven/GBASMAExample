{"names":["BattleCommand_PainSplit"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","CheckSubstituteOpp","FarCall","Predef","PrintDidntAffect2","ResetDamage","StdBattleTextbox"],"methodAddressesUsed":["_UpdateBattleHUDs"],"varsSet":["wBuffer1","wBuffer2","wBuffer3","wBuffer4","wBuffer5","wBuffer6","wCurDamage","wWhichHPBar"],"varsUsed":["wAttackMissed","wCurDamage"],"varAddressesUsed":["AnimateHPBarPredef","wBattleMonMaxHP","wEnemyMonHP","wEnemyMonMaxHP"],"constantsUsed":[],"lines":["BattleCommand_PainSplit:","; painsplit","","\tld a, [wAttackMissed]","\tand a","\tjp nz, .ButItFailed","\tcall CheckSubstituteOpp","\tjp nz, .ButItFailed","\tcall AnimateCurrentMove","\tld hl, wBattleMonMaxHP + 1","\tld de, wEnemyMonMaxHP + 1","\tcall .PlayerShareHP","\tld a, $1","\tld [wWhichHPBar], a","\thlcoord 10, 9","\tpredef AnimateHPBar","\tld hl, wEnemyMonHP","\tld a, [hli]","\tld [wBuffer4], a","\tld a, [hli]","\tld [wBuffer3], a","\tld a, [hli]","\tld [wBuffer2], a","\tld a, [hl]","\tld [wBuffer1], a","\tcall .EnemyShareHP","\txor a","\tld [wWhichHPBar], a","\tcall ResetDamage","\thlcoord 2, 2","\tpredef AnimateHPBar","\tfarcall _UpdateBattleHUDs","","\tld hl, SharedPainText","\tjp StdBattleTextbox","",".PlayerShareHP:","\tld a, [hld]","\tld [wBuffer1], a","\tld a, [hld]","\tld [wBuffer2], a","\tld a, [hld]","\tld b, a","\tld [wBuffer3], a","\tld a, [hl]","\tld [wBuffer4], a","\tdec de","\tdec de","\tld a, [de]","\tdec de","\tadd b","\tld [wCurDamage + 1], a","\tld b, [hl]","\tld a, [de]","\tadc b","\tsrl a","\tld [wCurDamage], a","\tld a, [wCurDamage + 1]","\trr a","\tld [wCurDamage + 1], a","\tinc hl","\tinc hl","\tinc hl","\tinc de","\tinc de","\tinc de","",".EnemyShareHP:","\tld c, [hl]","\tdec hl","\tld a, [wCurDamage + 1]","\tsub c","\tld b, [hl]","\tdec hl","\tld a, [wCurDamage]","\tsbc b","\tjr nc, .skip","","\tld a, [wCurDamage]","\tld b, a","\tld a, [wCurDamage + 1]","\tld c, a",".skip","\tld a, c","\tld [hld], a","\tld [wBuffer5], a","\tld a, b","\tld [hli], a","\tld [wBuffer6], a","\tret","",".ButItFailed:","\tjp PrintDidntAffect2"],"name":"BattleCommand_PainSplit","file":"engine/battle/move_effects/pain_split.asm","lineNo":1,"address":119653,"addressUsedBy":[]}