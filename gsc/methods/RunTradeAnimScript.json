{"names":["RunTradeAnimScript"],"callingMethods":["TradeAnimation","TradeAnimationPlayer2"],"methodsCalled":["ByteFill","ClearBGPalettes","ClearSprites","ClearTilemap","Decompress","DisableLCD","DoTradeAnimation","EnableLCD","FarCall","FarCopyBytes","LoadFontsBattleExtra","LoadTradeBallAndCableGFX","PlayMusic2","TradeAnim_GetFrontpic","TradeAnim_GetNickname","TradeAnim_NormalPals"],"methodAddressesUsed":["ClearSpriteAnims","GetTrademonFrontpic"],"varsSet":["hMapAnims","hSCX","hSCY","hWX","hWY","rVBK","wJumptableIndex","wOptions","wVramState"],"varsUsed":["hCGB","hMapAnims","wOTTrademonSpecies","wPlayerTrademonSpecies","wcf66"],"varAddressesUsed":["sScratch","vBGMap0","vTiles0","vTiles2","wOTTrademonDVs","wOTTrademonSpeciesName","wOptions","wPlayerTrademonDVs","wPlayerTrademonSpeciesName","wTradeAnimAddress","wVramState"],"constantsUsed":["MUSIC_EVOLUTION","TRADEANIM_LEFT_ARROW","TRADEANIM_RIGHT_ARROW","tile","tiles"],"lines":["RunTradeAnimScript:","\tld hl, wTradeAnimAddress","\tld [hl], e","\tinc hl","\tld [hl], d","\tldh a, [hMapAnims]","\tpush af","\txor a","\tldh [hMapAnims], a","\tld hl, wVramState","\tld a, [hl]","\tpush af","\tres 0, [hl]","\tld hl, wOptions","\tld a, [hl]","\tpush af","\tset NO_TEXT_SCROLL, [hl]","\tcall .TradeAnimLayout","\tld a, [wcf66]","\tand a","\tjr nz, .anim_loop","\tld de, MUSIC_EVOLUTION","\tcall PlayMusic2",".anim_loop","\tcall DoTradeAnimation","\tjr nc, .anim_loop","\tpop af","\tld [wOptions], a","\tpop af","\tld [wVramState], a","\tpop af","\tldh [hMapAnims], a","\tret","",".TradeAnimLayout:","\txor a","\tld [wJumptableIndex], a","\tcall ClearBGPalettes","\tcall ClearSprites","\tcall ClearTilemap","\tcall DisableLCD","\tcall LoadFontsBattleExtra","\tcallfar ClearSpriteAnims","\tldh a, [hCGB]","\tand a","\tjr z, .NotCGB","\tld a, $1","\tldh [rVBK], a","\tld hl, vTiles0","\tld bc, sScratch - vTiles0","\txor a","\tcall ByteFill","\tld a, $0","\tldh [rVBK], a","",".NotCGB:","\thlbgcoord 0, 0","\tld bc, sScratch - vBGMap0","\tld a, \" \"","\tcall ByteFill","\tld hl, TradeGameBoyLZ","\tld de, vTiles2 tile $31","\tcall Decompress","\tld hl, TradeArrowRightGFX","\tld de, vTiles0 tile TRADEANIM_RIGHT_ARROW","\tld bc, 1 tiles","\tld a, BANK(TradeArrowRightGFX)","\tcall FarCopyBytes","\tld hl, TradeArrowLeftGFX","\tld de, vTiles0 tile TRADEANIM_LEFT_ARROW","\tld bc, 1 tiles","\tld a, BANK(TradeArrowLeftGFX)","\tcall FarCopyBytes","\txor a","\tldh [hSCX], a","\tldh [hSCY], a","\tld a, $7","\tldh [hWX], a","\tld a, $90","\tldh [hWY], a","\tfarcall GetTrademonFrontpic","\tcall EnableLCD","\tcall LoadTradeBallAndCableGFX","\tld a, [wPlayerTrademonSpecies]","\tld hl, wPlayerTrademonDVs","\tld de, vTiles0","\tcall TradeAnim_GetFrontpic","\tld a, [wOTTrademonSpecies]","\tld hl, wOTTrademonDVs","\tld de, vTiles0 tile $31","\tcall TradeAnim_GetFrontpic","\tld a, [wPlayerTrademonSpecies]","\tld de, wPlayerTrademonSpeciesName","\tcall TradeAnim_GetNickname","\tld a, [wOTTrademonSpecies]","\tld de, wOTTrademonSpeciesName","\tcall TradeAnim_GetNickname","\tcall TradeAnim_NormalPals","\tret"],"name":"RunTradeAnimScript","file":"engine/movie/trade_animation.asm","lineNo":113,"address":104307,"addressUsedBy":[]}