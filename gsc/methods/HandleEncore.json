{"names":["HandleEncore"],"callingMethods":["HandleBetweenTurnEffects"],"methodsCalled":["SetEnemyTurn","SetPlayerTurn","StdBattleTextbox"],"methodAddressesUsed":[],"varsSet":["wEnemyEncoreCount","wPlayerEncoreCount"],"varsUsed":["hSerialConnectionStatus","wCurEnemyMoveNum","wCurMoveNum","wEnemyEncoreCount","wPlayerEncoreCount"],"varAddressesUsed":["wBattleMonPP","wEnemyMonPP","wEnemySubStatus5","wPlayerSubStatus5"],"constantsUsed":[],"lines":["HandleEncore:","\tldh a, [hSerialConnectionStatus]","\tcp USING_EXTERNAL_CLOCK","\tjr z, .player_1","\tcall .do_player","\tjr .do_enemy","",".player_1","\tcall .do_enemy",".do_player","\tld hl, wPlayerSubStatus5","\tbit SUBSTATUS_ENCORED, [hl]","\tret z","\tld a, [wPlayerEncoreCount]","\tdec a","\tld [wPlayerEncoreCount], a","\tjr z, .end_player_encore","\tld hl, wBattleMonPP","\tld a, [wCurMoveNum]","\tld c, a","\tld b, 0","\tadd hl, bc","\tld a, [hl]","\tand PP_MASK","\tret nz","",".end_player_encore","\tld hl, wPlayerSubStatus5","\tres SUBSTATUS_ENCORED, [hl]","\tcall SetEnemyTurn","\tld hl, BattleText_TargetsEncoreEnded","\tjp StdBattleTextbox","",".do_enemy","\tld hl, wEnemySubStatus5","\tbit SUBSTATUS_ENCORED, [hl]","\tret z","\tld a, [wEnemyEncoreCount]","\tdec a","\tld [wEnemyEncoreCount], a","\tjr z, .end_enemy_encore","\tld hl, wEnemyMonPP","\tld a, [wCurEnemyMoveNum]","\tld c, a","\tld b, 0","\tadd hl, bc","\tld a, [hl]","\tand PP_MASK","\tret nz","",".end_enemy_encore","\tld hl, wEnemySubStatus5","\tres SUBSTATUS_ENCORED, [hl]","\tcall SetPlayerTurn","\tld hl, BattleText_TargetsEncoreEnded","\tjp StdBattleTextbox"],"name":"HandleEncore","file":"engine/battle/core.asm","lineNo":697,"address":134631,"addressUsedBy":[]}