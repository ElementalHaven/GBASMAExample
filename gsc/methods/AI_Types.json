{"names":["AI_Types"],"callingMethods":[],"methodsCalled":["AIDiscourageMove","AIGetEnemyMove","FarCall"],"methodAddressesUsed":["BattleCheckTypeMatchup"],"varsSet":["hBattleTurn"],"varsUsed":["wEnemyMoveStruct","wTypeMatchup"],"varAddressesUsed":["wBuffer1","wEnemyMonMoves"],"constantsUsed":["MOVE_POWER","MOVE_TYPE","NUM_MOVES"],"lines":["AI_Types:","; Dismiss any move that the player is immune to.","; Encourage super-effective moves.","; Discourage not very effective moves unless","; all damaging moves are of the same type.","","\tld hl, wBuffer1 - 1","\tld de, wEnemyMonMoves","\tld b, NUM_MOVES + 1",".checkmove","\tdec b","\tret z","","\tinc hl","\tld a, [de]","\tand a","\tret z","","\tinc de","\tcall AIGetEnemyMove","","\tpush hl","\tpush bc","\tpush de","\tld a, 1","\tldh [hBattleTurn], a","\tcallfar BattleCheckTypeMatchup","\tpop de","\tpop bc","\tpop hl","","\tld a, [wTypeMatchup]","\tand a","\tjr z, .immune","\tcp EFFECTIVE","\tjr z, .checkmove","\tjr c, .noteffective","","; effective","\tld a, [wEnemyMoveStruct + MOVE_POWER]","\tand a","\tjr z, .checkmove","\tdec [hl]","\tjr .checkmove","",".noteffective","; Discourage this move if there are any moves","; that do damage of a different type.","\tpush hl","\tpush de","\tpush bc","\tld a, [wEnemyMoveStruct + MOVE_TYPE]","\tld d, a","\tld hl, wEnemyMonMoves","\tld b, NUM_MOVES + 1","\tld c, 0",".checkmove2","\tdec b","\tjr z, .movesdone","","\tld a, [hli]","\tand a","\tjr z, .movesdone","","\tcall AIGetEnemyMove","\tld a, [wEnemyMoveStruct + MOVE_TYPE]","\tcp d","\tjr z, .checkmove2","\tld a, [wEnemyMoveStruct + MOVE_POWER]","\tand a","\tjr nz, .damaging","\tjr .checkmove2","",".damaging","\tld c, a",".movesdone","\tld a, c","\tpop bc","\tpop de","\tpop hl","\tand a","\tjr z, .checkmove","\tinc [hl]","\tjr .checkmove","",".immune","\tcall AIDiscourageMove","\tjr .checkmove"],"name":"AI_Types","file":"engine/battle/ai/scoring.asm","lineNo":144,"address":125270,"addressUsedBy":[]}