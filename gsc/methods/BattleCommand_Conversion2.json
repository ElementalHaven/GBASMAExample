{"names":["BattleCommand_Conversion2"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","BattleCheckTypeMatchup","BattleCommand_SwitchTurn","BattleRandom","FailMove","GetBattleVar","GetBattleVarAddr","GetMoveAttr","Predef","StdBattleTextbox"],"methodAddressesUsed":[],"varsSet":["wNamedObjectIndexBuffer"],"varsUsed":["hBattleTurn","wAttackMissed","wTypeMatchup"],"varAddressesUsed":["GetTypeNamePredef","Moves","TransformedTypeText","wBattleMonType1","wEnemyMonType1"],"constantsUsed":["BATTLE_VARS_LAST_COUNTER_MOVE_OPP","BATTLE_VARS_MOVE_TYPE","MOVE_TYPE"],"lines":["BattleCommand_Conversion2:","; conversion2","","\tld a, [wAttackMissed]","\tand a","\tjr nz, .failed","\tld hl, wBattleMonType1","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_type","\tld hl, wEnemyMonType1",".got_type","\tld a, BATTLE_VARS_LAST_COUNTER_MOVE_OPP","\tcall GetBattleVar","\tand a","\tjr z, .failed","\tpush hl","\tdec a","\tld hl, Moves + MOVE_TYPE","\tcall GetMoveAttr","\tld d, a","\tpop hl","\tcp CURSE_TYPE","\tjr z, .failed","\tcall AnimateCurrentMove","\tcall BattleCommand_SwitchTurn","",".loop","\tcall BattleRandom","\tmaskbits NUM_TYPES","\tcp UNUSED_TYPES","\tjr c, .okay","\tcp UNUSED_TYPES_END","\tjr c, .loop","\tcp TYPES_END","\tjr nc, .loop",".okay","\tld [hli], a","\tld [hld], a","\tpush hl","\tld a, BATTLE_VARS_MOVE_TYPE","\tcall GetBattleVarAddr","\tpush af","\tpush hl","\tld a, d","\tld [hl], a","\tcall BattleCheckTypeMatchup","\tpop hl","\tpop af","\tld [hl], a","\tpop hl","\tld a, [wTypeMatchup]","\tcp EFFECTIVE","\tjr nc, .loop","\tcall BattleCommand_SwitchTurn","","\tld a, [hl]","\tld [wNamedObjectIndexBuffer], a","\tpredef GetTypeName","\tld hl, TransformedTypeText","\tjp StdBattleTextbox","",".failed","\tjp FailMove"],"name":"BattleCommand_Conversion2","file":"engine/battle/move_effects/conversion2.asm","lineNo":1,"address":119745,"addressUsedBy":[]}