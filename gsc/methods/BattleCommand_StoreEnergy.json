{"names":["BattleCommand_StoreEnergy"],"callingMethods":[],"methodsCalled":["EndMoveEffect","GetBattleVar","GetBattleVarAddr","SkipToBattleCommand","StdBattleTextbox"],"methodAddressesUsed":[],"varsSet":["wAttackMissed","wCurDamage"],"varsUsed":["hBattleTurn"],"varAddressesUsed":["wEnemyCharging","wEnemyDamageTaken","wEnemyRolloutCount","wPlayerCharging","wPlayerDamageTaken","wPlayerRolloutCount"],"constantsUsed":["BATTLE_VARS_MOVE_ANIM","BATTLE_VARS_MOVE_POWER","BATTLE_VARS_SUBSTATUS3","BIDE","unleashenergy_command"],"lines":["BattleCommand_StoreEnergy:","; storeenergy","","\tld a, BATTLE_VARS_SUBSTATUS3","\tcall GetBattleVar","\tbit SUBSTATUS_BIDE, a","\tret z","","\tld hl, wPlayerRolloutCount","\tldh a, [hBattleTurn]","\tand a","\tjr z, .check_still_storing_energy","\tld hl, wEnemyRolloutCount",".check_still_storing_energy","\tdec [hl]","\tjr nz, .still_storing","","\tld a, BATTLE_VARS_SUBSTATUS3","\tcall GetBattleVarAddr","\tres SUBSTATUS_BIDE, [hl]","","\tld hl, UnleashedEnergyText","\tcall StdBattleTextbox","","\tld a, BATTLE_VARS_MOVE_POWER","\tcall GetBattleVarAddr","\tld a, 1","\tld [hl], a","\tld hl, wPlayerDamageTaken + 1","\tld de, wPlayerCharging ; player","\tldh a, [hBattleTurn]","\tand a","\tjr z, .player","\tld hl, wEnemyDamageTaken + 1","\tld de, wEnemyCharging ; enemy",".player","\tld a, [hld]","\tadd a","\tld b, a","\tld [wCurDamage + 1], a","\tld a, [hl]","\trl a","\tld [wCurDamage], a","\tjr nc, .not_maxed","\tld a, $ff","\tld [wCurDamage], a","\tld [wCurDamage + 1], a",".not_maxed","\tor b","\tjr nz, .built_up_something","\tld a, 1","\tld [wAttackMissed], a",".built_up_something","\txor a","\tld [hli], a","\tld [hl], a","\tld [de], a","","\tld a, BATTLE_VARS_MOVE_ANIM","\tcall GetBattleVarAddr","\tld a, BIDE","\tld [hl], a","","\tld b, unleashenergy_command","\tjp SkipToBattleCommand","",".still_storing","\tld hl, StoringEnergyText","\tcall StdBattleTextbox","\tjp EndMoveEffect"],"name":"BattleCommand_StoreEnergy","file":"engine/battle/move_effects/bide.asm","lineNo":1,"address":121414,"addressUsedBy":[]}