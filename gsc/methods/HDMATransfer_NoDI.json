{"names":["HDMATransfer_NoDI"],"callingMethods":["Mobile_ReloadMapPart"],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":["rHDMA1","rHDMA2","rHDMA3","rHDMA4","rHDMA5"],"varsUsed":["hBGMapAddress","rLY","rSTAT"],"varAddressesUsed":[],"constantsUsed":["SCREEN_HEIGHT","rHDMA5","rLY"],"lines":["HDMATransfer_NoDI:","; HDMA transfer from hl to [hBGMapAddress]","; [hBGMapAddress] --\u003e de","; 2 * SCREEN_HEIGHT --\u003e c","\tldh a, [hBGMapAddress + 1]","\tld d, a","\tldh a, [hBGMapAddress]","\tld e, a","\tld c, 2 * SCREEN_HEIGHT","","\t; [rHDMA1, rHDMA2] \u003d hl \u0026 $fff0","\tld a, h","\tldh [rHDMA1], a","\tld a, l","\tand $f0","\tldh [rHDMA2], a","\t; [rHDMA3, rHDMA4] \u003d de \u0026 $1ff0","\tld a, d","\tand $1f","\tldh [rHDMA3], a","\tld a, e","\tand $f0","\tldh [rHDMA4], a","\t; b \u003d c | %10000000","\tld a, c","\tdec c","\tor $80","\tld b, a","\t; d \u003d $7f - c + 1","\tld a, $7f","\tsub c","\tld d, a","\t; while [rLY] \u003e\u003d d: pass",".loop1","\tldh a, [rLY]","\tcp d","\tjr nc, .loop1","\t; while not [rSTAT] \u0026 3: pass",".loop2","\tldh a, [rSTAT]","\tand $3","\tjr z, .loop2","\t; load the 5th byte of HDMA","\tld a, b","\tldh [rHDMA5], a","\t; wait until rLY advances (c + 1) times","\tldh a, [rLY]","\tinc c","\tld hl, rLY",".loop3","\tcp [hl]","\tjr z, .loop3","\tld a, [hl]","\tdec c","\tjr nz, .loop3","\tld hl, rHDMA5","\tres 7, [hl]","\tret"],"name":"HDMATransfer_NoDI","file":"engine/gfx/dma_transfer.asm","lineNo":272,"address":262255,"addressUsedBy":[]}