{"names":["_LinkBattleSendReceiveAction"],"callingMethods":[],"methodsCalled":["AdvanceMobileInactivityTimerAndCheckExpired","DelayFrame","FarCall","Function10079c","Function1009f3","Function100acf","Function100ae7","Function100da5","GetJoypad","LinkDataReceived","LinkTransfer","StartMobileInactivityTimer"],"methodAddressesUsed":["FinishBattleAnim","Function100382","PlaceWaitingText"],"varsSet":["wBattleAction","wLinkBattleSentAction","wOtherPlayerLinkAction","wPlayerLinkAction","wcd27","wd430"],"varsUsed":["wBattlePlayerAction","wCurMoveNum","wCurPartyMon","wCurPlayerMove","wLinkBattleSentAction","wLinkMode","wOtherPlayerLinkAction","wcd27","wcd2b"],"varAddressesUsed":[],"constantsUsed":["BATTLEACTION_SKIPTURN","BATTLEACTION_STRUGGLE"],"lines":["_LinkBattleSendReceiveAction:","\tcall .StageForSend","\tld [wLinkBattleSentAction], a","\tfarcall PlaceWaitingText","\tld a, [wLinkMode]","\tcp LINK_MOBILE","\tjr nz, .not_mobile","","\tcall .MobileBattle_SendReceiveAction","\tcall Function100da5","\tfarcall FinishBattleAnim","\tjr .done","",".not_mobile","\tcall .LinkBattle_SendReceiveAction","",".done","\tret","",".StageForSend:","\tld a, [wBattlePlayerAction]","\tand a ; BATTLEPLAYERACTION_USEMOVE?","\tjr nz, .switch","\tld a, [wCurPlayerMove]","\tld b, BATTLEACTION_STRUGGLE","\tcp STRUGGLE","\tjr z, .struggle","\tld b, BATTLEACTION_SKIPTURN","\tcp $ff","\tjr z, .struggle","\tld a, [wCurMoveNum]","\tjr .use_move","",".switch","\tld a, [wCurPartyMon]","\tadd BATTLEACTION_SWITCH1","\tjr .use_move","",".struggle","\tld a, b","",".use_move","\tand $0f","\tret","",".LinkBattle_SendReceiveAction:","\tld a, [wLinkBattleSentAction]","\tld [wPlayerLinkAction], a","\tld a, $ff","\tld [wOtherPlayerLinkAction], a",".waiting","\tcall LinkTransfer","\tcall DelayFrame","\tld a, [wOtherPlayerLinkAction]","\tinc a","\tjr z, .waiting","","\tld b, 10",".receive","\tcall DelayFrame","\tcall LinkTransfer","\tdec b","\tjr nz, .receive","","\tld b, 10",".acknowledge","\tcall DelayFrame","\tcall LinkDataReceived","\tdec b","\tjr nz, .acknowledge","","\tld a, [wOtherPlayerLinkAction]","\tld [wBattleAction], a","\tret","",".MobileBattle_SendReceiveAction:","\tcall Function100acf","\tcall StartMobileInactivityTimer","\tld a, 0","\tld [wcd27], a",".asm_100a92","\tcall DelayFrame","\tcall GetJoypad","\tfarcall Function100382","\tld c, $01","\tld b, $03","\tpush bc","\tcall AdvanceMobileInactivityTimerAndCheckExpired","\tpop bc","\tjr c, .asm_100ac7","\tld b, $01","\tcall Function10079c","\tjr c, .asm_100ac7","\tcall Function1009f3","\tjr c, .asm_100ac7","\tld a, [wcd2b]","\tand a","\tjr nz, .asm_100ac7","\tld a, [wcd27]","\tbit 7, a","\tjr z, .asm_100a92","\tcall Function100ae7","\tjr .asm_100ace","",".asm_100ac7","\tld a, $0f","\tld [wd430], a","\tjr .asm_100ace","",".asm_100ace","\tret"],"name":"_LinkBattleSendReceiveAction","file":"mobile/mobile_40.asm","lineNo":1530,"address":256107,"addressUsedBy":["LinkBattleSendReceiveAction"]}