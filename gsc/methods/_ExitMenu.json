{"names":["_ExitMenu"],"callingMethods":[],"methodsCalled":["Error_Cant_ExitMenu","GetWindowStackTop","PopWindow","RestoreTileBackup"],"methodAddressesUsed":[],"varsSet":["hBGMapMode","rSVBK","wWindowStackPointer"],"varsUsed":["rSVBK","wMenuFlags"],"varAddressesUsed":["wWindowStack","wWindowStackSize"],"constantsUsed":[],"lines":["_ExitMenu::","\txor a","\tldh [hBGMapMode], a","","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wWindowStack)","\tldh [rSVBK], a","","\tcall GetWindowStackTop","\tld a, l","\tor h","\tjp z, Error_Cant_ExitMenu","\tld a, l","\tld [wWindowStackPointer], a","\tld a, h","\tld [wWindowStackPointer + 1], a","\tcall PopWindow","\tld a, [wMenuFlags]","\tbit 0, a","\tjr z, .loop","\tld d, h","\tld e, l","\tcall RestoreTileBackup","",".loop","\tcall GetWindowStackTop","\tld a, h","\tor l","\tjr z, .done","\tcall PopWindow","",".done","\tpop af","\tldh [rSVBK], a","\tld hl, wWindowStackSize","\tdec [hl]","\tret"],"name":"_ExitMenu","file":"engine/menus/menu.asm","lineNo":654,"address":97683,"addressUsedBy":[]}