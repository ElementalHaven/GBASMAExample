{"names":["EnterMapWarp"],"callingMethods":[],"methodsCalled":["CheckIndoorMap","CheckOutdoorMap","GetAnyMapEnvironment","GetAnyMapTileset","GetMapEnvironment"],"methodAddressesUsed":[],"varsSet":["wDigMapGroup","wDigMapNumber","wDigWarpNumber","wLastSpawnMapGroup","wLastSpawnMapNumber","wMapGroup","wMapNumber","wWarpNumber"],"varsUsed":["wNextMapGroup","wNextMapNumber","wNextWarp","wPrevMapGroup","wPrevMapNumber","wPrevWarp"],"varAddressesUsed":[],"constantsUsed":[],"lines":["EnterMapWarp:","\tcall .SaveDigWarp","\tcall .SetSpawn","\tld a, [wNextWarp]","\tld [wWarpNumber], a","\tld a, [wNextMapGroup]","\tld [wMapGroup], a","\tld a, [wNextMapNumber]","\tld [wMapNumber], a","\tret","",".SaveDigWarp:","\tcall GetMapEnvironment","\tcall CheckOutdoorMap","\tret nz","\tld a, [wNextMapGroup]","\tld b, a","\tld a, [wNextMapNumber]","\tld c, a","\tcall GetAnyMapEnvironment","\tcall CheckIndoorMap","\tret nz","","; MOUNT_MOON_SQUARE and TIN_TOWER_ROOF are outdoor maps within indoor maps.","; Dig and Escape Rope should not take you to them.","\tld a, [wPrevMapGroup]","\tcp GROUP_MOUNT_MOON_SQUARE ; aka GROUP_TIN_TOWER_ROOF","\tjr nz, .not_mt_moon_or_tin_tower","\tld a, [wPrevMapNumber]","\tcp MAP_MOUNT_MOON_SQUARE","\tret z","\tcp MAP_TIN_TOWER_ROOF","\tret z",".not_mt_moon_or_tin_tower","","\tld a, [wPrevWarp]","\tld [wDigWarpNumber], a","\tld a, [wPrevMapGroup]","\tld [wDigMapGroup], a","\tld a, [wPrevMapNumber]","\tld [wDigMapNumber], a","\tret","",".SetSpawn:","\tcall GetMapEnvironment","\tcall CheckOutdoorMap","\tret nz","\tld a, [wNextMapGroup]","\tld b, a","\tld a, [wNextMapNumber]","\tld c, a","\tcall GetAnyMapEnvironment","\tcall CheckIndoorMap","\tret nz","\tld a, [wNextMapGroup]","\tld b, a","\tld a, [wNextMapNumber]","\tld c, a","","; Respawn in Pok√©mon Centers.","\tcall GetAnyMapTileset","\tld a, c","\tcp TILESET_POKECENTER","\tjr z, .pokecenter_pokecom","\tcp TILESET_POKECOM_CENTER","\tjr z, .pokecenter_pokecom","\tret",".pokecenter_pokecom","","\tld a, [wPrevMapGroup]","\tld [wLastSpawnMapGroup], a","\tld a, [wPrevMapNumber]","\tld [wLastSpawnMapNumber], a","\tret"],"name":"EnterMapWarp","file":"engine/overworld/warp_connection.asm","lineNo":152,"address":262622,"addressUsedBy":[]}