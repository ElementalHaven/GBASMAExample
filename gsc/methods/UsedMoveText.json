{"names":["UsedMoveText"],"callingMethods":[],"methodsCalled":["FarCall","GetBattleVar","GetBattleVarAddr","GetMoveGrammar","UpdateUsedMoves"],"methodAddressesUsed":["CheckUserIsCharging","UsedMove1Text"],"varsSet":["wMoveGrammar"],"varsUsed":["hBattleTurn","wAlreadyDisobeyed","wMoveGrammar","wPlayerMoveStruct"],"varAddressesUsed":["UsedMove2Text"],"constantsUsed":["BATTLE_VARS_LAST_COUNTER_MOVE","BATTLE_VARS_LAST_MOVE","BATTLE_VARS_MOVE_ANIM","MOVE_ANIM"],"lines":["UsedMoveText:","\ttext_far _ActorNameText","\ttext_asm","","\tldh a, [hBattleTurn]","\tand a","\tjr nz, .start","","\tld a, [wPlayerMoveStruct + MOVE_ANIM]","\tcall UpdateUsedMoves","",".start","\tld a, BATTLE_VARS_LAST_MOVE","\tcall GetBattleVarAddr","\tld d, h","\tld e, l","","\tld a, BATTLE_VARS_LAST_COUNTER_MOVE","\tcall GetBattleVarAddr","","\tld a, BATTLE_VARS_MOVE_ANIM","\tcall GetBattleVar","\tld [wMoveGrammar], a","","\tpush hl","\tfarcall CheckUserIsCharging","\tpop hl","\tjr nz, .grammar","","\t; update last move","\tld a, [wMoveGrammar]","\tld [hl], a","\tld [de], a","",".grammar","\tcall GetMoveGrammar ; convert move id to grammar index","","; everything except \u0027CheckObedience\u0027 made redundant in localization","","\t; check obedience","\tld a, [wAlreadyDisobeyed]","\tand a","\tld hl, UsedMove2Text","\tret nz","","\t; check move grammar","\tld a, [wMoveGrammar]","\tcp $3","\tld hl, UsedMove2Text","\tret c","\tld hl, UsedMove1Text","\tret"],"name":"UsedMoveText","file":"engine/battle/used_move_text.asm","lineNo":7,"address":264299,"addressUsedBy":["DisplayUsedMoveText"]}