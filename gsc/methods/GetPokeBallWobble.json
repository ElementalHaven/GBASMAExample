{"names":["GetPokeBallWobble"],"callingMethods":[],"methodsCalled":["Random"],"methodAddressesUsed":[],"varsSet":["rSVBK","wBuffer2"],"varsUsed":["rSVBK","wBuffer1","wBuffer2","wWildMon"],"varAddressesUsed":["WobbleProbabilities","wBuffer2"],"constantsUsed":[],"lines":["GetPokeBallWobble:","; Returns whether a Poke Ball will wobble in the catch animation.","; Whether a Pokemon is caught is determined beforehand.","","\tpush de","","\tldh a, [rSVBK]","\tld d, a","\tpush de","","\tld a, BANK(wBuffer2)","\tldh [rSVBK], a","","\tld a, [wBuffer2]","\tinc a","\tld [wBuffer2], a","","; Wobble up to 3 times.","\tcp 3 + 1","\tjr z, .finished","","\tld a, [wWildMon]","\tand a","\tld c, 0 ; next","\tjr nz, .done","","\tld hl, WobbleProbabilities","\tld a, [wBuffer1]","\tld b, a",".loop","\tld a, [hli]","\tcp b","\tjr nc, .checkwobble","\tinc hl","\tjr .loop","",".checkwobble","\tld b, [hl]","\tcall Random","\tcp b","\tld c, 0 ; next","\tjr c, .done","\tld c, 2 ; escaped","\tjr .done","",".finished","\tld a, [wWildMon]","\tand a","\tld c, 1 ; caught","\tjr nz, .done","\tld c, 2 ; escaped","",".done","\tpop de","\tld e, a","\tld a, d","\tldh [rSVBK], a","\tld a, e","\tpop de","\tret"],"name":"GetPokeBallWobble","file":"engine/battle_anims/pokeball_wobble.asm","lineNo":1,"address":81563,"addressUsedBy":["BattleAnimCmd_CheckPokeball"]}