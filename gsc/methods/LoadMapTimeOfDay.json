{"names":["LoadMapTimeOfDay"],"callingMethods":[],"methodsCalled":["ByteFill","FarCall","OverworldTextModeSwitch"],"methodAddressesUsed":["ApplyBGMapAnchorToObjects","ReplaceTimeOfDayPals","UpdateTimeOfDayPal"],"varsSet":["hSCX","hSCY","rVBK","wBGMapAnchor","wSpriteUpdatesEnabled"],"varsUsed":["hCGB","rVBK"],"varAddressesUsed":["vBGMap0","vBGMap1","wVramState"],"constantsUsed":["BG_MAP_WIDTH","SCREEN_HEIGHT","SCREEN_WIDTH"],"lines":["LoadMapTimeOfDay:","\tld hl, wVramState","\tres 6, [hl]","\tld a, $1","\tld [wSpriteUpdatesEnabled], a","\tfarcall ReplaceTimeOfDayPals","\tfarcall UpdateTimeOfDayPal","\tcall OverworldTextModeSwitch","\tcall .ClearBGMap","\tcall .PushAttrmap","\tret","",".ClearBGMap:","\tld a, HIGH(vBGMap0)","\tld [wBGMapAnchor + 1], a","\txor a ; LOW(vBGMap0)","\tld [wBGMapAnchor], a","\tldh [hSCY], a","\tldh [hSCX], a","\tfarcall ApplyBGMapAnchorToObjects","","\tldh a, [rVBK]","\tpush af","\tld a, $1","\tldh [rVBK], a","","\txor a","\tld bc, vBGMap1 - vBGMap0","\thlbgcoord 0, 0","\tcall ByteFill","","\tpop af","\tldh [rVBK], a","","\tld a, \"â– \"","\tld bc, vBGMap1 - vBGMap0","\thlbgcoord 0, 0","\tcall ByteFill","\tret","",".PushAttrmap:","\tdecoord 0, 0","\tcall .copy","\tldh a, [hCGB]","\tand a","\tret z","","\tdecoord 0, 0, wAttrmap","\tld a, $1","\tldh [rVBK], a",".copy","\thlbgcoord 0, 0","\tld c, SCREEN_WIDTH","\tld b, SCREEN_HEIGHT",".row","\tpush bc",".column","\tld a, [de]","\tinc de","\tld [hli], a","\tdec c","\tjr nz, .column","\tld bc, BG_MAP_WIDTH - SCREEN_WIDTH","\tadd hl, bc","\tpop bc","\tdec b","\tjr nz, .row","\tld a, $0","\tldh [rVBK], a","\tret"],"name":"LoadMapTimeOfDay","file":"engine/overworld/warp_connection.asm","lineNo":227,"address":262682,"addressUsedBy":[]}