{"names":["Fish"],"callingMethods":[],"methodsCalled":["GetFishGroupIndex","Random"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wTimeOfDay"],"varAddressesUsed":["FishGroups","TimeFishGroups"],"constantsUsed":[],"lines":["Fish:","; Using a fishing rod.","; Fish for monsters with rod e in encounter group d.","; Return monster d at level e.","","\tpush af","\tpush bc","\tpush hl","","\tld b, e","\tcall GetFishGroupIndex","","\tld hl, FishGroups","rept FISHGROUP_DATA_LENGTH","\tadd hl, de","endr","\tcall .Fish","","\tpop hl","\tpop bc","\tpop af","\tret","",".Fish:","; Fish for monsters with rod b from encounter data in FishGroup at hl.","; Return monster d at level e.","","\tcall Random","\tcp [hl]","\tjr nc, .no_bite","","\t; Get encounter data by rod:","\t; 0: Old","\t; 1: Good","\t; 2: Super","\tinc hl","\tld e, b","\tld d, 0","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","","\t; Compare the encounter chance to select a Pokemon.","\tcall Random",".loop","\tcp [hl]","\tjr z, .ok","\tjr c, .ok","\tinc hl","\tinc hl","\tinc hl","\tjr .loop",".ok","\tinc hl","","\t; Species 0 reads from a time-based encounter table.","\tld a, [hli]","\tld d, a","\tand a","\tcall z, .TimeEncounter","","\tld e, [hl]","\tret","",".no_bite","\tld de, 0","\tret","",".TimeEncounter:","\t; The level byte is repurposed as the index for the new table.","\tld e, [hl]","\tld d, 0","\tld hl, TimeFishGroups","rept 4","\tadd hl, de","endr","","\tld a, [wTimeOfDay]","\tmaskbits NUM_DAYTIMES","\tcp NITE_F","\tjr c, .time_species","\tinc hl","\tinc hl","",".time_species","\tld d, [hl]","\tinc hl","\tret"],"name":"Fish","file":"engine/events/fish.asm","lineNo":1,"address":191281,"addressUsedBy":["FishFunction"]}