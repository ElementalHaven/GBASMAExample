{"names":["PutItemInPocket"],"callingMethods":["_ReceiveItem"],"methodsCalled":["GetPocketCapacity"],"methodAddressesUsed":[],"varsSet":["wItemQuantityBuffer"],"varsUsed":["wCurItem","wItemQuantityBuffer","wItemQuantityChangeBuffer"],"varAddressesUsed":[],"constantsUsed":[],"lines":["PutItemInPocket:","\tld d, h","\tld e, l","\tinc hl","\tld a, [wCurItem]","\tld c, a","\tld b, 0",".loop","\tld a, [hli]","\tcp -1","\tjr z, .terminator","\tcp c","\tjr nz, .next","\tld a, 99","\tsub [hl]","\tadd b","\tld b, a","\tld a, [wItemQuantityChangeBuffer]","\tcp b","\tjr z, .ok","\tjr c, .ok","",".next","\tinc hl","\tjr .loop","",".terminator","\tcall GetPocketCapacity","\tld a, [de]","\tcp c","\tjr c, .ok","\tand a","\tret","",".ok","\tld h, d","\tld l, e","\tld a, [wCurItem]","\tld c, a","\tld a, [wItemQuantityChangeBuffer]","\tld [wItemQuantityBuffer], a",".loop2","\tinc hl","\tld a, [hli]","\tcp -1","\tjr z, .terminator2","\tcp c","\tjr nz, .loop2","\tld a, [wItemQuantityBuffer]","\tadd [hl]","\tcp 100","\tjr nc, .newstack","\tld [hl], a","\tjr .done","",".newstack","\tld [hl], 99","\tsub 99","\tld [wItemQuantityBuffer], a","\tjr .loop2","",".terminator2","\tdec hl","\tld a, [wCurItem]","\tld [hli], a","\tld a, [wItemQuantityBuffer]","\tld [hli], a","\tld [hl], -1","\tld h, d","\tld l, e","\tinc [hl]","",".done","\tscf","\tret"],"name":"PutItemInPocket","file":"engine/items/items.asm","lineNo":158,"address":75991,"addressUsedBy":[]}