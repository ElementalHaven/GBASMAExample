{"names":["AI_Smart_PriorityHit"],"callingMethods":[],"methodsCalled":["AICompareSpeed","AIDiscourageMove","FarCall"],"methodAddressesUsed":["BattleCommand_DamageCalc","BattleCommand_Stab","EnemyAttackDamage"],"varsSet":["hBattleTurn"],"varsUsed":["wBattleMonHP","wCurDamage","wPlayerSubStatus3"],"varAddressesUsed":[],"constantsUsed":[],"lines":["AI_Smart_PriorityHit:","\tcall AICompareSpeed","\tret c","","; Dismiss this move if the player is flying or underground.","\tld a, [wPlayerSubStatus3]","\tand 1 \u003c\u003c SUBSTATUS_FLYING | 1 \u003c\u003c SUBSTATUS_UNDERGROUND","\tjp nz, AIDiscourageMove","","; Greatly encourage this move if it will KO the player.","\tld a, $1","\tldh [hBattleTurn], a","\tpush hl","\tcallfar EnemyAttackDamage","\tcallfar BattleCommand_DamageCalc","\tcallfar BattleCommand_Stab","\tpop hl","\tld a, [wCurDamage + 1]","\tld c, a","\tld a, [wCurDamage]","\tld b, a","\tld a, [wBattleMonHP + 1]","\tcp c","\tld a, [wBattleMonHP]","\tsbc b","\tret nc","\tdec [hl]","\tdec [hl]","\tdec [hl]","\tret"],"name":"AI_Smart_PriorityHit","file":"engine/battle/ai/scoring.asm","lineNo":1624,"address":126417,"addressUsedBy":[]}