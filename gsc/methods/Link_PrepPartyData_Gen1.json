{"names":["Link_PrepPartyData_Gen1"],"callingMethods":["Gen2ToGen1LinkComms"],"methodsCalled":["AddNTimes","CopyBytes","FarCall","FarCopyBytes","GetFarByte","Predef"],"methodAddressesUsed":["ConvertMon_2to1"],"varsSet":["wBaseSpecialAttack","wCurPartyLevel","wTempSpecies"],"varsUsed":["hQuotient","wTempSpecies"],"varAddressesUsed":["BaseData","CalcMonStatCPredef","KantoMonSpecials","wLinkData","wPartyCount","wPartyMon1Species","wPartyMonNicknames","wPartyMonOT","wPlayerName"],"constantsUsed":["BASE_CATCH_RATE","BASE_DATA_SIZE","BASE_TYPES","ELECTRIC","MON_HAPPINESS","MON_HP","MON_ITEM","MON_LEVEL","MON_MAXHP","MON_SAT","MON_STATUS","MON_STAT_EXP","NAME_LENGTH","PARTYMON_STRUCT_LENGTH","PARTY_LENGTH","SERIAL_PREAMBLE_BYTE","STAT_SATK","TRUE"],"lines":["Link_PrepPartyData_Gen1:","\tld de, wLinkData","\tld a, SERIAL_PREAMBLE_BYTE","\tld b, PARTY_LENGTH",".loop1","\tld [de], a","\tinc de","\tdec b","\tjr nz, .loop1","\tld hl, wPlayerName","\tld bc, NAME_LENGTH","\tcall CopyBytes","\tpush de","\tld hl, wPartyCount","\tld a, [hli]","\tld [de], a","\tinc de",".loop2","\tld a, [hli]","\tcp -1","\tjr z, .done_party","\tld [wTempSpecies], a","\tpush hl","\tpush de","\tcallfar ConvertMon_2to1","\tpop de","\tpop hl","\tld a, [wTempSpecies]","\tld [de], a","\tinc de","\tjr .loop2","",".done_party","\tld [de], a","\tpop de","\tld hl, 1 + PARTY_LENGTH + 1","\tadd hl, de","\tld d, h","\tld e, l","\tld hl, wPartyMon1Species","\tld c, PARTY_LENGTH",".mon_loop","\tpush bc","\tcall .ConvertPartyStruct2to1","\tld bc, PARTYMON_STRUCT_LENGTH","\tadd hl, bc","\tpop bc","\tdec c","\tjr nz, .mon_loop","\tld hl, wPartyMonOT","\tcall .copy_ot_nicks","\tld hl, wPartyMonNicknames",".copy_ot_nicks","\tld bc, PARTY_LENGTH * NAME_LENGTH","\tjp CopyBytes","",".ConvertPartyStruct2to1:","\tld b, h","\tld c, l","\tpush de","\tpush bc","\tld a, [hl]","\tld [wTempSpecies], a","\tcallfar ConvertMon_2to1","\tpop bc","\tpop de","\tld a, [wTempSpecies]","\tld [de], a","\tinc de","\tld hl, MON_HP","\tadd hl, bc","\tld a, [hli]","\tld [de], a","\tinc de","\tld a, [hl]","\tld [de], a","\tinc de","\txor a","\tld [de], a","\tinc de","\tld hl, MON_STATUS","\tadd hl, bc","\tld a, [hl]","\tld [de], a","\tinc de","\tld a, [bc]","\tcp MAGNEMITE","\tjr z, .steel_type","\tcp MAGNETON","\tjr nz, .skip_steel","",".steel_type","\tld a, ELECTRIC","\tld [de], a","\tinc de","\tld [de], a","\tinc de","\tjr .done_steel","",".skip_steel","\tpush bc","\tdec a","\tld hl, BaseData + BASE_TYPES","\tld bc, BASE_DATA_SIZE","\tcall AddNTimes","\tld bc, BASE_CATCH_RATE - BASE_TYPES","\tld a, BANK(BaseData)","\tcall FarCopyBytes","\tpop bc","",".done_steel","\tpush bc","\tld hl, MON_ITEM","\tadd hl, bc","\tld bc, MON_HAPPINESS - MON_ITEM","\tcall CopyBytes","\tpop bc","","\tld hl, MON_LEVEL","\tadd hl, bc","\tld a, [hl]","\tld [de], a","\tld [wCurPartyLevel], a","\tinc de","","\tpush bc","\tld hl, MON_MAXHP","\tadd hl, bc","\tld bc, MON_SAT - MON_MAXHP","\tcall CopyBytes","\tpop bc","","\tpush de","\tpush bc","","\tld a, [bc]","\tdec a","\tpush bc","\tld b, 0","\tld c, a","\tld hl, KantoMonSpecials","\tadd hl, bc","\tld a, BANK(KantoMonSpecials)","\tcall GetFarByte","\tld [wBaseSpecialAttack], a","\tpop bc","","\tld hl, MON_STAT_EXP - 1","\tadd hl, bc","\tld c, STAT_SATK","\tld b, TRUE","\tpredef CalcMonStatC","","\tpop bc","\tpop de","","\tldh a, [hQuotient + 2]","\tld [de], a","\tinc de","\tldh a, [hQuotient + 3]","\tld [de], a","\tinc de","\tld h, b","\tld l, c","\tret"],"name":"Link_PrepPartyData_Gen1","file":"engine/link/link.asm","lineNo":632,"address":102897,"addressUsedBy":[]}