{"names":["DetermineMoveOrder"],"callingMethods":["BattleTurn"],"methodsCalled":["BattleRandom","CompareBytes","CompareMovePriority","FarCall","SetEnemyTurn","SetPlayerTurn","SpikesDamage"],"methodAddressesUsed":["AI_Switch","GetOpponentItem","GetUserItem"],"varsSet":[],"varsUsed":["hSerialConnectionStatus","wBattleAction","wBattlePlayerAction","wLinkMode"],"varAddressesUsed":["wBattleMonSpeed","wEnemyMonSpeed"],"constantsUsed":[],"lines":["DetermineMoveOrder:","\tld a, [wLinkMode]","\tand a","\tjr z, .use_move","\tld a, [wBattleAction]","\tcp BATTLEACTION_STRUGGLE","\tjr z, .use_move","\tcp BATTLEACTION_SKIPTURN","\tjr z, .use_move","\tsub BATTLEACTION_SWITCH1","\tjr c, .use_move","\tld a, [wBattlePlayerAction]","\tcp BATTLEPLAYERACTION_SWITCH","\tjr nz, .switch","\tldh a, [hSerialConnectionStatus]","\tcp USING_INTERNAL_CLOCK","\tjr z, .player_2","","\tcall BattleRandom","\tcp 50 percent + 1","\tjp c, .player_first","\tjp .enemy_first","",".player_2","\tcall BattleRandom","\tcp 50 percent + 1","\tjp c, .enemy_first","\tjp .player_first","",".switch","\tcallfar AI_Switch","\tcall SetEnemyTurn","\tcall SpikesDamage","\tjp .enemy_first","",".use_move","\tld a, [wBattlePlayerAction]","\tand a ; BATTLEPLAYERACTION_USEMOVE?","\tjp nz, .player_first","\tcall CompareMovePriority","\tjr z, .equal_priority","\tjp c, .player_first ; player goes first","\tjp .enemy_first","",".equal_priority","\tcall SetPlayerTurn","\tcallfar GetUserItem","\tpush bc","\tcallfar GetOpponentItem","\tpop de","\tld a, d","\tcp HELD_QUICK_CLAW","\tjr nz, .player_no_quick_claw","\tld a, b","\tcp HELD_QUICK_CLAW","\tjr z, .both_have_quick_claw","\tcall BattleRandom","\tcp e","\tjr nc, .speed_check","\tjp .player_first","",".player_no_quick_claw","\tld a, b","\tcp HELD_QUICK_CLAW","\tjr nz, .speed_check","\tcall BattleRandom","\tcp c","\tjr nc, .speed_check","\tjp .enemy_first","",".both_have_quick_claw","\tldh a, [hSerialConnectionStatus]","\tcp USING_INTERNAL_CLOCK","\tjr z, .player_2b","\tcall BattleRandom","\tcp c","\tjp c, .enemy_first","\tcall BattleRandom","\tcp e","\tjp c, .player_first","\tjr .speed_check","",".player_2b","\tcall BattleRandom","\tcp e","\tjp c, .player_first","\tcall BattleRandom","\tcp c","\tjp c, .enemy_first","\tjr .speed_check","",".speed_check","\tld de, wBattleMonSpeed","\tld hl, wEnemyMonSpeed","\tld c, 2","\tcall CompareBytes","\tjr z, .speed_tie","\tjp nc, .player_first","\tjp .enemy_first","",".speed_tie","\tldh a, [hSerialConnectionStatus]","\tcp USING_INTERNAL_CLOCK","\tjr z, .player_2c","\tcall BattleRandom","\tcp 50 percent + 1","\tjp c, .player_first","\tjp .enemy_first","",".player_2c","\tcall BattleRandom","\tcp 50 percent + 1","\tjp c, .enemy_first",".player_first","\tscf","\tret","",".enemy_first","\tand a","\tret"],"name":"DetermineMoveOrder","file":"engine/battle/core.asm","lineNo":438,"address":134422,"addressUsedBy":[]}