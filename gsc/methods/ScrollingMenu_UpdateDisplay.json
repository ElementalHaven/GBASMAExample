{"names":["ScrollingMenu_UpdateDisplay"],"callingMethods":["ScrollingMenu_InitDisplay"],"methodsCalled":["CallPointerAt","ClearWholeMenuBox","Coord2Tile","MenuBoxCoord2Tile","PlaceString","ScrollingMenu_CallFunctions1and2","ScrollingMenu_GetListItemCoordAndFunctionArgs"],"methodAddressesUsed":[],"varsSet":["wScrollingMenuCursorPosition"],"varsUsed":["wMenuBorderBottomCoord","wMenuBorderRightCoord","wMenuBorderTopCoord","wMenuDataFlags","wMenuData_ScrollingMenuHeight","wMenuScrollPosition","wMenuSelection"],"varAddressesUsed":["wMenuData_ScrollingMenuFunction1"],"constantsUsed":["SCREEN_WIDTH"],"lines":["ScrollingMenu_UpdateDisplay:","\tcall ClearWholeMenuBox","\tld a, [wMenuDataFlags]","\tbit 4, a ; place arrows","\tjr z, .okay","\tld a, [wMenuScrollPosition]","\tand a","\tjr z, .okay","\tld a, [wMenuBorderTopCoord]","\tld b, a","\tld a, [wMenuBorderRightCoord]","\tld c, a","\tcall Coord2Tile","\tld [hl], \"▲\"","",".okay","\tcall MenuBoxCoord2Tile","\tld bc, SCREEN_WIDTH + 1","\tadd hl, bc","\tld a, [wMenuData_ScrollingMenuHeight]","\tld b, a","\tld c, $0",".loop","\tld a, [wMenuScrollPosition]","\tadd c","\tld [wScrollingMenuCursorPosition], a","\tld a, c","\tcall ScrollingMenu_GetListItemCoordAndFunctionArgs","\tld a, [wMenuSelection]","\tcp -1","\tjr z, .cancel","\tpush bc","\tpush hl","\tcall ScrollingMenu_CallFunctions1and2","\tpop hl","\tld bc, 2 * SCREEN_WIDTH","\tadd hl, bc","\tpop bc","\tinc c","\tld a, c","\tcp b","\tjr nz, .loop","\tld a, [wMenuDataFlags]","\tbit 4, a ; place arrows","\tjr z, .done","\tld a, [wMenuBorderBottomCoord]","\tld b, a","\tld a, [wMenuBorderRightCoord]","\tld c, a","\tcall Coord2Tile","\tld [hl], \"▼\"","",".done","\tret","",".cancel","\tld a, [wMenuDataFlags]","\tbit 0, a ; call function on cancel","\tjr nz, .call_function","\tld de, .CancelString","\tcall PlaceString","\tret","",".CancelString","\tdb \"CANCEL@\"","",".call_function","\tld d, h","\tld e, l","\tld hl, wMenuData_ScrollingMenuFunction1","\tjp CallPointerAt"],"name":"ScrollingMenu_UpdateDisplay","file":"engine/menus/scrolling_menu.asm","lineNo":345,"address":98192,"addressUsedBy":[]}