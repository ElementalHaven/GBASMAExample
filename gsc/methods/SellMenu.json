{"names":["SellMenu"],"callingMethods":["StandardMart"],"methodsCalled":["ClearBox","DisableSpriteUpdates","ExitMenu","FarCall","GiveMoney","JoyWaitAorB","JumpTable","MenuTextboxBackup","PlayTransactionSound","Predef","PrintText","PrintTextboxText","ReturnToMapWithSpeechTextbox","TossItem","YesNoBox"],"methodAddressesUsed":["CheckItemMenu","DepositSellInitPackBuffers","DepositSellPack","PlaceMoneyAtTopLeftOfTextbox","PlaceMoneyBottomLeft","SelectQuantityToSell","_CheckTossableItem"],"varsSet":[],"varsUsed":["wItemAttributeParamBuffer","wMartItemID","wPackUsedItem"],"varAddressesUsed":["MartBoughtText","MartCantBuyText","MartSellHowManyText","MartSellPriceText","PartyMonItemNamePredef","hMoneyTemp","wMoney","wNumItems"],"constantsUsed":[],"lines":["SellMenu:","\tcall DisableSpriteUpdates","\tfarcall DepositSellInitPackBuffers",".loop","\tfarcall DepositSellPack","\tld a, [wPackUsedItem]","\tand a","\tjp z, .quit","\tcall .TryToSellItem","\tjr .loop","",".quit","\tcall ReturnToMapWithSpeechTextbox","\tand a","\tret","",".NothingToSell: ; unreferenced","\tld hl, .NothingToSellText","\tcall MenuTextboxBackup","\tand a","\tret","",".NothingToSellText:","\ttext_far _NothingToSellText","\ttext_end","",".TryToSellItem:","\tfarcall CheckItemMenu","\tld a, [wItemAttributeParamBuffer]","\tld hl, .dw","\trst JumpTable","\tret","",".dw","\tdw .try_sell","\tdw .cant_buy","\tdw .cant_buy","\tdw .cant_buy","\tdw .try_sell","\tdw .try_sell","\tdw .try_sell","",".cant_buy","\tret","",".try_sell","\tfarcall _CheckTossableItem","\tld a, [wItemAttributeParamBuffer]","\tand a","\tjr z, .okay_to_sell","\tld hl, MartCantBuyText","\tcall PrintText","\tand a","\tret","",".okay_to_sell","\tld hl, MartSellHowManyText","\tcall PrintText","\tfarcall PlaceMoneyAtTopLeftOfTextbox","\tfarcall SelectQuantityToSell","\tcall ExitMenu","\tjr c, .declined","\thlcoord 1, 14","\tlb bc, 3, 18","\tcall ClearBox","\tld hl, MartSellPriceText","\tcall PrintTextboxText","\tcall YesNoBox","\tjr c, .declined","\tld de, wMoney","\tld bc, hMoneyTemp","\tcall GiveMoney","\tld a, [wMartItemID]","\tld hl, wNumItems","\tcall TossItem","\tpredef PartyMonItemName","\thlcoord 1, 14","\tlb bc, 3, 18","\tcall ClearBox","\tld hl, MartBoughtText","\tcall PrintTextboxText","\tcall PlayTransactionSound","\tfarcall PlaceMoneyBottomLeft","\tcall JoyWaitAorB","",".declined","\tcall ExitMenu","\tand a","\tret"],"name":"SellMenu","file":"engine/items/mart.asm","lineNo":709,"address":93807,"addressUsedBy":[]}