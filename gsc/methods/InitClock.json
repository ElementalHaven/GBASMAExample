{"names":["InitClock"],"callingMethods":[],"methodsCalled":["ByteFill","ClearSprites","ClearTilemap","DelayFrames","DisplayHourOClock","DisplayMinutesWithMinString","GetSGBLayout","InitTimeOfDay","JoyTextDelay","LoadStandardFont","PrintText","Request1bpp","RotateFourPalettesLeft","RotateFourPalettesRight","SetHour","SetMinutes","Textbox","WaitBGMap","WaitPressAorB_BlinkCursor","YesNoBox"],"methodAddressesUsed":["OakText_ResponseToSetTime","OakTimeWhatHoursText","OakTimeWhoaMinutesText"],"varsSet":["hBGMapMode","hInMenu","wInitHourBuffer","wMusicFade","wMusicFadeID","wSpriteUpdatesEnabled","wStringBuffer2"],"varsUsed":["hInMenu","wInitHourBuffer","wInitMinuteBuffer"],"varAddressesUsed":["OakTimeHowManyMinutesText","OakTimeWhatTimeIsItText","OakTimeWokeUpText","vTiles2","wTimeSetBuffer"],"constantsUsed":["MUSIC_NONE","SCGB_DIPLOMA","SCREEN_HEIGHT","SCREEN_WIDTH","tile"],"lines":["InitClock:","; Ask the player to set the time.","\tldh a, [hInMenu]","\tpush af","\tld a, $1","\tldh [hInMenu], a","","\tld a, $0","\tld [wSpriteUpdatesEnabled], a","\tld a, $10","\tld [wMusicFade], a","\tld a, LOW(MUSIC_NONE)","\tld [wMusicFadeID], a","\tld a, HIGH(MUSIC_NONE)","\tld [wMusicFadeID + 1], a","\tld c, 8","\tcall DelayFrames","\tcall RotateFourPalettesLeft","\tcall ClearTilemap","\tcall ClearSprites","\tld b, SCGB_DIPLOMA","\tcall GetSGBLayout","\txor a","\tldh [hBGMapMode], a","\tcall LoadStandardFont","\tld de, TimeSetBackgroundGFX","\tld hl, vTiles2 tile $00","\tlb bc, BANK(TimeSetBackgroundGFX), 1","\tcall Request1bpp","\tld de, TimeSetUpArrowGFX","\tld hl, vTiles2 tile $01","\tlb bc, BANK(TimeSetUpArrowGFX), 1","\tcall Request1bpp","\tld de, TimeSetDownArrowGFX","\tld hl, vTiles2 tile $02","\tlb bc, BANK(TimeSetDownArrowGFX), 1","\tcall Request1bpp","\tcall .ClearScreen","\tcall WaitBGMap","\tcall RotateFourPalettesRight","\tld hl, OakTimeWokeUpText","\tcall PrintText","\tld hl, wTimeSetBuffer","\tld bc, wTimeSetBufferEnd - wTimeSetBuffer","\txor a","\tcall ByteFill","\tld a, 10 ; default hour \u003d 10 AM","\tld [wInitHourBuffer], a","",".loop","\tld hl, OakTimeWhatTimeIsItText","\tcall PrintText","\thlcoord 3, 7","\tld b, 2","\tld c, 15","\tcall Textbox","\thlcoord 11, 7","\tld [hl], $1","\thlcoord 11, 10","\tld [hl], $2","\thlcoord 4, 9","\tcall DisplayHourOClock","\tld c, 10","\tcall DelayFrames","",".SetHourLoop:","\tcall JoyTextDelay","\tcall SetHour","\tjr nc, .SetHourLoop","","\tld a, [wInitHourBuffer]","\tld [wStringBuffer2 + 1], a","\tcall .ClearScreen","\tld hl, OakTimeWhatHoursText","\tcall PrintText","\tcall YesNoBox","\tjr nc, .HourIsSet","\tcall .ClearScreen","\tjr .loop","",".HourIsSet:","\tld hl, OakTimeHowManyMinutesText","\tcall PrintText","\thlcoord 11, 7","\tlb bc, 2, 7","\tcall Textbox","\thlcoord 15, 7","\tld [hl], $1","\thlcoord 15, 10","\tld [hl], $2","\thlcoord 12, 9","\tcall DisplayMinutesWithMinString","\tld c, 10","\tcall DelayFrames","",".SetMinutesLoop:","\tcall JoyTextDelay","\tcall SetMinutes","\tjr nc, .SetMinutesLoop","","\tld a, [wInitMinuteBuffer]","\tld [wStringBuffer2 + 2], a","\tcall .ClearScreen","\tld hl, OakTimeWhoaMinutesText","\tcall PrintText","\tcall YesNoBox","\tjr nc, .MinutesAreSet","\tcall .ClearScreen","\tjr .HourIsSet","",".MinutesAreSet:","\tcall InitTimeOfDay","\tld hl, OakText_ResponseToSetTime","\tcall PrintText","\tcall WaitPressAorB_BlinkCursor","\tpop af","\tldh [hInMenu], a","\tret","",".ClearScreen:","\txor a","\tldh [hBGMapMode], a","\thlcoord 0, 0","\tld bc, SCREEN_HEIGHT * SCREEN_WIDTH","\txor a","\tcall ByteFill","\tld a, $1","\tldh [hBGMapMode], a","\tret"],"name":"InitClock","file":"engine/rtc/timeset.asm","lineNo":4,"address":188084,"addressUsedBy":["OakSpeech"]}