{"names":["CheckPrinterStatus"],"callingMethods":["PrintUnownStamp","SendScreenToPrinter"],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":["wPrinterStatus"],"varsUsed":["wPrinterHandshake","wPrinterStatusFlags"],"varAddressesUsed":[],"constantsUsed":["PRINTER_ERROR_1","PRINTER_ERROR_2","PRINTER_ERROR_3","PRINTER_ERROR_4"],"lines":["CheckPrinterStatus:","; Check for printer errors","; If [wPrinterHandshake] \u003d\u003d -1, we\u0027re disconnected","\tld a, [wPrinterHandshake]","\tcp -1","\tjr nz, .printer_connected","\tld a, [wPrinterStatusFlags]","\tcp -1","\tjr z, .error_2",".printer_connected","\tld a, [wPrinterStatusFlags]","\tand %11100000","\tret z ; no error","","\tbit 7, a","\tjr nz, .error_1","\tbit 6, a","\tjr nz, .error_4","\t; paper error","\tld a, PRINTER_ERROR_3","\tjr .load_text_index","",".error_4","\t; temperature error","\tld a, PRINTER_ERROR_4","\tjr .load_text_index","",".error_1","\t; printer battery low","\tld a, PRINTER_ERROR_1","\tjr .load_text_index","",".error_2","\t; connection error","\tld a, PRINTER_ERROR_2",".load_text_index","\tld [wPrinterStatus], a","\tret"],"name":"CheckPrinterStatus","file":"engine/printer/printer.asm","lineNo":507,"address":174007,"addressUsedBy":[]}