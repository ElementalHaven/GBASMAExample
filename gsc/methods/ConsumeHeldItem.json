{"names":["ConsumeHeldItem"],"callingMethods":[],"methodsCalled":["FarCall","GetPartyLocation"],"methodAddressesUsed":["GetItemHeldEffect"],"varsSet":[],"varsUsed":["hBattleTurn","wBattleMode","wCurBattleMon","wCurOTMon"],"varAddressesUsed":["ConsumableEffects","wBattleMonItem","wEnemyMonItem","wOTPartyMon1Item","wPartyMon1Item"],"constantsUsed":["NO_ITEM"],"lines":["ConsumeHeldItem:","\tpush hl","\tpush de","\tpush bc","\tldh a, [hBattleTurn]","\tand a","\tld hl, wOTPartyMon1Item","\tld de, wEnemyMonItem","\tld a, [wCurOTMon]","\tjr z, .theirturn","\tld hl, wPartyMon1Item","\tld de, wBattleMonItem","\tld a, [wCurBattleMon]","",".theirturn","\tpush hl","\tpush af","\tld a, [de]","\tld b, a","\tfarcall GetItemHeldEffect","\tld hl, ConsumableEffects",".loop","\tld a, [hli]","\tcp b","\tjr z, .ok","\tinc a","\tjr nz, .loop","\tpop af","\tpop hl","\tpop bc","\tpop de","\tpop hl","\tret","",".ok","\txor a","\tld [de], a","\tpop af","\tpop hl","\tcall GetPartyLocation","\tldh a, [hBattleTurn]","\tand a","\tjr nz, .ourturn","\tld a, [wBattleMode]","\tdec a","\tjr z, .done","",".ourturn","\tld [hl], NO_ITEM","",".done","\tpop bc","\tpop de","\tpop hl","\tret","","; Held item effects that are consumed on use"],"name":"ConsumeHeldItem","file":"engine/battle/consume_held_item.asm","lineNo":1,"address":101924,"addressUsedBy":["UseOpponentItem"]}