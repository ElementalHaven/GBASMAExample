{"names":["CelebiShrineEvent"],"callingMethods":[],"methodsCalled":["ByteFill","CelebiEvent_CountDown","CelebiEvent_SetBattleType","DelayFrame","DelayFrames","FarCall","GetCelebiSpriteTile","InitSpriteAnimStruct","LoadCelebiGFX"],"methodAddressesUsed":["DoNextFrameForAllSprites"],"varsSet":["wCurSpriteOAMAddr","wFrameCounter","wVramState"],"varsUsed":["wJumptableIndex","wVramState"],"varAddressesUsed":["wVirtualOAMSprite00TileID"],"constantsUsed":["SPECIALCELEBIEVENT_CELEBI","SPRITEANIMSTRUCT_0F","SPRITEANIMSTRUCT_ANIM_SEQ_ID","SPRITEANIMSTRUCT_TILE_ID","SPRITEOAMSTRUCT_LENGTH","SPRITE_ANIM_INDEX_CELEBI","SPRITE_ANIM_SEQ_CELEBI"],"lines":["CelebiShrineEvent:","\tcall DelayFrame","\tld a, [wVramState]","\tpush af","\txor a","\tld [wVramState], a","\tcall LoadCelebiGFX","\tdepixel 0, 10, 7, 0","\tld a, SPRITE_ANIM_INDEX_CELEBI","\tcall InitSpriteAnimStruct","\tld hl, SPRITEANIMSTRUCT_TILE_ID","\tadd hl, bc","\tld [hl], SPECIALCELEBIEVENT_CELEBI","\tld hl, SPRITEANIMSTRUCT_ANIM_SEQ_ID","\tadd hl, bc","\tld [hl], SPRITE_ANIM_SEQ_CELEBI","\tld hl, SPRITEANIMSTRUCT_0F","\tadd hl, bc","\tld a, $80","\tld [hl], a","\tld a, 160 ; frame count","\tld [wFrameCounter], a","\tld d, $0",".loop","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .done","\tpush bc","\tcall GetCelebiSpriteTile","\tinc d","\tpush de","\tld a, 36 * SPRITEOAMSTRUCT_LENGTH","\tld [wCurSpriteOAMAddr], a","\tfarcall DoNextFrameForAllSprites","\tcall CelebiEvent_CountDown","\tld c, 2","\tcall DelayFrames","\tpop de","\tpop bc","\tjr .loop","",".done","\tpop af","\tld [wVramState], a","\tcall .RestorePlayerSprite_DespawnLeaves","\tcall CelebiEvent_SetBattleType","\tret","",".RestorePlayerSprite_DespawnLeaves:","\tld hl, wVirtualOAMSprite00TileID","\txor a","\tld c, 4",".OAMloop:","\tld [hli], a ; tile id","rept SPRITEOAMSTRUCT_LENGTH - 1","\tinc hl","endr","\tinc a","\tdec c","\tjr nz, .OAMloop","\tld hl, wVirtualOAMSprite04","\tld bc, wVirtualOAMEnd - wVirtualOAMSprite04","\txor a","\tcall ByteFill","\tret"],"name":"CelebiShrineEvent","file":"engine/events/celebi.asm","lineNo":9,"address":152031,"addressUsedBy":[]}