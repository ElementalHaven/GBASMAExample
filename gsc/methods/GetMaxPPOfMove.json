{"names":["GetMaxPPOfMove"],"callingMethods":["RestoreAllPP","RestorePP"],"methodsCalled":["AddNTimes","ComputeMaxPP","GetFarByte","GetMthMoveOfCurrentMon","GetMthMoveOfNthPartymon"],"methodAddressesUsed":[],"varsSet":["wStringBuffer1","wTempPP"],"varsUsed":["wMonType","wStringBuffer1"],"varAddressesUsed":["Moves","wBattleMonMoves","wEnemyMonMoves","wEnemyMonPP","wOTPartyMon1Moves","wPartyMon1Moves","wStringBuffer1","wTempMonMoves"],"constantsUsed":["MON_MOVES","MON_PP","MOVE_LENGTH","MOVE_PP","PARTYMON_STRUCT_LENGTH"],"lines":["GetMaxPPOfMove:","\tld a, [wStringBuffer1 + 0]","\tpush af","\tld a, [wStringBuffer1 + 1]","\tpush af","","\tld a, [wMonType]","\tand a","","\tld hl, wPartyMon1Moves","\tld bc, PARTYMON_STRUCT_LENGTH","\tjr z, .got_partymon ; PARTYMON","","\tld hl, wOTPartyMon1Moves","\tdec a","\tjr z, .got_partymon ; OTPARTYMON","","\tld hl, wTempMonMoves","\tdec a","\tjr z, .got_nonpartymon ; BOXMON","","\tld hl, wTempMonMoves ; Wasted cycles","\tdec a","\tjr z, .got_nonpartymon ; TEMPMON","","\tld hl, wBattleMonMoves ; WILDMON","",".got_nonpartymon ; BOXMON, TEMPMON, WILDMON","\tcall GetMthMoveOfCurrentMon","\tjr .gotdatmove","",".got_partymon ; PARTYMON, OTPARTYMON","\tcall GetMthMoveOfNthPartymon","",".gotdatmove","\tld a, [hl]","\tdec a","","\tpush hl","\tld hl, Moves + MOVE_PP","\tld bc, MOVE_LENGTH","\tcall AddNTimes","\tld a, BANK(Moves)","\tcall GetFarByte","\tld b, a","\tld de, wStringBuffer1","\tld [de], a","\tpop hl","","\tpush bc","\tld bc, MON_PP - MON_MOVES","\tld a, [wMonType]","\tcp WILDMON","\tjr nz, .notwild","\tld bc, wEnemyMonPP - wEnemyMonMoves",".notwild","\tadd hl, bc","\tld a, [hl]","\tand PP_UP_MASK","\tpop bc","","\tor b","\tld hl, wStringBuffer1 + 1","\tld [hl], a","\txor a","\tld [wTempPP], a","\tld a, b ; this gets lost anyway","\tcall ComputeMaxPP","\tld a, [hl]","\tand PP_MASK","\tld [wTempPP], a","","\tpop af","\tld [wStringBuffer1 + 1], a","\tpop af","\tld [wStringBuffer1 + 0], a","\tret"],"name":"GetMaxPPOfMove","file":"engine/items/item_effects.asm","lineNo":2837,"address":81497,"addressUsedBy":["RestorePPOfDepositedPokemon","ListMovePP","MoveInfoBox"]}