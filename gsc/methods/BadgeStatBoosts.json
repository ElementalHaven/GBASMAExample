{"names":["BadgeStatBoosts"],"callingMethods":["InitBattleMon"],"methodsCalled":["BoostStat"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wInBattleTowerBattle","wJohtoBadges","wLinkMode"],"varAddressesUsed":["wBattleMonAttack"],"constantsUsed":[],"lines":["BadgeStatBoosts:","; Raise the stats of the battle mon in wBattleMon","; depending on which badges have been obtained.","","; Every other badge boosts a stat, starting from the first.","; GlacierBadge also boosts Special Defense, although the relevant code is buggy (see below).","","; \tZephyrBadge:  Attack","; \tPlainBadge:   Speed","; \tMineralBadge: Defense","; \tGlacierBadge: Special Attack and Special Defense","","; The boosted stats are in order, except PlainBadge and MineralBadge\u0027s boosts are swapped.","","\tld a, [wLinkMode]","\tand a","\tret nz","","\tld a, [wInBattleTowerBattle]","\tand a","\tret nz","","\tld a, [wJohtoBadges]","","; Swap badges 3 (PlainBadge) and 5 (MineralBadge).","\tld d, a","\tand (1 \u003c\u003c PLAINBADGE)","\tadd a","\tadd a","\tld b, a","\tld a, d","\tand (1 \u003c\u003c MINERALBADGE)","\trrca","\trrca","\tld c, a","\tld a, d","\tand ((1 \u003c\u003c ZEPHYRBADGE) | (1 \u003c\u003c HIVEBADGE) | (1 \u003c\u003c FOGBADGE) | (1 \u003c\u003c STORMBADGE) | (1 \u003c\u003c GLACIERBADGE) | (1 \u003c\u003c RISINGBADGE))","\tor b","\tor c","\tld b, a","","\tld hl, wBattleMonAttack","\tld c, 4",".CheckBadge:","\tld a, b","\tsrl b","\tcall c, BoostStat","\tinc hl","\tinc hl","; Check every other badge.","\tsrl b","\tdec c","\tjr nz, .CheckBadge","; Check GlacierBadge again for Special Defense.","; This check is buggy because it assumes that a is set by the \"ld a, b\" in the above loop,","; but it can actually be overwritten by the call to BoostStat.","\tsrl a","\tcall c, BoostStat","\tret"],"name":"BadgeStatBoosts","file":"engine/battle/core.asm","lineNo":6756,"address":139563,"addressUsedBy":["GiveExperiencePoints","CalcPlayerStats"]}