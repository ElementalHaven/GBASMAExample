{"names":["FlyToAnim"],"callingMethods":[],"methodsCalled":["ByteFill","DelayFrame","FarCall","FlyFunction_FrameTimer","FlyFunction_InitGFX","InitSpriteAnimStruct"],"methodAddressesUsed":["DoNextFrameForAllSprites"],"varsSet":["wCurSpriteOAMAddr","wFrameCounter","wVramState"],"varsUsed":["wJumptableIndex","wVramState"],"varAddressesUsed":["wVirtualOAMSprite00TileID"],"constantsUsed":["FIELDMOVE_FLY","SPRITEANIMSTRUCT_0F","SPRITEANIMSTRUCT_ANIM_SEQ_ID","SPRITEANIMSTRUCT_TILE_ID","SPRITEOAMSTRUCT_LENGTH","SPRITE_ANIM_INDEX_RED_WALK","SPRITE_ANIM_SEQ_FLY_TO"],"lines":["FlyToAnim:","\tcall DelayFrame","\tld a, [wVramState]","\tpush af","\txor a","\tld [wVramState], a","\tcall FlyFunction_InitGFX","\tdepixel 31, 10, 4, 0","\tld a, SPRITE_ANIM_INDEX_RED_WALK","\tcall InitSpriteAnimStruct","\tld hl, SPRITEANIMSTRUCT_TILE_ID","\tadd hl, bc","\tld [hl], FIELDMOVE_FLY","\tld hl, SPRITEANIMSTRUCT_ANIM_SEQ_ID","\tadd hl, bc","\tld [hl], SPRITE_ANIM_SEQ_FLY_TO","\tld hl, SPRITEANIMSTRUCT_0F","\tadd hl, bc","\tld [hl], 11 * 8","\tld a, 64","\tld [wFrameCounter], a",".loop","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .exit","\tld a, 0 * SPRITEOAMSTRUCT_LENGTH","\tld [wCurSpriteOAMAddr], a","\tcallfar DoNextFrameForAllSprites","\tcall FlyFunction_FrameTimer","\tcall DelayFrame","\tjr .loop","",".exit","\tpop af","\tld [wVramState], a","\tcall .RestorePlayerSprite_DespawnLeaves","\tret","",".RestorePlayerSprite_DespawnLeaves:","\tld hl, wVirtualOAMSprite00TileID","\txor a","\tld c, 4",".OAMloop","\tld [hli], a ; tile id","rept SPRITEOAMSTRUCT_LENGTH - 1","\tinc hl","endr","\tinc a","\tdec c","\tjr nz, .OAMloop","\tld hl, wVirtualOAMSprite04","\tld bc, wVirtualOAMEnd - wVirtualOAMSprite04","\txor a","\tcall ByteFill","\tret"],"name":"FlyToAnim","file":"engine/events/field_moves.asm","lineNo":342,"address":182635,"addressUsedBy":[]}