{"names":["BattleCommand_Conversion"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","AnimateFailedMove","BattleRandom","FarCall","GetMoveAttr","PrintButItFailed","StdBattleTextbox"],"methodAddressesUsed":["GetTypeName"],"varsSet":["wNamedObjectIndexBuffer"],"varsUsed":["hBattleTurn"],"varAddressesUsed":["Moves","TransformedTypeText","wBattleMonMoves","wBattleMonType1","wEnemyMonMoves","wEnemyMonType1","wStringBuffer1"],"constantsUsed":["MOVE_TYPE"],"lines":["BattleCommand_Conversion:","; conversion","","\tld hl, wBattleMonMoves","\tld de, wBattleMonType1","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_moves","\tld hl, wEnemyMonMoves","\tld de, wEnemyMonType1",".got_moves","\tpush de","\tld c, 0","\tld de, wStringBuffer1",".loop","\tpush hl","\tld b, 0","\tadd hl, bc","\tld a, [hl]","\tpop hl","\tand a","\tjr z, .okay","\tpush hl","\tpush bc","\tdec a","\tld hl, Moves + MOVE_TYPE","\tcall GetMoveAttr","\tld [de], a","\tinc de","\tpop bc","\tpop hl","\tinc c","\tld a, c","\tcp NUM_MOVES","\tjr c, .loop",".okay","\tld a, $ff","\tld [de], a","\tinc de","\tld [de], a","\tinc de","\tld [de], a","\tpop de","\tld hl, wStringBuffer1",".loop2","\tld a, [hl]","\tcp -1","\tjr z, .fail","\tcp CURSE_TYPE","\tjr z, .next","\tld a, [de]","\tcp [hl]","\tjr z, .next","\tinc de","\tld a, [de]","\tdec de","\tcp [hl]","\tjr nz, .done",".next","\tinc hl","\tjr .loop2","",".fail","\tcall AnimateFailedMove","\tjp PrintButItFailed","",".done",".loop3","\tcall BattleRandom","\tmaskbits NUM_MOVES","\tld c, a","\tld b, 0","\tld hl, wStringBuffer1","\tadd hl, bc","\tld a, [hl]","\tcp -1","\tjr z, .loop3","\tcp CURSE_TYPE","\tjr z, .loop3","\tld a, [de]","\tcp [hl]","\tjr z, .loop3","\tinc de","\tld a, [de]","\tdec de","\tcp [hl]","\tjr z, .loop3","\tld a, [hl]","\tld [de], a","\tinc de","\tld [de], a","\tld [wNamedObjectIndexBuffer], a","\tfarcall GetTypeName","\tcall AnimateCurrentMove","\tld hl, TransformedTypeText","\tjp StdBattleTextbox"],"name":"BattleCommand_Conversion","file":"engine/battle/move_effects/conversion.asm","lineNo":1,"address":122676,"addressUsedBy":[]}