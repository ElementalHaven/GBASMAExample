{"names":["HitConfusion"],"callingMethods":["BattleCommand_CheckObedience","CheckPlayerTurn"],"methodsCalled":["BattleCommand_DamageCalc","BattleCommand_LowerSub","BattleCommand_RaiseSub","CallBattleCore","DoPlayerDamage","GetBattleVar","HitSelfInConfusion","PlayFXAnimID","StdBattleTextbox"],"methodAddressesUsed":["UpdatePlayerHUD"],"varsSet":["hBGMapMode","wCriticalHit","wNumHits"],"varsUsed":[],"varAddressesUsed":[],"constantsUsed":["ANIM_HIT_CONFUSION","BATTLE_VARS_SUBSTATUS3_OPP","TRUE"],"lines":["HitConfusion:","\tld hl, HurtItselfText","\tcall StdBattleTextbox","","\txor a","\tld [wCriticalHit], a","","\tcall HitSelfInConfusion","\tcall BattleCommand_DamageCalc","\tcall BattleCommand_LowerSub","","\txor a","\tld [wNumHits], a","","\t; Flicker the monster pic unless flying or underground.","\tld de, ANIM_HIT_CONFUSION","\tld a, BATTLE_VARS_SUBSTATUS3_OPP","\tcall GetBattleVar","\tand 1 \u003c\u003c SUBSTATUS_FLYING | 1 \u003c\u003c SUBSTATUS_UNDERGROUND","\tcall z, PlayFXAnimID","","\tld hl, UpdatePlayerHUD","\tcall CallBattleCore","\tld a, $1","\tldh [hBGMapMode], a","\tld c, TRUE","\tcall DoPlayerDamage","\tjp BattleCommand_RaiseSub"],"name":"HitConfusion","file":"engine/battle/effect_commands.asm","lineNo":604,"address":116804,"addressUsedBy":[]}