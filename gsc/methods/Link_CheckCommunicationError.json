{"names":["Link_CheckCommunicationError"],"callingMethods":["CheckLinkTimeout","Function29dba"],"methodsCalled":["DelayFrame","LinkDataReceived","WaitLinkTransfer"],"methodAddressesUsed":[],"varsSet":["hSerialReceivedNewData","wLinkTimeoutFrames","wScriptVar"],"varsUsed":["wLinkTimeoutFrames"],"varAddressesUsed":["wLinkTimeoutFrames"],"constantsUsed":[],"lines":["Link_CheckCommunicationError:","\txor a","\tldh [hSerialReceivedNewData], a","\tld a, [wLinkTimeoutFrames]","\tld h, a","\tld a, [wLinkTimeoutFrames + 1]","\tld l, a","\tpush hl","\tcall .CheckConnected","\tpop hl","\tjr nz, .load_true","\tcall .AcknowledgeSerial","\tcall .ConvertDW","\tcall .CheckConnected","\tjr nz, .load_true","\tcall .AcknowledgeSerial","\txor a","\tjr .load_scriptvar","",".load_true","\tld a, $1","",".load_scriptvar","\tld [wScriptVar], a","\tld hl, wLinkTimeoutFrames","\txor a","\tld [hli], a","\tld [hl], a","\tret","",".CheckConnected:","\tcall WaitLinkTransfer","\tld hl, wLinkTimeoutFrames","\tld a, [hli]","\tinc a","\tret nz","\tld a, [hl]","\tinc a","\tret","",".AcknowledgeSerial:","\tld b, 10",".loop","\tcall DelayFrame","\tcall LinkDataReceived","\tdec b","\tjr nz, .loop","\tret","",".ConvertDW:","\t; [wLinkTimeoutFrames] \u003d ((hl - $100) / 4) + $100","\t;                      \u003d (hl / 4) + $c0","\tdec h","\tsrl h","\trr l","\tsrl h","\trr l","\tinc h","\tld a, h","\tld [wLinkTimeoutFrames], a","\tld a, l","\tld [wLinkTimeoutFrames + 1], a","\tret"],"name":"Link_CheckCommunicationError","file":"engine/link/link.asm","lineNo":2307,"address":105709,"addressUsedBy":[]}