{"names":["Slots_PayoutText"],"callingMethods":["SlotsAction_PayoutTextAndAnim"],"methodsCalled":["CopyBytes","FarCall","PrintText","Random","Slots_PlaySFX","WaitSFX"],"methodAddressesUsed":["StubbedTrainerRankings_AddToSlotsWinStreak","StubbedTrainerRankings_EndSlotsWinStreak"],"varsSet":["SCREEN_WIDTH","wSlotBias"],"varsUsed":["wKeepSevenBiasChance","wSlotMatched"],"varAddressesUsed":["wStringBuffer2"],"constantsUsed":["SFX_2ND_PLACE","SFX_3RD_PLACE","SFX_PRESENT","SLOTS_NO_BIAS","wTilemap"],"lines":["Slots_PayoutText:","\tld a, [wSlotMatched]","\tcp SLOTS_NO_MATCH","\tjr nz, .MatchedSomething","\tld hl, .SlotsDarnText","\tcall PrintText","\tfarcall StubbedTrainerRankings_EndSlotsWinStreak","\tret","",".MatchedSomething:","\tsrl a","\tld e, a","\tld d, 0","\tld hl, .PayoutStrings","\tadd hl, de","\tadd hl, de","\tadd hl, de","\tld de, wStringBuffer2","\tld bc, 4","\tcall CopyBytes","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tld de, .return","\tpush de","\tjp hl","",".return","\tld hl, .Text_PrintPayout","\tcall PrintText","\tfarcall StubbedTrainerRankings_AddToSlotsWinStreak","\tret","",".PayoutStrings:","\tdbw \"300@\", .LinedUpSevens","\tdbw \"50@@\", .LinedUpPokeballs","\tdbw \"6@@@\", .LinedUpMonOrCherry","\tdbw \"8@@@\", .LinedUpMonOrCherry","\tdbw \"10@@\", .LinedUpMonOrCherry","\tdbw \"15@@\", .LinedUpMonOrCherry","",".Text_PrintPayout:","\ttext_asm","\tld a, [wSlotMatched]","\tadd $25","\tldcoord_a 2, 13","\tinc a","\tldcoord_a 2, 14","\tinc a","\tldcoord_a 3, 13","\tinc a","\tldcoord_a 3, 14","\thlcoord 18, 17","\tld [hl], \"â–¼\"","\tld hl, .SlotsLinedUpText","rept 4","\tinc bc","endr","\tret","",".SlotsLinedUpText:","\ttext_far _SlotsLinedUpText","\ttext_end","",".SlotsDarnText:","\ttext_far _SlotsDarnText","\ttext_end","",".LinedUpSevens:","\tld a, SFX_2ND_PLACE","\tcall Slots_PlaySFX","\tcall WaitSFX","","; Oddly, the rarest mode (wKeepSevenBiasChance \u003d 1) is the one with","; the worse odds to favor seven symbol streaks (12.5% vs 25%).","; it\u0027s possible that either the wKeepSevenBiasChance initialization","; or this code was intended to lead to flipped percentages.","\tld a, [wKeepSevenBiasChance]","\tand a","\tjr nz, .lower_seven_streak_odds","\tcall Random","\tand %0010100","\tret z ; 25% chance to stick with seven symbol bias","\tld a, SLOTS_NO_BIAS","\tld [wSlotBias], a","\tret","",".lower_seven_streak_odds","\tcall Random","\tand %0011100","\tret z ; 12.5% chance to stick with seven symbol bias","\tld a, SLOTS_NO_BIAS","\tld [wSlotBias], a","\tret","",".LinedUpPokeballs:","\tld a, SFX_3RD_PLACE","\tcall Slots_PlaySFX","\tcall WaitSFX","\tret","",".LinedUpMonOrCherry:","\tld a, SFX_PRESENT","\tcall Slots_PlaySFX","\tcall WaitSFX","\tret"],"name":"Slots_PayoutText","file":"engine/games/slot_machine.asm","lineNo":1845,"address":193017,"addressUsedBy":[]}