{"names":["ApplyPokerusTick"],"callingMethods":[],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wPartyCount"],"varAddressesUsed":["wPartyMon1PokerusStatus"],"constantsUsed":["PARTYMON_STRUCT_LENGTH"],"lines":["ApplyPokerusTick:","; decreases all pokemon\u0027s pokerus counter by b. if the lower nybble reaches zero, the pokerus is cured.","\tld hl, wPartyMon1PokerusStatus ; wPartyMon1 + MON_PKRS","\tld a, [wPartyCount]","\tand a","\tret z ; make sure it\u0027s not wasting time on an empty party","\tld c, a",".loop","\tld a, [hl]","\tand $f ; lower nybble is the number of days remaining","\tjr z, .next ; if already 0, skip","\tsub b ; subtract the number of days","\tjr nc, .ok ; max(result, 0)","\txor a",".ok","\tld d, a ; back up this value because we need to preserve the strain (upper nybble)","\tld a, [hl]","\tand $f0","\tadd d","\tld [hl], a ; this prevents a cured pokemon from recontracting pokerus",".next","\tld de, PARTYMON_STRUCT_LENGTH","\tadd hl, de","\tdec c","\tjr nz, .loop","\tret"],"name":"ApplyPokerusTick","file":"engine/events/pokerus/apply_pokerus_tick.asm","lineNo":1,"address":88786,"addressUsedBy":["CheckPokerusTick"]}