{"names":["HandleScreens"],"callingMethods":["HandleBetweenTurnEffects"],"methodsCalled":["CopyName2","SetEnemyTurn","SetPlayerTurn","StdBattleTextbox"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["hSerialConnectionStatus"],"varAddressesUsed":["BattleText_MonsLightScreenFell","BattleText_MonsReflectFaded","wEnemyLightScreenCount","wEnemyScreens","wPlayerLightScreenCount","wPlayerScreens","wStringBuffer1"],"constantsUsed":[],"lines":["HandleScreens:","\tldh a, [hSerialConnectionStatus]","\tcp USING_EXTERNAL_CLOCK","\tjr z, .Both","\tcall .CheckPlayer","\tjr .CheckEnemy","",".Both:","\tcall .CheckEnemy","",".CheckPlayer:","\tcall SetPlayerTurn","\tld de, .Your","\tcall .Copy","\tld hl, wPlayerScreens","\tld de, wPlayerLightScreenCount","\tjr .TickScreens","",".CheckEnemy:","\tcall SetEnemyTurn","\tld de, .Enemy","\tcall .Copy","\tld hl, wEnemyScreens","\tld de, wEnemyLightScreenCount","",".TickScreens:","\tbit SCREENS_LIGHT_SCREEN, [hl]","\tcall nz, .LightScreenTick","\tbit SCREENS_REFLECT, [hl]","\tcall nz, .ReflectTick","\tret","",".Copy:","\tld hl, wStringBuffer1","\tjp CopyName2","",".Your:","\tdb \"Your@\"",".Enemy:","\tdb \"Enemy@\"","",".LightScreenTick:","\tld a, [de]","\tdec a","\tld [de], a","\tret nz","\tres SCREENS_LIGHT_SCREEN, [hl]","\tpush hl","\tpush de","\tld hl, BattleText_MonsLightScreenFell","\tcall StdBattleTextbox","\tpop de","\tpop hl","\tret","",".ReflectTick:","\tinc de","\tld a, [de]","\tdec a","\tld [de], a","\tret nz","\tres SCREENS_REFLECT, [hl]","\tld hl, BattleText_MonsReflectFaded","\tjp StdBattleTextbox"],"name":"HandleScreens","file":"engine/battle/core.asm","lineNo":1615,"address":135398,"addressUsedBy":[]}