{"names":["MagnetTrain_Jumptable"],"callingMethods":["MagnetTrain","MagnetTrain_Jumptable_FirstRunThrough"],"methodsCalled":["InitSpriteAnimStruct","PlaySFX"],"methodAddressesUsed":[],"varsSet":["rSVBK","wJumptableIndex","wMagnetTrainPosition","wMagnetTrainWaitCounter"],"varsUsed":["rSVBK","wJumptableIndex","wMagnetTrainDirection","wMagnetTrainPlayerSpriteInitX","wMagnetTrainPosition","wPlayerGender"],"varAddressesUsed":["wGlobalAnimXOffset","wMagnetTrainFinalPosition","wMagnetTrainHoldPosition","wMagnetTrainWaitCounter","wPlayerGender"],"constantsUsed":["SFX_TRAIN_ARRIVED","SPRITEANIMSTRUCT_TILE_ID","SPRITE_ANIM_INDEX_MAGNET_TRAIN_BLUE","SPRITE_ANIM_INDEX_MAGNET_TRAIN_RED","TILE_WIDTH"],"lines":["MagnetTrain_Jumptable:","\tld a, [wJumptableIndex]","\tld e, a","\tld d, 0","\tld hl, .Jumptable","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjp hl","",".Jumptable:","\tdw .InitPlayerSpriteAnim","\tdw .WaitScene","\tdw .MoveTrain1","\tdw .WaitScene","\tdw .MoveTrain2","\tdw .WaitScene","\tdw .TrainArrived","",".Next:","\tld hl, wJumptableIndex","\tinc [hl]","\tret","",".InitPlayerSpriteAnim:","\tld d, (8 + 2) * TILE_WIDTH + 5","\tld a, [wMagnetTrainPlayerSpriteInitX]","\tld e, a","\tld b, SPRITE_ANIM_INDEX_MAGNET_TRAIN_RED","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wPlayerGender)","\tldh [rSVBK], a","\tld a, [wPlayerGender]","\tbit PLAYERGENDER_FEMALE_F, a","\tjr z, .got_gender","\tld b, SPRITE_ANIM_INDEX_MAGNET_TRAIN_BLUE",".got_gender","\tpop af","\tldh [rSVBK], a","\tld a, b","\tcall InitSpriteAnimStruct","\tld hl, SPRITEANIMSTRUCT_TILE_ID","\tadd hl, bc","\tld [hl], 0","\tcall .Next","\tld a, 128","\tld [wMagnetTrainWaitCounter], a","\tret","",".MoveTrain1:","\tld hl, wMagnetTrainHoldPosition","\tld a, [wMagnetTrainPosition]","\tcp [hl]","\tjr z, .PrepareToHoldTrain","\tld e, a","\tld a, [wMagnetTrainDirection]","\txor $ff","\tinc a","\tadd e","\tld [wMagnetTrainPosition], a","\tld hl, wGlobalAnimXOffset","\tld a, [wMagnetTrainDirection]","\tadd [hl]","\tld [hl], a","\tret","",".PrepareToHoldTrain:","\tcall .Next","\tld a, 128","\tld [wMagnetTrainWaitCounter], a","\tret","",".WaitScene:","\tld hl, wMagnetTrainWaitCounter","\tld a, [hl]","\tand a","\tjr z, .DoneWaiting","\tdec [hl]","\tret","",".DoneWaiting:","\tcall .Next","\tret","",".MoveTrain2:","\tld hl, wMagnetTrainFinalPosition","\tld a, [wMagnetTrainPosition]","\tcp [hl]","\tjr z, .PrepareToFinishAnim","\tld e, a","\tld a, [wMagnetTrainDirection]","\txor $ff","\tinc a","\tld d, a","\tld a, e","\tadd d","\tadd d","\tld [wMagnetTrainPosition], a","\tld hl, wGlobalAnimXOffset","\tld a, [wMagnetTrainDirection]","\tld d, a","\tld a, [hl]","\tadd d","\tadd d","\tld [hl], a","\tret","","\tret","",".PrepareToFinishAnim:","\tcall .Next","\tret","",".TrainArrived:","\tld a, $80","\tld [wJumptableIndex], a","\tld de, SFX_TRAIN_ARRIVED","\tcall PlaySFX","\tret"],"name":"MagnetTrain_Jumptable","file":"engine/events/magnet_train.asm","lineNo":274,"address":182950,"addressUsedBy":[]}