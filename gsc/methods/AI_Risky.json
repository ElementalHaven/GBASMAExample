{"names":["AI_Risky"],"callingMethods":[],"methodsCalled":["AICheckEnemyMaxHP","AIDamageCalc","AIGetEnemyMove","IsInArray","Random"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wBattleMonHP","wCurDamage","wEnemyMoveStruct"],"varAddressesUsed":["RiskyEffects","wBuffer1","wEnemyMonMoves"],"constantsUsed":["MOVE_EFFECT","MOVE_POWER","NUM_MOVES"],"lines":["AI_Risky:","; Use any move that will KO the target.","; Risky moves will often be an exception (see below).","","\tld hl, wBuffer1 - 1","\tld de, wEnemyMonMoves","\tld c, NUM_MOVES + 1",".checkmove","\tinc hl","\tdec c","\tret z","","\tld a, [de]","\tinc de","\tand a","\tret z","","\tpush de","\tpush bc","\tpush hl","\tcall AIGetEnemyMove","","\tld a, [wEnemyMoveStruct + MOVE_POWER]","\tand a","\tjr z, .nextmove","","; Don\u0027t use risky moves at max hp.","\tld a, [wEnemyMoveStruct + MOVE_EFFECT]","\tld de, 1","\tld hl, RiskyEffects","\tcall IsInArray","\tjr nc, .checkko","","\tcall AICheckEnemyMaxHP","\tjr c, .nextmove","","; Else, 80% chance to exclude them.","\tcall Random","\tcp 79 percent - 1","\tjr c, .nextmove","",".checkko","\tcall AIDamageCalc","","\tld a, [wCurDamage + 1]","\tld e, a","\tld a, [wCurDamage]","\tld d, a","\tld a, [wBattleMonHP + 1]","\tcp e","\tld a, [wBattleMonHP]","\tsbc d","\tjr nc, .nextmove","","\tpop hl","rept 5","\tdec [hl]","endr","\tpush hl","",".nextmove","\tpop hl","\tpop bc","\tpop de","\tjr .checkmove","","; AI_RISKY will not use these effects at max HP","; even if they would KO the player."],"name":"AI_Risky","file":"engine/battle/ai/scoring.asm","lineNo":3138,"address":127533,"addressUsedBy":[]}