{"names":["FlyFunction"],"callingMethods":[],"methodsCalled":["CheckBadge","CheckOutdoorMap","ClearSprites","CloseWindow","DelayFrame","FarCall","FieldMoveFailed","FieldMoveJumptable","FieldMoveJumptableReset","GetMapEnvironment","LoadStandardMenuHeader","QueueScript","UpdatePlayerSprite","WaitBGMap"],"methodAddressesUsed":["Function561d","LoadOverworldFont","_FlyMap"],"varsSet":["hMapAnims","wDefaultSpawnpoint","wFieldMoveSucceeded"],"varsUsed":[],"varAddressesUsed":[],"constantsUsed":["ENGINE_STORMBADGE"],"lines":["FlyFunction:","\tcall FieldMoveJumptableReset",".loop","\tld hl, .Jumptable","\tcall FieldMoveJumptable","\tjr nc, .loop","\tand $7f","\tld [wFieldMoveSucceeded], a","\tret","",".Jumptable:"," \tdw .TryFly"," \tdw .DoFly"," \tdw .FailFly","",".TryFly:","; Fly","\tld de, ENGINE_STORMBADGE","\tcall CheckBadge","\tjr c, .nostormbadge","\tcall GetMapEnvironment","\tcall CheckOutdoorMap","\tjr z, .outdoors","\tjr .indoors","",".outdoors","\txor a","\tldh [hMapAnims], a","\tcall LoadStandardMenuHeader","\tcall ClearSprites","\tfarcall _FlyMap","\tld a, e","\tcp -1","\tjr z, .illegal","\tcp NUM_SPAWNS","\tjr nc, .illegal","","\tld [wDefaultSpawnpoint], a","\tcall CloseWindow","\tld a, $1","\tret","",".nostormbadge","\tld a, $82","\tret","",".indoors","\tld a, $2","\tret","",".illegal","\tcall CloseWindow","\tcall WaitBGMap","\tld a, $80","\tret","",".DoFly:","\tld hl, .FlyScript","\tcall QueueScript","\tld a, $81","\tret","",".FailFly:","\tcall FieldMoveFailed","\tld a, $82","\tret","",".FlyScript:","\treloadmappart","\tcallasm HideSprites","\tspecial UpdateTimePals","\tcallasm FlyFromAnim","\tfarscall Script_AbortBugContest","\tspecial WarpToSpawnPoint","\tcallasm SkipUpdateMapSprites","\tloadvar VAR_MOVEMENT, PLAYER_NORMAL","\tnewloadmap MAPSETUP_FLY","\tcallasm FlyToAnim","\tspecial WaitSFX","\tcallasm .ReturnFromFly","\tend","",".ReturnFromFly:","\tfarcall Function561d","\tcall DelayFrame","\tcall UpdatePlayerSprite","\tfarcall LoadOverworldFont","\tret"],"name":"FlyFunction","file":"engine/events/overworld.asm","lineNo":546,"address":74561,"addressUsedBy":["MonMenu_Fly"]}