{"names":["ReadMart"],"callingMethods":["BargainShop","RooftopSale"],"methodsCalled":["GetMartPrice"],"methodAddressesUsed":[],"varsSet":["wCurMart"],"varsUsed":[],"varAddressesUsed":["wCurMart","wMartItem1BCD","wMartPointer"],"constantsUsed":[],"lines":["ReadMart:","; Load the mart pointer.  Mart data is local (no need for bank).","\tld hl, wMartPointer","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tpush hl","; set hl to the first item","\tinc hl","\tld bc, wMartItem1BCD","\tld de, wCurMart + 1",".loop","; copy the item to wCurMart + (ItemIndex)","\tld a, [hli]","\tld [de], a","\tinc de","; -1 is the terminator","\tcp -1","\tjr z, .done","","\tpush de","; copy the price to de","\tld a, [hli]","\tld e, a","\tld a, [hli]","\tld d, a","; convert the price to 3-byte BCD at [bc]","\tpush hl","\tld h, b","\tld l, c","\tcall GetMartPrice","\tld b, h","\tld c, l","\tpop hl","","\tpop de","\tjr .loop","",".done","\tpop hl","\tld a, [hl]","\tld [wCurMart], a","\tret"],"name":"ReadMart","file":"engine/items/mart.asm","lineNo":290,"address":93362,"addressUsedBy":[]}