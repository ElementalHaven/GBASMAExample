{"names":["BattleTurn"],"callingMethods":["DoBattle"],"methodsCalled":["BattleMenu","Battle_EnemyFirst","Battle_PlayerFirst","CheckContestBattleOver","CheckMobileBattleError","CheckPlayerLockedIn","DetermineMoveOrder","EnemyTriesToFlee","FarCall","HandleBerserkGene","HandleBetweenTurnEffects","IsMobileBattle","ParsePlayerAction","Stubbed_Function3c1bf","UpdateBattleMonInParty"],"methodAddressesUsed":["AIChooseMove","Function100da5","Function100dd8","StartMobileInactivityTimer"],"varsSet":["wBattleHasJustStarted","wCurDamage","wEnemyIsSwitching","wEnemyJustGotFrozen","wPlayerIsSwitching","wPlayerJustGotFrozen"],"varsUsed":["wBattleEnded","wForcedSwitch"],"varAddressesUsed":[],"constantsUsed":[],"lines":["BattleTurn:",".loop","\tcall Stubbed_Function3c1bf","\tcall CheckContestBattleOver","\tjp c, .quit","","\txor a","\tld [wPlayerIsSwitching], a","\tld [wEnemyIsSwitching], a","\tld [wBattleHasJustStarted], a","\tld [wPlayerJustGotFrozen], a","\tld [wEnemyJustGotFrozen], a","\tld [wCurDamage], a","\tld [wCurDamage + 1], a","","\tcall HandleBerserkGene","\tcall UpdateBattleMonInParty","\tfarcall AIChooseMove","","\tcall IsMobileBattle","\tjr nz, .not_disconnected","\tfarcall Function100da5","\tfarcall StartMobileInactivityTimer","\tfarcall Function100dd8","\tjp c, .quit",".not_disconnected","","\tcall CheckPlayerLockedIn","\tjr c, .skip_iteration",".loop1","\tcall BattleMenu","\tjr c, .quit","\tld a, [wBattleEnded]","\tand a","\tjr nz, .quit","\tld a, [wForcedSwitch] ; roared/whirlwinded/teleported","\tand a","\tjr nz, .quit",".skip_iteration","\tcall ParsePlayerAction","\tjr nz, .loop1","","\tcall EnemyTriesToFlee","\tjr c, .quit","","\tcall DetermineMoveOrder","\tjr c, .false","\tcall Battle_EnemyFirst","\tjr .proceed",".false","\tcall Battle_PlayerFirst",".proceed","\tcall CheckMobileBattleError","\tjr c, .quit","","\tld a, [wForcedSwitch]","\tand a","\tjr nz, .quit","","\tld a, [wBattleEnded]","\tand a","\tjr nz, .quit","","\tcall HandleBetweenTurnEffects","\tld a, [wBattleEnded]","\tand a","\tjr nz, .quit","\tjp .loop","",".quit","\tret"],"name":"BattleTurn","file":"engine/battle/core.asm","lineNo":159,"address":134195,"addressUsedBy":[]}