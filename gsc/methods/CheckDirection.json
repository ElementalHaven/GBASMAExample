{"names":["CheckDirection"],"callingMethods":["SurfFunction","TrySurfOW"],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wPlayerDirection","wTilePermissions"],"varAddressesUsed":[],"constantsUsed":[],"lines":["CheckDirection:","; Return carry if a tile permission prevents you","; from moving in the direction you\u0027re facing.","","; Get player direction","\tld a, [wPlayerDirection]","\tand %00001100 ; bits 2 and 3 contain direction","\trrca","\trrca","\tld e, a","\tld d, 0","\tld hl, .Directions","\tadd hl, de","","; Can you walk in this direction?","\tld a, [wTilePermissions]","\tand [hl]","\tjr nz, .quit","\txor a","\tret","",".quit","\tscf","\tret","",".Directions:","\tdb FACE_DOWN","\tdb FACE_UP","\tdb FACE_LEFT","\tdb FACE_RIGHT"],"name":"CheckDirection","file":"engine/events/overworld.asm","lineNo":455,"address":74497,"addressUsedBy":[]}