{"names":["LoadSelectedPartiesForColosseum"],"callingMethods":[],"methodsCalled":["AddNTimes","ByteFill","CopyBytes"],"methodAddressesUsed":[],"varsSet":["wStringBuffer2"],"varsUsed":["wStringBuffer2"],"varAddressesUsed":["wOTMonSelection","wOTPartyCount","wOTPartyMon1Species","wOTPartyMonNicknames","wOTPartyMonOT","wPartyCount","wPartyMon1Species","wPartyMonNicknames","wPartyMonOT","wPlayerMonSelection","wStringBuffer2","wc608"],"constantsUsed":["NAME_LENGTH","NAME_LENGTH_JAPANESE","PARTYMON_STRUCT_LENGTH"],"lines":["LoadSelectedPartiesForColosseum:","\txor a","\tld hl, wStringBuffer2","\tld bc, 9","\tcall ByteFill","\tld hl, wPlayerMonSelection","\tld de, wPartyCount","\tcall .CopyThreeSpecies","\tld hl, wPlayerMonSelection","\tld de, wPartyMon1Species","\tcall .CopyPartyStruct","\tld hl, wPlayerMonSelection","\tld de, wPartyMonOT","\tcall .CopyName","\tld hl, wPlayerMonSelection","\tld de, wPartyMonNicknames","\tcall .CopyName","\tld hl, wOTMonSelection","\tld de, wOTPartyCount","\tcall .CopyThreeSpecies","\tld hl, wOTMonSelection","\tld de, wOTPartyMon1Species","\tcall .CopyPartyStruct","\tld hl, wOTMonSelection","\tld de, wOTPartyMonOT","\tcall .CopyName","\tld hl, wOTMonSelection","\tld de, wOTPartyMonNicknames","\tcall .CopyName","\tret","",".CopyThreeSpecies:","; Load the 3 choices to the buffer","\tpush de","\tld bc, wStringBuffer2 + NAME_LENGTH_JAPANESE","\txor a",".party_loop","\tpush af","\tcall .GetNthSpecies","\tld [bc], a","\tinc bc","\tpop af","\tinc a","\tcp 3","\tjr nz, .party_loop","\tpop de","; Copy the 3 choices to the party","\tld a, 3","\tld [de], a","\tinc de","\tld hl, wStringBuffer2 + NAME_LENGTH_JAPANESE","\tld bc, 3","\tcall CopyBytes","\tld a, $ff","\tld [de], a","\tret","",".GetNthSpecies:","; Preserves hl and de","; Get the index of the Nth selection","\tpush hl","\tadd l","\tld l, a","\tld a, h","\tadc 0","\tld h, a","\tld a, [hl]","\tpop hl","; Get the corresponding species","\tpush de","\tinc de","\tadd e","\tld e, a","\tld a, d","\tadc 0","\tld d, a","\tld a, [de]","\tpop de","\tret","",".CopyPartyStruct:","\tld bc, PARTYMON_STRUCT_LENGTH","\tjr .ContinueCopy","",".CopyName:","\tld bc, NAME_LENGTH","",".ContinueCopy:","\t; Copy, via wc608...","\tld a, LOW(wc608)","\tld [wStringBuffer2], a","\tld a, HIGH(wc608)","\tld [wStringBuffer2 + 1], a","\t; ... bc bytes...","\tld a, c","\tld [wStringBuffer2 + 2], a","\tld a, b","\tld [wStringBuffer2 + 3], a","\t; ... to de...","\tld a, e","\tld [wStringBuffer2 + 4], a","\tld a, d","\tld [wStringBuffer2 + 5], a","\t; ... 3 times.","\tld a, 3",".big_copy_loop","\tpush af","\tld a, [hli]","\tpush hl","\tpush af","\tcall .GetDestinationAddress","\tcall .GetCopySize","\tpop af","\tcall AddNTimes","\tld a, [wStringBuffer2]","\tld e, a","\tld a, [wStringBuffer2 + 1]","\tld d, a","\tcall CopyBytes","\tld a, e","\tld [wStringBuffer2], a","\tld a, d","\tld [wStringBuffer2 + 1], a","\tpop hl","\tpop af","\tdec a","\tjr nz, .big_copy_loop","\tcall .GetCopySize","\tld a, 3","\tld hl, 0","\tcall AddNTimes","\tld b, h","\tld c, l","\tcall .GetDestinationAddress","\tld d, h","\tld e, l","\tld hl, wc608","\tcall CopyBytes","\tret","",".GetDestinationAddress:","\tld a, [wStringBuffer2 + 4]","\tld l, a","\tld a, [wStringBuffer2 + 5]","\tld h, a","\tret","",".GetCopySize:","\tld a, [wStringBuffer2 + 2]","\tld c, a","\tld a, [wStringBuffer2 + 3]","\tld b, a","\tret"],"name":"LoadSelectedPartiesForColosseum","file":"mobile/mobile_40.asm","lineNo":2501,"address":256993,"addressUsedBy":["CopyOtherPlayersBattleMonSelection"]}