{"names":["AI_Aggressive"],"callingMethods":[],"methodsCalled":["AIDamageCalc","AIGetEnemyMove","IsInArray"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wCurDamage","wEnemyMoveStruct"],"varAddressesUsed":["RecklessMoves","wBuffer1","wEnemyMonMoves"],"constantsUsed":["MOVE_EFFECT","MOVE_POWER"],"lines":["AI_Aggressive:","; Use whatever does the most damage.","","; Discourage all damaging moves but the one that does the most damage.","; If no damaging move deals damage to the player (immune),","; no move will be discouraged","","; Figure out which attack does the most damage and put it in c.","\tld hl, wEnemyMonMoves","\tld bc, 0","\tld de, 0",".checkmove","\tinc b","\tld a, b","\tcp NUM_MOVES + 1","\tjr z, .gotstrongestmove","","\tld a, [hli]","\tand a","\tjr z, .gotstrongestmove","","\tpush hl","\tpush de","\tpush bc","\tcall AIGetEnemyMove","\tld a, [wEnemyMoveStruct + MOVE_POWER]","\tand a","\tjr z, .nodamage","\tcall AIDamageCalc","\tpop bc","\tpop de","\tpop hl","","; Update current move if damage is highest so far","\tld a, [wCurDamage + 1]","\tcp e","\tld a, [wCurDamage]","\tsbc d","\tjr c, .checkmove","","\tld a, [wCurDamage + 1]","\tld e, a","\tld a, [wCurDamage]","\tld d, a","\tld c, b","\tjr .checkmove","",".nodamage","\tpop bc","\tpop de","\tpop hl","\tjr .checkmove","",".gotstrongestmove","; Nothing we can do if no attacks did damage.","\tld a, c","\tand a","\tjr z, .done","","; Discourage moves that do less damage unless they\u0027re reckless too.","\tld hl, wBuffer1 - 1","\tld de, wEnemyMonMoves","\tld b, 0",".checkmove2","\tinc b","\tld a, b","\tcp NUM_MOVES + 1","\tjr z, .done","","; Ignore this move if it is the highest damaging one.","\tcp c","\tld a, [de]","\tinc de","\tinc hl","\tjr z, .checkmove2","","\tcall AIGetEnemyMove","","; Ignore this move if its power is 0 or 1.","; Moves such as Seismic Toss, Hidden Power,","; Counter and Fissure have a base power of 1.","\tld a, [wEnemyMoveStruct + MOVE_POWER]","\tcp 2","\tjr c, .checkmove2","","; Ignore this move if it is reckless.","\tpush hl","\tpush de","\tpush bc","\tld a, [wEnemyMoveStruct + MOVE_EFFECT]","\tld hl, RecklessMoves","\tld de, 1","\tcall IsInArray","\tpop bc","\tpop de","\tpop hl","\tjr c, .checkmove2","","; If we made it this far, discourage this move.","\tinc [hl]","\tjr .checkmove2","",".done","\tret","","; AI_AGGRESSIVE does not discourage these moves","; even if a stronger one is available."],"name":"AI_Aggressive","file":"engine/battle/ai/scoring.asm","lineNo":2908,"address":127346,"addressUsedBy":[]}