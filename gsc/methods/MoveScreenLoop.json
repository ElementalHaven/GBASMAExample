{"names":["MoveScreenLoop"],"callingMethods":["ManagePokemonMoves","MoveScreenLoop"],"methodsCalled":["AddNTimes","ByteFill","ClearBox","ClearSprites","ClearTilemap","MoveScreenLoop","PlaceHollowCursor","PlaceMoveData","PlaceMoveScreenArrows","PlaceString","PlayClickSFX","PlaySFX","PrepareToPlaceMoveData","ScrollingMenuJoypad","SetMenuAttributes","SetUpMoveList","SetUpMoveScreenBG","WaitSFX"],"methodAddressesUsed":[],"varsSet":["wCurPartyMon","wMenuCursorY","wMoveSwapBuffer","wPartyMenuCursor"],"varsUsed":["wBattleMode","wCurPartyMon","wMenuCursorY","wMoveSwapBuffer"],"varAddressesUsed":["MoveScreenAttributes","String_MoveWhere","w2DMenuFlags1","wBattleMonMoves","wPartyMon1Moves","wPartySpecies"],"constantsUsed":["PARTYMON_STRUCT_LENGTH","SCREEN_WIDTH","SFX_SWITCH_POKEMON"],"lines":["MoveScreenLoop:","\tld a, [wCurPartyMon]","\tinc a","\tld [wPartyMenuCursor], a","\tcall SetUpMoveScreenBG","\tcall PlaceMoveScreenArrows","\tld de, MoveScreenAttributes","\tcall SetMenuAttributes",".loop","\tcall SetUpMoveList","\tld hl, w2DMenuFlags1","\tset 6, [hl]","\tjr .skip_joy","",".joy_loop","\tcall ScrollingMenuJoypad","\tbit 1, a","\tjp nz, .b_button","\tbit 0, a","\tjp nz, .a_button","\tbit 4, a","\tjp nz, .d_right","\tbit 5, a","\tjp nz, .d_left","",".skip_joy","\tcall PrepareToPlaceMoveData","\tld a, [wMoveSwapBuffer]","\tand a","\tjr nz, .moving_move","\tcall PlaceMoveData","\tjp .joy_loop","",".moving_move","\tld a, \" \"","\thlcoord 1, 11","\tld bc, 5","\tcall ByteFill","\thlcoord 1, 12","\tlb bc, 5, SCREEN_WIDTH - 2","\tcall ClearBox","\thlcoord 1, 12","\tld de, String_MoveWhere","\tcall PlaceString","\tjp .joy_loop",".b_button","\tcall PlayClickSFX","\tcall WaitSFX","\tld a, [wMoveSwapBuffer]","\tand a","\tjp z, .exit","","\tld a, [wMoveSwapBuffer]","\tld [wMenuCursorY], a","\txor a","\tld [wMoveSwapBuffer], a","\thlcoord 1, 2","\tlb bc, 8, SCREEN_WIDTH - 2","\tcall ClearBox","\tjp .loop","",".d_right","\tld a, [wMoveSwapBuffer]","\tand a","\tjp nz, .joy_loop","","\tld a, [wCurPartyMon]","\tld b, a","\tpush bc","\tcall .cycle_right","\tpop bc","\tld a, [wCurPartyMon]","\tcp b","\tjp z, .joy_loop","\tjp MoveScreenLoop","",".d_left","\tld a, [wMoveSwapBuffer]","\tand a","\tjp nz, .joy_loop","\tld a, [wCurPartyMon]","\tld b, a","\tpush bc","\tcall .cycle_left","\tpop bc","\tld a, [wCurPartyMon]","\tcp b","\tjp z, .joy_loop","\tjp MoveScreenLoop","",".cycle_right","\tld a, [wCurPartyMon]","\tinc a","\tld [wCurPartyMon], a","\tld c, a","\tld b, 0","\tld hl, wPartySpecies","\tadd hl, bc","\tld a, [hl]","\tcp -1","\tjr z, .cycle_left","\tcp EGG","\tret nz","\tjr .cycle_right","",".cycle_left","\tld a, [wCurPartyMon]","\tand a","\tret z",".cycle_left_loop","\tld a, [wCurPartyMon]","\tdec a","\tld [wCurPartyMon], a","\tld c, a","\tld b, 0","\tld hl, wPartySpecies","\tadd hl, bc","\tld a, [hl]","\tcp EGG","\tret nz","\tld a, [wCurPartyMon]","\tand a","\tjr z, .cycle_right","\tjr .cycle_left_loop","",".a_button","\tcall PlayClickSFX","\tcall WaitSFX","\tld a, [wMoveSwapBuffer]","\tand a","\tjr nz, .place_move","\tld a, [wMenuCursorY]","\tld [wMoveSwapBuffer], a","\tcall PlaceHollowCursor","\tjp .moving_move","",".place_move","\tld hl, wPartyMon1Moves","\tld bc, PARTYMON_STRUCT_LENGTH","\tld a, [wCurPartyMon]","\tcall AddNTimes","\tpush hl","\tcall .copy_move","\tpop hl","\tld bc, $15","\tadd hl, bc","\tcall .copy_move","\tld a, [wBattleMode]","\tjr z, .swap_moves","\tld hl, wBattleMonMoves","\tld bc, $20","\tld a, [wCurPartyMon]","\tcall AddNTimes","\tpush hl","\tcall .copy_move","\tpop hl","\tld bc, 6","\tadd hl, bc","\tcall .copy_move","",".swap_moves","\tld de, SFX_SWITCH_POKEMON","\tcall PlaySFX","\tcall WaitSFX","\tld de, SFX_SWITCH_POKEMON","\tcall PlaySFX","\tcall WaitSFX","\thlcoord 1, 2","\tlb bc, 8, 18","\tcall ClearBox","\thlcoord 10, 10","\tlb bc, 1, 9","\tcall ClearBox","\tjp .loop","",".copy_move","\tpush hl","\tld a, [wMenuCursorY]","\tdec a","\tld c, a","\tld b, $0","\tadd hl, bc","\tld d, h","\tld e, l","\tpop hl","\tld a, [wMoveSwapBuffer]","\tdec a","\tld c, a","\tld b, $0","\tadd hl, bc","\tld a, [de]","\tld b, [hl]","\tld [hl], a","\tld a, b","\tld [de], a","\tret","",".exit","\txor a","\tld [wMoveSwapBuffer], a","\tld hl, w2DMenuFlags1","\tres 6, [hl]","\tcall ClearSprites","\tjp ClearTilemap"],"name":"MoveScreenLoop","file":"engine/pokemon/mon_menu.asm","lineNo":875,"address":87380,"addressUsedBy":[]}