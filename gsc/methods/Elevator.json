{"names":["Elevator"],"callingMethods":[],"methodsCalled":["Elevator_AskWhichFloor","Elevator_GoToFloor","GetFarByte"],"methodAddressesUsed":[],"varsSet":["wElevatorOriginFloor","wElevatorPointer","wElevatorPointerBank"],"varsUsed":["wBackupMapGroup","wBackupMapNumber","wElevatorPointerBank"],"varAddressesUsed":["wCurElevator","wElevatorOriginFloor","wElevatorPointer"],"constantsUsed":[],"lines":["Elevator::","\tcall .LoadPointer","\tcall .FindCurrentFloor","\tjr c, .quit","\tld [wElevatorOriginFloor], a","\tcall Elevator_AskWhichFloor","\tjr c, .quit","\tld hl, wElevatorOriginFloor","\tcp [hl]","\tjr z, .quit","\tcall Elevator_GoToFloor","\tand a","\tret","",".quit","\tscf","\tret","",".LoadPointer:","\tld a, b","\tld [wElevatorPointerBank], a","\tld a, e","\tld [wElevatorPointer], a","\tld a, d","\tld [wElevatorPointer + 1], a","\tcall .LoadFloors","\tret","",".LoadFloors:","\tld de, wCurElevator","\tld bc, wElevatorDataEnd - wElevatorData","\tld hl, wElevatorPointer","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tinc hl","\tld [de], a","\tinc de",".loop","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tld [de], a","\tinc de","\tadd hl, bc","\tcp -1","\tjr nz, .loop","\tret","",".FindCurrentFloor:","\tld hl, wElevatorPointer","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tld c, a","\tinc hl","\tld a, [wBackupMapGroup]","\tld d, a","\tld a, [wBackupMapNumber]","\tld e, a","\tld b, 0",".loop2","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tcp -1","\tjr z, .fail","\tinc hl","\tinc hl","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tinc hl","\tcp d","\tjr nz, .next1","\tld a, [wElevatorPointerBank]","\tcall GetFarByte","\tinc hl","\tcp e","\tjr nz, .next2","\tjr .done","",".next1","\tinc hl",".next2","\tinc b","\tjr .loop2","",".done","\txor a","\tld a, b","\tret","",".fail","\tscf","\tret"],"name":"Elevator","file":"engine/events/elevator.asm","lineNo":1,"address":87898,"addressUsedBy":[]}