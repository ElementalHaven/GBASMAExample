{"names":["PrintUnownStamp"],"callingMethods":[],"methodsCalled":["CheckCancelPrint","CheckPrinterStatus","DelayFrame","FarCall","JoyTextDelay","LoadTilemapToTempTilemap","PlacePrinterStatusString","PrinterJumptableIteration","Printer_CleanUpAfterSend","Printer_PlayMusic","Printer_PrepareTilemapForPrint","Printer_ResetJoypadRegisters","SafeLoadTempTilemapToTilemap"],"methodAddressesUsed":["PlaceUnownPrinterFrontpic"],"varsSet":["hBGMapMode","hPrinter","hVBlank","rIE","rIF","wPrinterQueueLength","wPrinterRowIndex"],"varsUsed":["rIE","wJumptableIndex","wPrinterQueueLength"],"varAddressesUsed":["hVBlank"],"constantsUsed":["SERIAL","VBLANK"],"lines":["PrintUnownStamp:","\tld a, [wPrinterQueueLength]","\tpush af","\txor a","\tldh [hPrinter], a","\tcall Printer_PlayMusic","\tldh a, [rIE]","\tpush af","\txor a","\tldh [rIF], a","\tld a, (1 \u003c\u003c SERIAL) | (1 \u003c\u003c VBLANK)","\tldh [rIE], a","\tld hl, hVBlank","\tld a, [hl]","\tpush af","\tld [hl], $4","\txor a","\tldh [hBGMapMode], a","\tcall LoadTilemapToTempTilemap","\tfarcall PlaceUnownPrinterFrontpic","\tln a, 0, 0 ; to be loaded to wPrinterMargins","\tcall Printer_PrepareTilemapForPrint","\tcall SafeLoadTempTilemapToTilemap","\tcall Printer_ResetJoypadRegisters","\tld a, 18 / 2","\tld [wPrinterQueueLength], a",".loop","\tcall JoyTextDelay","\tcall CheckCancelPrint","\tjr c, .done","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .done","\tcall PrinterJumptableIteration","\tld a, [wJumptableIndex]","\tcp $2","\tjr nc, .check_status","\tld a, 6 / 2","\tld [wPrinterRowIndex], a","",".check_status","\tcall CheckPrinterStatus","\tcall PlacePrinterStatusString","\tcall DelayFrame","\tjr .loop","",".done","\tpop af","\tldh [hVBlank], a","\tcall Printer_CleanUpAfterSend","\tcall SafeLoadTempTilemapToTilemap","\txor a","\tldh [rIF], a","\tpop af","\tldh [rIE], a","\tpop af","\tld [wPrinterQueueLength], a","\tret"],"name":"PrintUnownStamp","file":"engine/printer/printer.asm","lineNo":212,"address":173767,"addressUsedBy":["_UnownPrinter"]}