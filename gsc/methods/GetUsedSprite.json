{"names":["GetUsedSprite"],"callingMethods":["GetUsedSprites","_UpdatePlayerSprite"],"methodsCalled":["Get2bpp","SafeGetSprite","_DoesSpriteHaveFacings"],"methodAddressesUsed":[],"varsSet":["rVBK"],"varsUsed":["hUsedSpriteIndex","hUsedSpriteTile","rVBK","wSpriteFlags"],"varAddressesUsed":[],"constantsUsed":[],"lines":["GetUsedSprite:","\tldh a, [hUsedSpriteIndex]","\tcall SafeGetSprite","\tldh a, [hUsedSpriteTile]","\tcall .GetTileAddr","\tpush hl","\tpush de","\tpush bc","\tld a, [wSpriteFlags]","\tbit 7, a","\tjr nz, .skip","\tcall .CopyToVram","",".skip","\tpop bc","\tld l, c","\tld h, $0","rept 4","\tadd hl, hl","endr","\tpop de","\tadd hl, de","\tld d, h","\tld e, l","\tpop hl","","\tld a, [wSpriteFlags]","\tbit 5, a","\tjr nz, .done","\tbit 6, a","\tjr nz, .done","","\tldh a, [hUsedSpriteIndex]","\tcall _DoesSpriteHaveFacings","\tjr c, .done","","\tld a, h","\tadd HIGH(vTiles1 - vTiles0)","\tld h, a","\tcall .CopyToVram","",".done","\tret","",".GetTileAddr:","; Return the address of tile (a) in (hl).","\tand $7f","\tld l, a","\tld h, 0","rept 4","\tadd hl, hl","endr","\tld a, l","\tadd LOW(vTiles0)","\tld l, a","\tld a, h","\tadc HIGH(vTiles0)","\tld h, a","\tret","",".CopyToVram:","\tldh a, [rVBK]","\tpush af","\tld a, [wSpriteFlags]","\tbit 5, a","\tld a, $1","\tjr z, .bankswitch","\tld a, $0","",".bankswitch","\tldh [rVBK], a","\tcall Get2bpp","\tpop af","\tldh [rVBK], a","\tret"],"name":"GetUsedSprite","file":"engine/overworld/overworld.asm","lineNo":560,"address":89657,"addressUsedBy":["LoadOpponentTrainerAndPokemonWithOTSprite"]}