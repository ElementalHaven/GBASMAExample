{"names":["BattleCommand_Curse"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","AnimateFailedMove","BattleCommand_AttackUp","BattleCommand_DefenseUp","BattleCommand_StatDownMessage","BattleCommand_StatUpMessage","BattleCommand_SwitchTurn","CallBattleCore","CheckHiddenOpponent","CheckSubstituteOpp","GetBattleVarAddr","GetStatName","LowerStat","PrintButItFailed","ResetMiss","StdBattleTextbox","UpdateUserInParty"],"methodAddressesUsed":["GetHalfMaxHP","SubtractHPFromUser"],"varsSet":["wKickCounter"],"varsUsed":["hBattleTurn"],"varAddressesUsed":["WontRiseAnymoreText","wBattleMonType1","wEnemyMonType1"],"constantsUsed":["ABILITY","BATTLE_VARS_SUBSTATUS1_OPP","SPEED"],"lines":["BattleCommand_Curse:","; curse","","\tld de, wBattleMonType1","\tld bc, wPlayerStatLevels","\tldh a, [hBattleTurn]","\tand a","\tjr z, .go","\tld de, wEnemyMonType1","\tld bc, wEnemyStatLevels","",".go","","; Curse is different for Ghost-types.","","\tld a, [de]","\tcp GHOST","\tjr z, .ghost","\tinc de","\tld a, [de]","\tcp GHOST","\tjr z, .ghost","","; If no stats can be increased, don\u0027t.","","; Attack","\tld a, [bc]","\tcp MAX_STAT_LEVEL","\tjr c, .raise","","; Defense","\tinc bc","\tld a, [bc]","\tcp MAX_STAT_LEVEL","\tjr nc, .cantraise","",".raise","","; Raise Attack and Defense, and lower Speed.","","\tld a, $1","\tld [wKickCounter], a","\tcall AnimateCurrentMove","\tld a, SPEED","\tcall LowerStat","\tcall BattleCommand_SwitchTurn","\tcall BattleCommand_StatDownMessage","\tcall ResetMiss","\tcall BattleCommand_SwitchTurn","\tcall BattleCommand_AttackUp","\tcall BattleCommand_StatUpMessage","\tcall ResetMiss","\tcall BattleCommand_DefenseUp","\tjp BattleCommand_StatUpMessage","",".ghost","","; Cut HP in half and put a curse on the opponent.","","\tcall CheckHiddenOpponent","\tjr nz, .failed","","\tcall CheckSubstituteOpp","\tjr nz, .failed","","\tld a, BATTLE_VARS_SUBSTATUS1_OPP","\tcall GetBattleVarAddr","\tbit SUBSTATUS_CURSE, [hl]","\tjr nz, .failed","","\tset SUBSTATUS_CURSE, [hl]","\tcall AnimateCurrentMove","\tld hl, GetHalfMaxHP","\tcall CallBattleCore","\tld hl, SubtractHPFromUser","\tcall CallBattleCore","\tcall UpdateUserInParty","\tld hl, PutACurseText","\tjp StdBattleTextbox","",".failed","\tcall AnimateFailedMove","\tjp PrintButItFailed","",".cantraise","","; Can\u0027t raise either stat.","","\tld b, ABILITY + 1","\tcall GetStatName","\tcall AnimateFailedMove","\tld hl, WontRiseAnymoreText","\tjp StdBattleTextbox"],"name":"BattleCommand_Curse","file":"engine/battle/move_effects/curse.asm","lineNo":1,"address":123311,"addressUsedBy":[]}