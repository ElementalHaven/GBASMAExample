{"names":["AnimateWaterPalette"],"callingMethods":[],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":["rBGPD","rBGPI","rSVBK"],"varsUsed":["hCGB","rBGP","rSVBK","wTileAnimationTimer"],"varAddressesUsed":["wBGPals1"],"constantsUsed":["PAL_BG_WATER","color","palette","rBGPI_AUTO_INCREMENT"],"lines":["AnimateWaterPalette:","; Transition between color values 0-2 for color 0 in palette 3.","","; No palette changes on DMG.","\tldh a, [hCGB]","\tand a","\tret z","","; We don\u0027t want to mess with non-standard palettes.","\tldh a, [rBGP] ; BGP","\tcp %11100100","\tret nz","","; Only update on even frames.","\tld a, [wTileAnimationTimer]","\tld l, a","\tand 1 ; odd","\tret nz","","; Ready for BGPD input...","","\tld a, (1 \u003c\u003c rBGPI_AUTO_INCREMENT) palette PAL_BG_WATER","\tldh [rBGPI], a","","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wBGPals1)","\tldh [rSVBK], a","","; Update color 0 in order 0 1 2 1","\tld a, l","\tand %110 ; frames 0 2 4 6","\tjr z, .color0","\tcp %100 ; frame 4","\tjr z, .color2","",".color1","\tld hl, wBGPals1 palette PAL_BG_WATER color 1","\tld a, [hli]","\tldh [rBGPD], a","\tld a, [hli]","\tldh [rBGPD], a","\tjr .end","",".color0","\tld hl, wBGPals1 palette PAL_BG_WATER color 0","\tld a, [hli]","\tldh [rBGPD], a","\tld a, [hli]","\tldh [rBGPD], a","\tjr .end","",".color2","\tld hl, wBGPals1 palette PAL_BG_WATER color 2","\tld a, [hli]","\tldh [rBGPD], a","\tld a, [hli]","\tldh [rBGPD], a","",".end","\tpop af","\tldh [rSVBK], a","\tret"],"name":"AnimateWaterPalette","file":"engine/tilesets/tileset_anims.asm","lineNo":853,"address":253875,"addressUsedBy":[]}