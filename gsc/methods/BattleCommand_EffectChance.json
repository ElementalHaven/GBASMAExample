{"names":["BattleCommand_EffectChance"],"callingMethods":["BattleCommand_TriStatusChance"],"methodsCalled":["BattleRandom","CheckSubstituteOpp"],"methodAddressesUsed":[],"varsSet":["wEffectFailed"],"varsUsed":["hBattleTurn"],"varAddressesUsed":[],"constantsUsed":["MOVE_CHANCE"],"lines":["BattleCommand_EffectChance:","; effectchance","","\txor a","\tld [wEffectFailed], a","\tcall CheckSubstituteOpp","\tjr nz, .failed","","\tpush hl","\tld hl, wPlayerMoveStruct + MOVE_CHANCE","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_move_chance","\tld hl, wEnemyMoveStruct + MOVE_CHANCE",".got_move_chance","","\t; BUG: 1/256 chance to fail even for a 100% effect chance,","\t; since carry is not set if BattleRandom \u003d\u003d [hl] \u003d\u003d 255","\tcall BattleRandom","\tcp [hl]","\tpop hl","\tret c","",".failed","\tld a, 1","\tld [wEffectFailed], a","\tand a","\tret"],"name":"BattleCommand_EffectChance","file":"engine/battle/effect_commands.asm","lineNo":1866,"address":118289,"addressUsedBy":[]}