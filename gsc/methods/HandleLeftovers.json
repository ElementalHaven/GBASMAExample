{"names":["HandleLeftovers"],"callingMethods":["HandleBetweenTurnEffects"],"methodsCalled":["FarCall","GetItemName","GetSixteenthMaxHP","RestoreHP","SetEnemyTurn","SetPlayerTurn","StdBattleTextbox","SwitchTurnCore"],"methodAddressesUsed":["GetUserItem"],"varsSet":["wNamedObjectIndexBuffer"],"varsUsed":["hBattleTurn","hSerialConnectionStatus"],"varAddressesUsed":["BattleText_TargetRecoveredWithItem","wBattleMonHP","wEnemyMonHP"],"constantsUsed":[],"lines":["HandleLeftovers:","\tldh a, [hSerialConnectionStatus]","\tcp USING_EXTERNAL_CLOCK","\tjr z, .DoEnemyFirst","\tcall SetPlayerTurn","\tcall .do_it","\tcall SetEnemyTurn","\tjp .do_it","",".DoEnemyFirst:","\tcall SetEnemyTurn","\tcall .do_it","\tcall SetPlayerTurn",".do_it","","\tcallfar GetUserItem","\tld a, [hl]","\tld [wNamedObjectIndexBuffer], a","\tcall GetItemName","\tld a, b","\tcp HELD_LEFTOVERS","\tret nz","","\tld hl, wBattleMonHP","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_hp","\tld hl, wEnemyMonHP","",".got_hp","; Don\u0027t restore if we\u0027re already at max HP","\tld a, [hli]","\tld b, a","\tld a, [hli]","\tld c, a","\tld a, [hli]","\tcp b","\tjr nz, .restore","\tld a, [hl]","\tcp c","\tret z","",".restore","\tcall GetSixteenthMaxHP","\tcall SwitchTurnCore","\tcall RestoreHP","\tld hl, BattleText_TargetRecoveredWithItem","\tjp StdBattleTextbox"],"name":"HandleLeftovers","file":"engine/battle/core.asm","lineNo":1274,"address":135116,"addressUsedBy":[]}