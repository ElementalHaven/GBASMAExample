{"names":["BuyMenuLoop"],"callingMethods":["BuyMenu"],"methodsCalled":["CompareMoney","CopyMenuHeader","FarCall","FlagAction","JoyWaitAorB","LoadBuyMenuText","MartAskPurchaseQuantity","MartConfirmPurchase","PlayTransactionSound","ReceiveItem","ScrollingMenu","SpeechTextbox","TakeMoney","UpdateSprites"],"methodAddressesUsed":["MenuHeader_Buy","PlaceMoneyTopRight"],"varsSet":["wMenuCursorBuffer","wMenuCursorBufferBackup","wMenuScrollPosition","wMenuScrollPositionBackup"],"varsUsed":["wMartItemID","wMenuCursorBufferBackup","wMenuCursorY","wMenuJoypad","wMenuScrollPosition","wMenuScrollPositionBackup"],"varAddressesUsed":["hMoneyTemp","wBargainShopFlags","wMoney","wNumItems"],"constantsUsed":["MARTTEXT_BAG_FULL","MARTTEXT_HERE_YOU_GO","MARTTEXT_NOT_ENOUGH_MONEY","SET_FLAG"],"lines":["\tfarcall PlaceMoneyTopRight","\tcall UpdateSprites","\tld hl, MenuHeader_Buy","\tcall CopyMenuHeader","\tld a, [wMenuCursorBufferBackup]","\tld [wMenuCursorBuffer], a","\tld a, [wMenuScrollPositionBackup]","\tld [wMenuScrollPosition], a","\tcall ScrollingMenu","\tld a, [wMenuScrollPosition]","\tld [wMenuScrollPositionBackup], a","\tld a, [wMenuCursorY]","\tld [wMenuCursorBufferBackup], a","\tcall SpeechTextbox","\tld a, [wMenuJoypad]","\tcp B_BUTTON","\tjr z, .set_carry","\tcp A_BUTTON","\tjr z, .useless_pointer","",".useless_pointer","\tcall MartAskPurchaseQuantity","\tjr c, .cancel","\tcall MartConfirmPurchase","\tjr c, .cancel","\tld de, wMoney","\tld bc, hMoneyTemp","\tld a, 3 ; useless load","\tcall CompareMoney","\tjr c, .insufficient_funds","\tld hl, wNumItems","\tcall ReceiveItem","\tjr nc, .insufficient_bag_space","\tld a, [wMartItemID]","\tld e, a","\tld d, 0","\tld b, SET_FLAG","\tld hl, wBargainShopFlags","\tcall FlagAction","\tcall PlayTransactionSound","\tld de, wMoney","\tld bc, hMoneyTemp","\tcall TakeMoney","\tld a, MARTTEXT_HERE_YOU_GO","\tcall LoadBuyMenuText","\tcall JoyWaitAorB","",".cancel","\tcall SpeechTextbox","\tand a","\tret","",".set_carry","\tscf","\tret","",".insufficient_bag_space","\tld a, MARTTEXT_BAG_FULL","\tcall LoadBuyMenuText","\tcall JoyWaitAorB","\tand a","\tret","",".insufficient_funds","\tld a, MARTTEXT_NOT_ENOUGH_MONEY","\tcall LoadBuyMenuText","\tcall JoyWaitAorB","\tand a","\tret"],"name":"BuyMenuLoop","lineNo":1,"address":93517,"addressUsedBy":[]}