{"names":["AnimateEndOfExpBar"],"callingMethods":[],"methodsCalled":["ClearSprites","DelayFrame","Request2bpp","Sprites_Cosine","Sprites_Sine"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["hSGB"],"varAddressesUsed":["vTiles0"],"constantsUsed":["PAL_BATTLE_OB_BLUE","tile"],"lines":["AnimateEndOfExpBar:","\tldh a, [hSGB]","\tld de, EndOfExpBarGFX","\tand a","\tjr z, .load","\tld de, SGBEndOfExpBarGFX","",".load","\tld hl, vTiles0 tile $00","\tlb bc, BANK(EndOfExpBarGFX), 1","\tcall Request2bpp","\tld c, 8","\tld d, 0",".loop","\tpush bc","\tcall .AnimateFrame","\tcall DelayFrame","\tpop bc","\tinc d","\tinc d","\tdec c","\tjr nz, .loop","\tcall ClearSprites","\tret","",".AnimateFrame:","\tld hl, wVirtualOAMSprite00","\tld c, 8 ; number of animated circles",".anim_loop","\tld a, c","\tand a","\tret z","\tdec c","\tld a, c","; multiply by 8","\tsla a","\tsla a","\tsla a","\tpush af","","\tpush de","\tpush hl","\tcall Sprites_Sine","\tpop hl","\tpop de","\tadd 13 * TILE_WIDTH","\tld [hli], a ; y","","\tpop af","\tpush de","\tpush hl","\tcall Sprites_Cosine","\tpop hl","\tpop de","\tadd 10 * TILE_WIDTH + 4","\tld [hli], a ; x","","\tld a, $0","\tld [hli], a ; tile id","\tld a, PAL_BATTLE_OB_BLUE","\tld [hli], a ; attributes","\tjr .anim_loop"],"name":"AnimateEndOfExpBar","file":"engine/gfx/sprites.asm","lineNo":563,"address":186201,"addressUsedBy":["AnimateExpBar"]}