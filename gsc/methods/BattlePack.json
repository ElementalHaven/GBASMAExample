{"names":["BattlePack"],"callingMethods":[],"methodsCalled":["ClearPocketList","CopyMenuHeader","DelayFrame","DrawPocketName","FarCall","InitPackBuffers","ItemSubmenu","JoyTextDelay","Pack_GetJumptablePointer","Pack_InitColors","Pack_InitGFX","Pack_InterpretJoypad","Pack_JumptableNext","Pack_PrintTextNoScroll","ScrollingMenu","TMHMSubmenu","WaitBGMap_DrawPackGFX"],"methodAddressesUsed":["TMHMPocket"],"varsSet":["hBGMapMode","wBallsPocketCursor","wBallsPocketScrollPosition","wCurPocket","wItemsPocketCursor","wItemsPocketScrollPosition","wJumptableIndex","wKeyItemsPocketCursor","wKeyItemsPocketScrollPosition","wLastPocket","wMenuCursorBuffer","wMenuScrollPosition"],"varsUsed":["wBallsPocketCursor","wBallsPocketScrollPosition","wCurPocket","wItemsPocketCursor","wItemsPocketScrollPosition","wJumptableIndex","wKeyItemsPocketCursor","wKeyItemsPocketScrollPosition","wMenuCursorY","wMenuScrollPosition","wPackJumptableIndex"],"varAddressesUsed":["BallsPocketMenuHeader","ItemsPocketMenuHeader","KeyItemsPocketMenuHeader","PackEmptyText","wOptions"],"constantsUsed":["BALL_POCKET","KEY_ITEM_POCKET","PACKSTATE_INITBALLSPOCKET","PACKSTATE_INITITEMSPOCKET","PACKSTATE_INITKEYITEMSPOCKET","PACKSTATE_INITTMHMPOCKET","TM_HM_POCKET"],"lines":["BattlePack:","\tld hl, wOptions","\tset NO_TEXT_SCROLL, [hl]","\tcall InitPackBuffers",".loop","\tcall JoyTextDelay","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .end","\tcall .RunJumptable","\tcall DelayFrame","\tjr .loop","",".end","\tld a, [wCurPocket]","\tld [wLastPocket], a","\tld hl, wOptions","\tres NO_TEXT_SCROLL, [hl]","\tret","",".RunJumptable:","\tld a, [wJumptableIndex]","\tld hl, .Jumptable","\tcall Pack_GetJumptablePointer","\tjp hl","",".Jumptable:","; entries correspond to PACKSTATE_* constants","\tdw .InitGFX            ;  0","\tdw .InitItemsPocket    ;  1","\tdw .ItemsPocketMenu    ;  2","\tdw .InitBallsPocket    ;  3","\tdw .BallsPocketMenu    ;  4","\tdw .InitKeyItemsPocket ;  5","\tdw .KeyItemsPocketMenu ;  6","\tdw .InitTMHMPocket     ;  7","\tdw .TMHMPocketMenu     ;  8","\tdw Pack_QuitNoScript   ;  9","\tdw Pack_QuitRunScript  ; 10","",".InitGFX:","\txor a","\tldh [hBGMapMode], a","\tcall Pack_InitGFX","\tld a, [wPackJumptableIndex]","\tld [wJumptableIndex], a","\tcall Pack_InitColors","\tret","",".InitItemsPocket:","\txor a ; ITEM_POCKET","\tld [wCurPocket], a","\tcall ClearPocketList","\tcall DrawPocketName","\tcall WaitBGMap_DrawPackGFX","\tcall Pack_JumptableNext","\tret","",".ItemsPocketMenu:","\tld hl, ItemsPocketMenuHeader","\tcall CopyMenuHeader","\tld a, [wItemsPocketCursor]","\tld [wMenuCursorBuffer], a","\tld a, [wItemsPocketScrollPosition]","\tld [wMenuScrollPosition], a","\tcall ScrollingMenu","\tld a, [wMenuScrollPosition]","\tld [wItemsPocketScrollPosition], a","\tld a, [wMenuCursorY]","\tld [wItemsPocketCursor], a","\tld b, PACKSTATE_INITTMHMPOCKET ; left","\tld c, PACKSTATE_INITBALLSPOCKET ; right","\tcall Pack_InterpretJoypad","\tret c","\tcall ItemSubmenu","\tret","",".InitKeyItemsPocket:","\tld a, KEY_ITEM_POCKET","\tld [wCurPocket], a","\tcall ClearPocketList","\tcall DrawPocketName","\tcall WaitBGMap_DrawPackGFX","\tcall Pack_JumptableNext","\tret","",".KeyItemsPocketMenu:","\tld hl, KeyItemsPocketMenuHeader","\tcall CopyMenuHeader","\tld a, [wKeyItemsPocketCursor]","\tld [wMenuCursorBuffer], a","\tld a, [wKeyItemsPocketScrollPosition]","\tld [wMenuScrollPosition], a","\tcall ScrollingMenu","\tld a, [wMenuScrollPosition]","\tld [wKeyItemsPocketScrollPosition], a","\tld a, [wMenuCursorY]","\tld [wKeyItemsPocketCursor], a","\tld b, PACKSTATE_INITBALLSPOCKET ; left","\tld c, PACKSTATE_INITTMHMPOCKET ; right","\tcall Pack_InterpretJoypad","\tret c","\tcall ItemSubmenu","\tret","",".InitTMHMPocket:","\tld a, TM_HM_POCKET","\tld [wCurPocket], a","\tcall ClearPocketList","\tcall DrawPocketName","\txor a","\tldh [hBGMapMode], a","\tcall WaitBGMap_DrawPackGFX","\tld hl, PackEmptyText","\tcall Pack_PrintTextNoScroll","\tcall Pack_JumptableNext","\tret","",".TMHMPocketMenu:","\tfarcall TMHMPocket","\tld b, PACKSTATE_INITKEYITEMSPOCKET ; left","\tld c, PACKSTATE_INITITEMSPOCKET ; right","\tcall Pack_InterpretJoypad","\tret c","\txor a","\tcall TMHMSubmenu","\tret","",".InitBallsPocket:","\tld a, BALL_POCKET","\tld [wCurPocket], a","\tcall ClearPocketList","\tcall DrawPocketName","\tcall WaitBGMap_DrawPackGFX","\tcall Pack_JumptableNext","\tret","",".BallsPocketMenu:","\tld hl, BallsPocketMenuHeader","\tcall CopyMenuHeader","\tld a, [wBallsPocketCursor]","\tld [wMenuCursorBuffer], a","\tld a, [wBallsPocketScrollPosition]","\tld [wMenuScrollPosition], a","\tcall ScrollingMenu","\tld a, [wMenuScrollPosition]","\tld [wBallsPocketScrollPosition], a","\tld a, [wMenuCursorY]","\tld [wBallsPocketCursor], a","\tld b, PACKSTATE_INITITEMSPOCKET ; left","\tld c, PACKSTATE_INITKEYITEMSPOCKET ; right","\tcall Pack_InterpretJoypad","\tret c","\tcall ItemSubmenu","\tret"],"name":"BattlePack","file":"engine/items/pack.asm","lineNo":624,"address":82339,"addressUsedBy":["BattleMenu_Pack"]}