{"names":["BattleCommand_SleepTalk"],"callingMethods":[],"methodsCalled":["AnimateFailedMove","BattleCommand_LowerSub","BattleRandom","CheckUserIsCharging","ClearLastMove","FarCall","GetBattleVar","GetBattleVarAddr","LoadMoveAnim","ResetTurn","TryPrintButItFailed","UpdateMoveData"],"methodAddressesUsed":["GetMoveEffect"],"varsSet":["wKickCounter"],"varsUsed":["hBattleTurn","wAttackMissed","wDisabledMove","wEnemyDisabledMove","wKickCounter"],"varAddressesUsed":["wBattleMonMoves","wEnemyMonMoves"],"constantsUsed":["BATTLE_VARS_MOVE","BATTLE_VARS_MOVE_ANIM","BATTLE_VARS_STATUS","NUM_MOVES"],"lines":["BattleCommand_SleepTalk:","; sleeptalk","","\tcall ClearLastMove","\tld a, [wAttackMissed]","\tand a","\tjr nz, .fail","\tldh a, [hBattleTurn]","\tand a","\tld hl, wBattleMonMoves + 1","\tld a, [wDisabledMove]","\tld d, a","\tjr z, .got_moves","\tld hl, wEnemyMonMoves + 1","\tld a, [wEnemyDisabledMove]","\tld d, a",".got_moves","\tld a, BATTLE_VARS_STATUS","\tcall GetBattleVar","\tand SLP","\tjr z, .fail","\tld a, [hl]","\tand a","\tjr z, .fail","\tcall .safely_check_has_usable_move","\tjr c, .fail","\tdec hl",".sample_move","\tpush hl","\tcall BattleRandom","\tmaskbits NUM_MOVES","\tld c, a","\tld b, 0","\tadd hl, bc","\tld a, [hl]","\tpop hl","\tand a","\tjr z, .sample_move","\tld e, a","\tld a, BATTLE_VARS_MOVE_ANIM","\tcall GetBattleVar","\tcp e","\tjr z, .sample_move","\tld a, e","\tcp d","\tjr z, .sample_move","\tcall .check_two_turn_move","\tjr z, .sample_move","\tld a, BATTLE_VARS_MOVE","\tcall GetBattleVarAddr","\tld a, e","\tld [hl], a","\tcall CheckUserIsCharging","\tjr nz, .charging","\tld a, [wKickCounter]","\tpush af","\tcall BattleCommand_LowerSub","\tpop af","\tld [wKickCounter], a",".charging","\tcall LoadMoveAnim","\tcall UpdateMoveData","\tjp ResetTurn","",".fail","\tcall AnimateFailedMove","\tjp TryPrintButItFailed","",".safely_check_has_usable_move","\tpush hl","\tpush de","\tpush bc","\tcall .check_has_usable_move","\tpop bc","\tpop de","\tpop hl","\tret","",".check_has_usable_move","\tldh a, [hBattleTurn]","\tand a","\tld a, [wDisabledMove]","\tjr z, .got_move_2","","\tld a, [wEnemyDisabledMove]",".got_move_2","\tld b, a","\tld a, BATTLE_VARS_MOVE","\tcall GetBattleVar","\tld c, a","\tdec hl","\tld d, NUM_MOVES",".loop2","\tld a, [hl]","\tand a","\tjr z, .carry","","\tcp c","\tjr z, .nope","\tcp b","\tjr z, .nope","","\tcall .check_two_turn_move","\tjr nz, .no_carry","",".nope","\tinc hl","\tdec d","\tjr nz, .loop2","",".carry","\tscf","\tret","",".no_carry","\tand a","\tret","",".check_two_turn_move","\tpush hl","\tpush de","\tpush bc","","\tld b, a","\tcallfar GetMoveEffect","\tld a, b","","\tpop bc","\tpop de","\tpop hl","","\tcp EFFECT_SKULL_BASH","\tret z","\tcp EFFECT_RAZOR_WIND","\tret z","\tcp EFFECT_SKY_ATTACK","\tret z","\tcp EFFECT_SOLARBEAM","\tret z","\tcp EFFECT_FLY","\tret z","\tcp EFFECT_BIDE","\tret"],"name":"BattleCommand_SleepTalk","file":"engine/battle/move_effects/sleep_talk.asm","lineNo":1,"address":119917,"addressUsedBy":[]}