{"names":["BattleAnim_ClearOAM"],"callingMethods":["RunBattleAnimScript"],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":[],"varsUsed":["wBattleAnimFlags"],"varAddressesUsed":["wVirtualOAMSprite00Attributes"],"constantsUsed":["NUM_SPRITE_OAM_STRUCTS"],"lines":["BattleAnim_ClearOAM:","\tld a, [wBattleAnimFlags]","\tbit BATTLEANIM_KEEPSPRITES_F, a","\tjr z, .delete","","\t; Instead of deleting the sprites, make them all use PAL_BATTLE_OB_ENEMY","\tld hl, wVirtualOAMSprite00Attributes","\tld c, NUM_SPRITE_OAM_STRUCTS",".loop","\tld a, [hl]","\tand $ff ^ (PALETTE_MASK | VRAM_BANK_1) ; PAL_BATTLE_OB_ENEMY (0)","\tld [hli], a","rept SPRITEOAMSTRUCT_LENGTH - 1","\tinc hl","endr","\tdec c","\tjr nz, .loop","\tret","",".delete","\tld hl, wVirtualOAM","\tld c, wVirtualOAMEnd - wVirtualOAM","\txor a",".loop2","\tld [hli], a","\tdec c","\tjr nz, .loop2","\tret"],"name":"BattleAnim_ClearOAM","file":"engine/battle_anims/anim_commands.asm","lineNo":236,"address":223713,"addressUsedBy":[]}