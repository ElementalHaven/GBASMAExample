{"names":["GetBattleAnimFrame"],"callingMethods":["BattleAnimOAMUpdate"],"methodsCalled":[],"methodAddressesUsed":[],"varsSet":["wBattleAnimTempFrameOAMFlags"],"varsUsed":[],"varAddressesUsed":["BattleAnimFrameData"],"constantsUsed":["BATTLEANIMSTRUCT_DURATION","BATTLEANIMSTRUCT_FRAME","BATTLEANIMSTRUCT_FRAMESET_ID"],"lines":["GetBattleAnimFrame:",".loop","\tld hl, BATTLEANIMSTRUCT_DURATION","\tadd hl, bc","\tld a, [hl]","\tand a","\tjr z, .next_frame","\tdec [hl]","\tcall .GetPointer","\tld a, [hli]","\tpush af","\tjr .okay","",".next_frame","\tld hl, BATTLEANIMSTRUCT_FRAME","\tadd hl, bc","\tinc [hl]","\tcall .GetPointer","\tld a, [hli]","\tcp dorestart_command","\tjr z, .restart","\tcp endanim_command","\tjr z, .repeat_last","","\tpush af","\tld a, [hl]","\tpush hl","\tand $ff ^ (Y_FLIP \u003c\u003c 1 | X_FLIP \u003c\u003c 1)","\tld hl, BATTLEANIMSTRUCT_DURATION","\tadd hl, bc","\tld [hl], a","\tpop hl",".okay","\tld a, [hl]","\tand Y_FLIP \u003c\u003c 1 | X_FLIP \u003c\u003c 1 ; The \u003c\u003c 1 is compensated in the \"frame\" macro","\tsrl a","\tld [wBattleAnimTempFrameOAMFlags], a","\tpop af","\tret","",".repeat_last","\txor a","\tld hl, BATTLEANIMSTRUCT_DURATION","\tadd hl, bc","\tld [hl], a","","\tld hl, BATTLEANIMSTRUCT_FRAME","\tadd hl, bc","\tdec [hl]","\tdec [hl]","\tjr .loop","",".restart","\txor a","\tld hl, BATTLEANIMSTRUCT_DURATION","\tadd hl, bc","\tld [hl], a","\tdec a","\tld hl, BATTLEANIMSTRUCT_FRAME","\tadd hl, bc","\tld [hl], a","\tjr .loop","",".GetPointer:","\tld hl, BATTLEANIMSTRUCT_FRAMESET_ID","\tadd hl, bc","\tld e, [hl]","\tld d, 0","\tld hl, BattleAnimFrameData","\tadd hl, de","\tadd hl, de","\tld e, [hl]","\tinc hl","\tld d, [hl]","\tld hl, BATTLEANIMSTRUCT_FRAME","\tadd hl, bc","\tld l, [hl]","\tld h, $0","\tadd hl, hl","\tadd hl, de","\tret"],"name":"GetBattleAnimFrame","file":"engine/battle_anims/helpers.asm","lineNo":13,"address":229868,"addressUsedBy":[]}