{"names":["TryAddMonToParty"],"callingMethods":["GiveEgg","GivePoke"],"methodsCalled":["AddNTimes","CopyBytes","GetPokemonName","SkipNames"],"methodAddressesUsed":[],"fallsInto":"GeneratePartyMonStats","varsSet":["hMoveMon","wNamedObjectIndexBuffer"],"varsUsed":["hMoveMon","wCurPartySpecies","wMonType"],"varAddressesUsed":["wOTPartyCount","wOTPartyMon1Species","wOTPartyMonOT","wPartyCount","wPartyMon1Species","wPartyMonNicknames","wPartyMonOT","wPlayerName","wStringBuffer1"],"constantsUsed":["MON_NAME_LENGTH","NAME_LENGTH","PARTYMON_STRUCT_LENGTH"],"lines":["TryAddMonToParty:","; Check if to copy wild mon or generate a new one","\t; Whose is it?","\tld de, wPartyCount","\tld a, [wMonType]","\tand $f","\tjr z, .getpartylocation ; PARTYMON","\tld de, wOTPartyCount","",".getpartylocation","\t; Do we have room for it?","\tld a, [de]","\tinc a","\tcp PARTY_LENGTH + 1","\tret nc","\t; Increase the party count","\tld [de], a","\tld a, [de] ; Why are we doing this?","\tldh [hMoveMon], a ; HRAM backup","\tadd e","\tld e, a","\tjr nc, .loadspecies","\tinc d","",".loadspecies","\t; Load the species of the Pokemon into the party list.","\t; The terminator is usually here, but it\u0027ll be back.","\tld a, [wCurPartySpecies]","\tld [de], a","\t; Load the terminator into the next slot.","\tinc de","\tld a, -1","\tld [de], a","\t; Now let\u0027s load the OT name.","\tld hl, wPartyMonOT","\tld a, [wMonType]","\tand $f","\tjr z, .loadOTname","\tld hl, wOTPartyMonOT","",".loadOTname","\tldh a, [hMoveMon] ; Restore index from backup","\tdec a","\tcall SkipNames","\tld d, h","\tld e, l","\tld hl, wPlayerName","\tld bc, NAME_LENGTH","\tcall CopyBytes","\t; Only initialize the nickname for party mon","\tld a, [wMonType]","\tand a","\tjr nz, .skipnickname","\tld a, [wCurPartySpecies]","\tld [wNamedObjectIndexBuffer], a","\tcall GetPokemonName","\tld hl, wPartyMonNicknames","\tldh a, [hMoveMon]","\tdec a","\tcall SkipNames","\tld d, h","\tld e, l","\tld hl, wStringBuffer1","\tld bc, MON_NAME_LENGTH","\tcall CopyBytes","",".skipnickname","\tld hl, wPartyMon1Species","\tld a, [wMonType]","\tand $f","\tjr z, .initializeStats","\tld hl, wOTPartyMon1Species","",".initializeStats","\tldh a, [hMoveMon]","\tdec a","\tld bc, PARTYMON_STRUCT_LENGTH","\tcall AddNTimes","GeneratePartyMonStats:"],"name":"TryAddMonToParty","file":"engine/pokemon/move_mon.asm","lineNo":3,"address":76883,"addressUsedBy":[]}