{"names":["BattleCommand_FreezeTarget"],"callingMethods":[],"methodsCalled":["CheckMoveTypeMatchesTarget","CheckSubstituteOpp","EndRechargeOpp","FarCall","GetBattleVarAddr","GetOpponentItem","OpponentCantMove","PlayOpponentBattleAnim","RefreshBattleHuds","SafeCheckSafeguard","StdBattleTextbox","UpdateOpponentInParty"],"methodAddressesUsed":["UseHeldStatusHealingItem"],"varsSet":["wNumHits"],"varsUsed":["hBattleTurn","wBattleWeather","wEffectFailed","wTypeModifier"],"varAddressesUsed":["wEnemyJustGotFrozen","wPlayerJustGotFrozen"],"constantsUsed":["ANIM_FRZ","BATTLE_VARS_STATUS_OPP"],"lines":["BattleCommand_FreezeTarget:","; freezetarget","","\txor a","\tld [wNumHits], a","\tcall CheckSubstituteOpp","\tret nz","\tld a, BATTLE_VARS_STATUS_OPP","\tcall GetBattleVarAddr","\tand a","\tret nz","\tld a, [wTypeModifier]","\tand $7f","\tret z","\tld a, [wBattleWeather]","\tcp WEATHER_SUN","\tret z","\tcall CheckMoveTypeMatchesTarget ; Don\u0027t freeze an Ice-type","\tret z","\tcall GetOpponentItem","\tld a, b","\tcp HELD_PREVENT_FREEZE","\tret z","\tld a, [wEffectFailed]","\tand a","\tret nz","\tcall SafeCheckSafeguard","\tret nz","\tld a, BATTLE_VARS_STATUS_OPP","\tcall GetBattleVarAddr","\tset FRZ, [hl]","\tcall UpdateOpponentInParty","\tld de, ANIM_FRZ","\tcall PlayOpponentBattleAnim","\tcall RefreshBattleHuds","","\tld hl, WasFrozenText","\tcall StdBattleTextbox","","\tfarcall UseHeldStatusHealingItem","\tret nz","","\tcall OpponentCantMove","\tcall EndRechargeOpp","\tld hl, wEnemyJustGotFrozen","\tldh a, [hBattleTurn]","\tand a","\tjr z, .finish","\tld hl, wPlayerJustGotFrozen",".finish","\tld [hl], $1","\tret"],"name":"BattleCommand_FreezeTarget","file":"engine/battle/effect_commands.asm","lineNo":4029,"address":120671,"addressUsedBy":[]}