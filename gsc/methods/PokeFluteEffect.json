{"names":["PokeFluteEffect"],"callingMethods":[],"methodsCalled":["PokeFluteTerminator","PrintText","WaitPlaySFX","WaitSFX"],"methodAddressesUsed":[],"varsSet":["wd002"],"varsUsed":["wBattleMode","wLowHealthAlarm","wd002"],"varAddressesUsed":["wBattleMonStatus","wEnemyMonStatus","wOTPartyMon1Status","wPartyMon1Status"],"constantsUsed":["PARTYMON_STRUCT_LENGTH","PARTY_LENGTH","SFX_POKEFLUTE","SLP"],"lines":["PokeFluteEffect:","\tld a, [wBattleMode]","\tand a","\tjr nz, .dummy",".dummy","","\txor a","\tld [wd002], a","","\tld b, $ff ^ SLP","","\tld hl, wPartyMon1Status","\tcall .CureSleep","","\tld a, [wBattleMode]","\tcp WILD_BATTLE","\tjr z, .skip_otrainer","\tld hl, wOTPartyMon1Status","\tcall .CureSleep",".skip_otrainer","","\tld hl, wBattleMonStatus","\tld a, [hl]","\tand b","\tld [hl], a","\tld hl, wEnemyMonStatus","\tld a, [hl]","\tand b","\tld [hl], a","","\tld a, [wd002]","\tand a","\tld hl, .PlayedFluteText","\tjp z, PrintText","\tld hl, .PlayedTheFlute","\tcall PrintText","","\tld a, [wLowHealthAlarm]","\tand 1 \u003c\u003c DANGER_ON_F","\tjr nz, .dummy2",".dummy2","\tld hl, .FluteWakeUpText","\tjp PrintText","",".CureSleep:","\tld de, PARTYMON_STRUCT_LENGTH","\tld c, PARTY_LENGTH","",".loop","\tld a, [hl]","\tpush af","\tand SLP","\tjr z, .not_asleep","\tld a, 1","\tld [wd002], a",".not_asleep","\tpop af","\tand b","\tld [hl], a","\tadd hl, de","\tdec c","\tjr nz, .loop","\tret","",".PlayedFluteText:","\ttext_far _PlayedFluteText","\ttext_end","",".FluteWakeUpText:","\ttext_far _FluteWakeUpText","\ttext_end","",".PlayedTheFlute:","\t; played the # FLUTE.@ @","\ttext_far Text_PlayedPokeFlute","\ttext_asm","\tld a, [wBattleMode]","\tand a","\tjr nz, .battle","","\tpush de","\tld de, SFX_POKEFLUTE","\tcall WaitPlaySFX","\tcall WaitSFX","\tpop de","",".battle","\tjp PokeFluteTerminator"],"name":"PokeFluteEffect","file":"engine/items/item_effects.asm","lineNo":2163,"address":80950,"addressUsedBy":[]}