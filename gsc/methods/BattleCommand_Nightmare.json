{"names":["BattleCommand_Nightmare"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","AnimateFailedMove","CheckHiddenOpponent","CheckSubstituteOpp","GetBattleVarAddr","PrintButItFailed","StdBattleTextbox"],"methodAddressesUsed":[],"varsSet":[],"varsUsed":[],"varAddressesUsed":[],"constantsUsed":["BATTLE_VARS_STATUS_OPP","BATTLE_VARS_SUBSTATUS1_OPP"],"lines":["BattleCommand_Nightmare:","; nightmare","","; Can\u0027t hit an absent opponent.","","\tcall CheckHiddenOpponent","\tjr nz, .failed","","; Can\u0027t hit a substitute.","","\tcall CheckSubstituteOpp","\tjr nz, .failed","","; Only works on a sleeping opponent.","","\tld a, BATTLE_VARS_STATUS_OPP","\tcall GetBattleVarAddr","\tand SLP","\tjr z, .failed","","; Bail if the opponent is already having a nightmare.","","\tld a, BATTLE_VARS_SUBSTATUS1_OPP","\tcall GetBattleVarAddr","\tbit SUBSTATUS_NIGHTMARE, [hl]","\tjr nz, .failed","","; Otherwise give the opponent a nightmare.","","\tset SUBSTATUS_NIGHTMARE, [hl]","\tcall AnimateCurrentMove","\tld hl, StartedNightmareText","\tjp StdBattleTextbox","",".failed","\tcall AnimateFailedMove","\tjp PrintButItFailed"],"name":"BattleCommand_Nightmare","file":"engine/battle/move_effects/nightmare.asm","lineNo":1,"address":123276,"addressUsedBy":[]}