{"names":["BattleCommand_RolloutPower"],"callingMethods":[],"methodsCalled":["GetBattleVar","GetBattleVarAddr"],"methodAddressesUsed":[],"varsSet":["wSomeoneIsRampaging"],"varsUsed":["hBattleTurn","wAttackMissed"],"varAddressesUsed":["wCurDamage","wEnemyRolloutCount","wPlayerRolloutCount"],"constantsUsed":["BATTLE_VARS_STATUS","BATTLE_VARS_SUBSTATUS1","BATTLE_VARS_SUBSTATUS2"],"lines":["BattleCommand_RolloutPower:","; rolloutpower","","\tld a, BATTLE_VARS_STATUS","\tcall GetBattleVar","\tand SLP","\tret nz","","\tld hl, wPlayerRolloutCount","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_rollout_count","\tld hl, wEnemyRolloutCount","",".got_rollout_count","\tld a, [hl]","\tand a","\tjr nz, .skip_set_rampage","\tld a, 1","\tld [wSomeoneIsRampaging], a","",".skip_set_rampage","\tld a, [wAttackMissed]","\tand a","\tjr z, .hit","","\tld a, BATTLE_VARS_SUBSTATUS1","\tcall GetBattleVarAddr","\tres 6, [hl]","\tret","",".hit","\tinc [hl]","\tld a, [hl]","\tld b, a","\tcp MAX_ROLLOUT_COUNT","\tjr c, .not_done_with_rollout","","\tld a, BATTLE_VARS_SUBSTATUS1","\tcall GetBattleVarAddr","\tres SUBSTATUS_ROLLOUT, [hl]","\tjr .done_with_substatus_flag","",".not_done_with_rollout","\tld a, BATTLE_VARS_SUBSTATUS1","\tcall GetBattleVarAddr","\tset SUBSTATUS_ROLLOUT, [hl]","",".done_with_substatus_flag","\tld a, BATTLE_VARS_SUBSTATUS2","\tcall GetBattleVar","\tbit SUBSTATUS_CURLED, a","\tjr z, .not_curled","\tinc b",".not_curled",".loop","\tdec b","\tjr z, .done_damage","","\tld hl, wCurDamage + 1","\tsla [hl]","\tdec hl","\trl [hl]","\tjr nc, .loop","","\tld a, $ff","\tld [hli], a","\tld [hl], a","",".done_damage","\tret"],"name":"BattleCommand_RolloutPower","file":"engine/battle/move_effects/rollout.asm","lineNo":25,"address":123502,"addressUsedBy":[]}