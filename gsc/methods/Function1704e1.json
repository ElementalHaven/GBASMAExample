{"names":["Function1704e1"],"callingMethods":[],"methodsCalled":["ClearBGPalettes","ClearScreen","ClearSprites","CloseSRAM","CloseSubmenu","CopyBytes","FadeToMenu","FarCall","InitBattleTowerChallengeRAM","JoyTextDelay","OpenSRAM","PlaceString","SetPalettes","SpeechTextbox"],"methodAddressesUsed":["ReloadMapPart"],"varsSet":["wNrOfBeatenBattleTowerTrainers","wcd4e"],"varsUsed":["wJumptableIndex","wNrOfBeatenBattleTowerTrainers"],"varAddressesUsed":["hJoyPressed","s5_a89c","s5_a8b2","wStringBuffer3","wStringBuffer4","wc608","wcd49"],"constantsUsed":["NAME_LENGTH_JAPANESE","SCREEN_WIDTH"],"lines":["Function1704e1:","\tcall SpeechTextbox","\tcall FadeToMenu","\tcall InitBattleTowerChallengeRAM","\tcall .JumptableLoop","\tcall CloseSubmenu","\tret","",".JumptableLoop:","\tcall ClearBGPalettes","\tcall ClearSprites","\tcall ClearScreen",".loop","\tcall JoyTextDelay","\tld a, [wJumptableIndex]","\tbit 7, a","\tjr nz, .done","\tcall .DoJumptable","\tfarcall ReloadMapPart","\tjr .loop","",".done","\tret","",".DoJumptable:","\tld a, [wJumptableIndex]","\tld e, a","\tld d, 0","\tld hl, .dw","\tadd hl, de","\tadd hl, de","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tjp hl","",".dw","\tdw .Jumptable_0","\tdw .Jumptable_1","\tdw .Jumptable_2","",".Jumptable_0:","\tld a, BANK(s5_a89c)","\tcall OpenSRAM","","\tld hl, s5_a89c","\tld de, wStringBuffer3","\tld bc, 22","\tcall CopyBytes","","\tld hl, s5_a8b2","\tld de, wc608","\tld bc, 150","\tcall CopyBytes","","\tcall CloseSRAM","\thlcoord 1, 1","\tld de, wStringBuffer3","\tcall PlaceString","\thlcoord 1, 3","\tld de, .String_Mail","\tcall PlaceString","\thlcoord 4, 3","\tld de, wStringBuffer4","\tcall PlaceString","\thlcoord 8, 3","\tld de, .String_PastReaders","\tcall PlaceString","\tcall .DrawBorder","\tcall .PlaceTextItems","\tjr .NextJumptableFunction","",".Jumptable_1:","\tcall SetPalettes","\tcall .NextJumptableFunction","",".Jumptable_2:","\tld hl, hJoyPressed","\tld a, [hl]","\tand A_BUTTON","\tjr nz, .pressed_a_or_b","\tld a, [hl]","\tand B_BUTTON","\tjr nz, .pressed_a_or_b","\tld a, [hl]","\tand D_UP","\tjr nz, .pressed_up","\tld a, [hl]","\tand D_DOWN","\tjr nz, .pressed_down","\tret","",".pressed_up","\tld a, [wNrOfBeatenBattleTowerTrainers]","\tand a","\tret z","\tsub 15","\tld [wNrOfBeatenBattleTowerTrainers], a","\tcall .PlaceTextItems","\tret","",".pressed_down","\tld a, [wNrOfBeatenBattleTowerTrainers]","\tcp 60","\tret z","\tadd 15","\tld [wNrOfBeatenBattleTowerTrainers], a","\tcall .PlaceTextItems","\tret","",".pressed_a_or_b","\tld hl, wJumptableIndex","\tset 7, [hl]","\tret","",".NextJumptableFunction:","\tld hl, wJumptableIndex","\tinc [hl]","\tret","",".DrawBorder:","\thlcoord 0, 4","\tld a, \"┌\"","\tld [hli], a","\tld c, SCREEN_WIDTH - 2",".top_border_loop","\tld a, \"─\"","\tld [hli], a","\tdec c","\tjr nz, .top_border_loop","\tld a, \"┐\"","\tld [hli], a","\tld de, SCREEN_WIDTH","\tld c, 12",".left_border_loop","\tld a, \"│\"","\tld [hl], a","\tadd hl, de","\tdec c","\tjr nz, .left_border_loop","\tld a, \"└\"","\tld [hli], a","\tld c, SCREEN_WIDTH - 2",".bottom_border_loop","\tld a, \"─\"","\tld [hli], a","\tdec c","\tjr nz, .bottom_border_loop","\tld a, \"┘\"","\tld [hl], a","\tld de, -SCREEN_WIDTH","\tadd hl, de","\tld c, 12",".right_border_loop","\tld a, \"│\"","\tld [hl], a","\tadd hl, de","\tdec c","\tjr nz, .right_border_loop","\tret","",".PlaceTextItems:","\tcall .ClearBox","\tcall .PlaceUpDownArrows","\tld a, $50","\tld [wcd4e], a","\tld hl, wc608","\tld a, [wNrOfBeatenBattleTowerTrainers]","\tld c, a","\txor a","\tld b, a","\tadd hl, bc","\tpush hl","\tpop bc","\thlcoord 1, 6","\tld a, 6",".loop1","\tpush af","\tpush hl","\tld a, 3",".loop2","\tpush af","\tld de, wcd49","\tld a, [bc]","\tand a","\tjr z, .fill_with_e3","; .copy","\tld a, 5",".loop3a","\tpush af","\tld a, [bc]","\tld [de], a","\tinc bc","\tinc de","\tpop af","\tdec a","\tjr nz, .loop3a","\tjr .rejoin","",".fill_with_e3","\tld a, 5",".loop3b","\tpush af","\tld a, $e3","\tld [de], a","\tinc de","\tinc bc","\tpop af","\tdec a","\tjr nz, .loop3b","",".rejoin","\tld de, wcd49","\tpush bc","\tcall PlaceString","\tld de, NAME_LENGTH_JAPANESE","\tadd hl, de","\tpop bc","\tpop af","\tdec a","\tjr nz, .loop2","\tpop hl","\tld de, $28","\tadd hl, de","\tpop af","\tdec a","\tjr nz, .loop1","\tret","",".ClearBox:","\thlcoord 1, 5","\txor a","\tld b, 12",".clearbox_row","\tld c, SCREEN_WIDTH - 2",".clearbox_column","\tld [hli], a","\tdec c","\tjr nz, .clearbox_column","\tinc hl","\tinc hl","\tdec b","\tjr nz, .clearbox_row","\tret","",".PlaceUpDownArrows:","\tld a, [wNrOfBeatenBattleTowerTrainers]","\tand a","\tjr z, .nope","\thlcoord 18, 5","\tld a, \"▲\"","\tld [hl], a","",".nope","\tld a, [wNrOfBeatenBattleTowerTrainers]","\tcp 60","\tret z","\thlcoord 18, 16","\tld a, \"▼\"","\tld [hl], a","\tret","",".String_Mail:","\tdb \"ルーム@\"","",".String_PastReaders:","\tdb \"れきだいりーダーいちらん@\""],"name":"Function1704e1","file":"engine/events/battle_tower/battle_tower.asm","lineNo":603,"address":294310,"addressUsedBy":[]}