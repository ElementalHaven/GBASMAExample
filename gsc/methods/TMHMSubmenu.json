{"names":["TMHMSubmenu"],"callingMethods":["BattlePack","ItemSubmenu"],"methodsCalled":["ClearBGPalettes","DoItemEffect","ExitMenu","FarCall","JumpTable","LoadMenuHeader","Pack_GetJumptablePointer","Pack_InitColors","Pack_InitGFX","Pack_PrintTextNoScroll","VerticalMenu","WaitBGMap_DrawPackGFX"],"methodAddressesUsed":["CheckItemContext"],"varsSet":["hBGMapMode","wItemEffectSucceeded","wJumptableIndex"],"varsUsed":["wItemAttributeParamBuffer","wItemEffectSucceeded","wMenuCursorY"],"varAddressesUsed":["OakThisIsntTheTimeText"],"constantsUsed":["PACKSTATE_QUITRUNSCRIPT"],"lines":["TMHMSubmenu:","\tand a","\tjr z, .NoUse","\tld hl, .UsableMenuHeader","\tld de, .UsableJumptable","\tjr .proceed","",".NoUse:","\tld hl, .UnusableMenuHeader","\tld de, .UnusableJumptable",".proceed","\tpush de","\tcall LoadMenuHeader","\tcall VerticalMenu","\tcall ExitMenu","\tpop hl","\tret c","\tld a, [wMenuCursorY]","\tdec a","\tcall Pack_GetJumptablePointer","\tjp hl","",".UsableMenuHeader:","\tdb MENU_BACKUP_TILES ; flags","\tmenu_coords 13, 7, SCREEN_WIDTH - 1, TEXTBOX_Y - 1","\tdw .UsableMenuData","\tdb 1 ; default option","",".UsableMenuData:","\tdb STATICMENU_CURSOR | STATICMENU_NO_TOP_SPACING ; flags","\tdb 2 ; items","\tdb \"USE@\"","\tdb \"QUIT@\"","",".UsableJumptable:","\tdw .Use","\tdw .Quit","",".UnusableMenuHeader:","\tdb MENU_BACKUP_TILES ; flags","\tmenu_coords 13, 9, SCREEN_WIDTH - 1, TEXTBOX_Y - 1","\tdw .UnusableMenuData","\tdb 1 ; default option","",".UnusableMenuData:","\tdb STATICMENU_CURSOR | STATICMENU_NO_TOP_SPACING ; flags","\tdb 1 ; items","\tdb \"QUIT@\"","",".UnusableJumptable:","\tdw .Quit","",".Use:","\tfarcall CheckItemContext","\tld a, [wItemAttributeParamBuffer]","\tld hl, .ItemFunctionJumptable","\trst JumpTable","\tret","",".ItemFunctionJumptable:","; entries correspond to ITEMMENU_* constants","\tdw .Oak         ; ITEMMENU_NOUSE","\tdw .Oak","\tdw .Oak","\tdw .Oak","\tdw .Unused      ; ITEMMENU_CURRENT","\tdw .BattleField ; ITEMMENU_PARTY","\tdw .BattleOnly  ; ITEMMENU_CLOSE","",".Oak:","\tld hl, OakThisIsntTheTimeText","\tcall Pack_PrintTextNoScroll","\tret","",".Unused:","\tcall DoItemEffect","\tld a, [wItemEffectSucceeded]","\tand a","\tjr nz, .ReturnToBattle","\tret","",".BattleField:","\tcall DoItemEffect","\tld a, [wItemEffectSucceeded]","\tand a","\tjr nz, .quit_run_script","\txor a","\tldh [hBGMapMode], a","\tcall Pack_InitGFX","\tcall WaitBGMap_DrawPackGFX","\tcall Pack_InitColors","\tret","",".ReturnToBattle:","\tcall ClearBGPalettes","\tjr .quit_run_script","",".BattleOnly:","\tcall DoItemEffect","\tld a, [wItemEffectSucceeded]","\tand a","\tjr z, .Oak","\tcp $2","\tjr z, .didnt_use_item",".quit_run_script","\tld a, PACKSTATE_QUITRUNSCRIPT","\tld [wJumptableIndex], a","\tret","",".didnt_use_item","\txor a","\tld [wItemEffectSucceeded], a","\tret",".Quit:","\tret"],"name":"TMHMSubmenu","file":"engine/items/pack.asm","lineNo":783,"address":82484,"addressUsedBy":[]}