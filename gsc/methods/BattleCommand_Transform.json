{"names":["BattleCommand_Transform"],"callingMethods":[],"methodsCalled":["BattleCommand_MoveDelay","BattleCommand_RaiseSubNoAnim","BattleEffect_ButItFailed","BattleSideCopy","CheckHiddenOpponent","CheckUserIsCharging","ClearLastMove","CopyBytes","GetBattleVarAddr","GetPokemonName","LoadAnim","LoadMoveAnim","ResetActorDisable","StdBattleTextbox","_CheckBattleScene"],"methodAddressesUsed":[],"varsSet":["wCurMoveNum","wEnemyBackupDVs","wFXAnimID","wKickCounter","wNamedObjectIndexBuffer","wNumHits"],"varsUsed":["hBattleTurn","wEnemyMinimized","wPlayerMinimized"],"varAddressesUsed":["TransformedText","wBattleMonMoves","wBattleMonPP","wBattleMonSpecies","wBattleMonStructEnd","wEnemyMonSpecies"],"constantsUsed":["BATTLE_VARS_SUBSTATUS4","BATTLE_VARS_SUBSTATUS5","BATTLE_VARS_SUBSTATUS5_OPP","NUM_MOVES","SUBSTITUTE"],"lines":["BattleCommand_Transform:","; transform","","\tcall ClearLastMove","\tld a, BATTLE_VARS_SUBSTATUS5_OPP","\tcall GetBattleVarAddr","\tbit SUBSTATUS_TRANSFORMED, [hl]","\tjp nz, BattleEffect_ButItFailed","\tcall CheckHiddenOpponent","\tjp nz, BattleEffect_ButItFailed","\txor a","\tld [wNumHits], a","\tld [wFXAnimID + 1], a","\tld a, $1","\tld [wKickCounter], a","\tld a, BATTLE_VARS_SUBSTATUS4","\tcall GetBattleVarAddr","\tbit SUBSTATUS_SUBSTITUTE, [hl]","\tpush af","\tjr z, .mimic_substitute","\tcall CheckUserIsCharging","\tjr nz, .mimic_substitute","\tld a, SUBSTITUTE","\tcall LoadAnim",".mimic_substitute","\tld a, BATTLE_VARS_SUBSTATUS5","\tcall GetBattleVarAddr","\tset SUBSTATUS_TRANSFORMED, [hl]","\tcall ResetActorDisable","\tld hl, wBattleMonSpecies","\tld de, wEnemyMonSpecies","\tldh a, [hBattleTurn]","\tand a","\tjr nz, .got_mon_species","\tld hl, wEnemyMonSpecies","\tld de, wBattleMonSpecies","\txor a","\tld [wCurMoveNum], a",".got_mon_species","\tpush hl","\tld a, [hli]","\tld [de], a","\tinc hl","\tinc de","\tinc de","\tld bc, NUM_MOVES","\tcall CopyBytes","\tldh a, [hBattleTurn]","\tand a","\tjr z, .mimic_enemy_backup","\tld a, [de]","\tld [wEnemyBackupDVs], a","\tinc de","\tld a, [de]","\tld [wEnemyBackupDVs + 1], a","\tdec de",".mimic_enemy_backup","; copy DVs","\tld a, [hli]","\tld [de], a","\tinc de","\tld a, [hli]","\tld [de], a","\tinc de","; move pointer to stats","\tld bc, wBattleMonStats - wBattleMonPP","\tadd hl, bc","\tpush hl","\tld h, d","\tld l, e","\tadd hl, bc","\tld d, h","\tld e, l","\tpop hl","\tld bc, wBattleMonStructEnd - wBattleMonStats","\tcall CopyBytes","; init the power points","\tld bc, wBattleMonMoves - wBattleMonStructEnd","\tadd hl, bc","\tpush de","\tld d, h","\tld e, l","\tpop hl","\tld bc, wBattleMonPP - wBattleMonStructEnd","\tadd hl, bc","\tld b, NUM_MOVES",".pp_loop","\tld a, [de]","\tinc de","\tand a","\tjr z, .done_move","\tcp SKETCH","\tld a, 1","\tjr z, .done_move","\tld a, 5",".done_move","\tld [hli], a","\tdec b","\tjr nz, .pp_loop","\tpop hl","\tld a, [hl]","\tld [wNamedObjectIndexBuffer], a","\tcall GetPokemonName","\tld hl, wEnemyStats","\tld de, wPlayerStats","\tld bc, 2 * 5","\tcall BattleSideCopy","\tld hl, wEnemyStatLevels","\tld de, wPlayerStatLevels","\tld bc, 8","\tcall BattleSideCopy","\tcall _CheckBattleScene","\tjr c, .mimic_anims","\tldh a, [hBattleTurn]","\tand a","\tld a, [wPlayerMinimized]","\tjr z, .got_byte","\tld a, [wEnemyMinimized]",".got_byte","\tand a","\tjr nz, .mimic_anims","\tcall LoadMoveAnim","\tjr .after_anim","",".mimic_anims","\tcall BattleCommand_MoveDelay","\tcall BattleCommand_RaiseSubNoAnim",".after_anim","\txor a","\tld [wNumHits], a","\tld [wFXAnimID + 1], a","\tld a, $2","\tld [wKickCounter], a","\tpop af","\tld a, SUBSTITUTE","\tcall nz, LoadAnim","\tld hl, TransformedText","\tjp StdBattleTextbox"],"name":"BattleCommand_Transform","file":"engine/battle/move_effects/transform.asm","lineNo":1,"address":122847,"addressUsedBy":[]}