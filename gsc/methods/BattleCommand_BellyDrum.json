{"names":["BattleCommand_BellyDrum"],"callingMethods":[],"methodsCalled":["AnimateCurrentMove","AnimateFailedMove","BattleCommand_AttackUp2","FarCall","PrintButItFailed","StdBattleTextbox","UpdateUserInParty"],"methodAddressesUsed":["CheckUserHasEnoughHP","GetHalfMaxHP","SubtractHPFromUser"],"varsSet":[],"varsUsed":["wAttackMissed"],"varAddressesUsed":[],"constantsUsed":[],"lines":["BattleCommand_BellyDrum:","; bellydrum","; This command is buggy because it raises the user\u0027s attack","; before checking that it has enough HP to use the move.","; Swap the order of these two blocks to fix.","\tcall BattleCommand_AttackUp2","\tld a, [wAttackMissed]","\tand a","\tjr nz, .failed","","\tcallfar GetHalfMaxHP","\tcallfar CheckUserHasEnoughHP","\tjr nc, .failed","","\tpush bc","\tcall AnimateCurrentMove","\tpop bc","\tcallfar SubtractHPFromUser","\tcall UpdateUserInParty","\tld a, 5","",".max_attack_loop","\tpush af","\tcall BattleCommand_AttackUp2","\tpop af","\tdec a","\tjr nz, .max_attack_loop","","\tld hl, BellyDrumText","\tjp StdBattleTextbox","",".failed","\tcall AnimateFailedMove","\tjp PrintButItFailed"],"name":"BattleCommand_BellyDrum","file":"engine/battle/move_effects/belly_drum.asm","lineNo":1,"address":124107,"addressUsedBy":[]}