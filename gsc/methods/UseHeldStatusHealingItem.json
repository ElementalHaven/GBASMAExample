{"names":["UseHeldStatusHealingItem"],"callingMethods":["HandleHealingItems"],"methodsCalled":["FarCall","GetBattleVarAddr","ItemRecoveryAnim","SwitchTurnCore","UpdateOpponentInParty","UseOpponentItem"],"methodAddressesUsed":["CalcEnemyStats","CalcPlayerStats","GetOpponentItem"],"varsSet":[],"varsUsed":["hBattleTurn"],"varAddressesUsed":["HeldStatusHealingEffects"],"constantsUsed":["BATTLE_VARS_STATUS_OPP","BATTLE_VARS_SUBSTATUS1_OPP","BATTLE_VARS_SUBSTATUS3_OPP","BATTLE_VARS_SUBSTATUS5_OPP"],"lines":["\tcallfar GetOpponentItem","\tld hl, HeldStatusHealingEffects",".loop","\tld a, [hli]","\tcp $ff","\tret z","\tinc hl","\tcp b","\tjr nz, .loop","\tdec hl","\tld b, [hl]","\tld a, BATTLE_VARS_STATUS_OPP","\tcall GetBattleVarAddr","\tand b","\tret z","\txor a","\tld [hl], a","\tpush bc","\tcall UpdateOpponentInParty","\tpop bc","\tld a, BATTLE_VARS_SUBSTATUS5_OPP","\tcall GetBattleVarAddr","\tand [hl]","\tres SUBSTATUS_TOXIC, [hl]","\tld a, BATTLE_VARS_SUBSTATUS1_OPP","\tcall GetBattleVarAddr","\tand [hl]","\tres SUBSTATUS_NIGHTMARE, [hl]","\tld a, b","\tcp ALL_STATUS","\tjr nz, .skip_confuse","\tld a, BATTLE_VARS_SUBSTATUS3_OPP","\tcall GetBattleVarAddr","\tres SUBSTATUS_CONFUSED, [hl]","",".skip_confuse","\tld hl, CalcEnemyStats","\tldh a, [hBattleTurn]","\tand a","\tjr z, .got_pointer","\tld hl, CalcPlayerStats","",".got_pointer","\tcall SwitchTurnCore","\tld a, BANK(CalcPlayerStats) ; aka BANK(CalcEnemyStats)","\trst FarCall","\tcall SwitchTurnCore","\tcall ItemRecoveryAnim","\tcall UseOpponentItem","\tld a, $1","\tand a","\tret","","; See also data/items/heal_status.asm"],"name":"UseHeldStatusHealingItem","lineNo":1,"address":137669,"addressUsedBy":["BattleCommand_BurnTarget","BattleCommand_FreezeTarget","BattleCommand_PoisonTarget","BattleCommand_Poison","BattleCommand_ParalyzeTarget","BattleCommand_Paralyze","BattleCommand_SleepTarget"]}