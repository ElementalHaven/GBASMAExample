{"names":["SurfFunction"],"callingMethods":[],"methodsCalled":["CheckBadge","CheckDirection","FarCall","FieldMoveJumptable","FieldMoveJumptableReset","GetFacingTileCoord","GetPartyNick","GetSurfType","GetTileCollision","MenuTextboxBackup","QueueScript"],"methodAddressesUsed":["CheckFacingObject"],"varsSet":["wBuffer2","wFieldMoveSucceeded"],"varsUsed":["wPlayerState"],"varAddressesUsed":["AlreadySurfingText","CantSurfText","SurfFromMenuScript","wBikeFlags"],"constantsUsed":["ENGINE_FOGBADGE"],"lines":["SurfFunction:","\tcall FieldMoveJumptableReset",".loop","\tld hl, .Jumptable","\tcall FieldMoveJumptable","\tjr nc, .loop","\tand $7f","\tld [wFieldMoveSucceeded], a","\tret","",".Jumptable:","\tdw .TrySurf","\tdw .DoSurf","\tdw .FailSurf","\tdw .AlreadySurfing","",".TrySurf:","\tld de, ENGINE_FOGBADGE","\tcall CheckBadge","\tjr c, .nofogbadge","\tld hl, wBikeFlags","\tbit BIKEFLAGS_ALWAYS_ON_BIKE_F, [hl]","\tjr nz, .cannotsurf","\tld a, [wPlayerState]","\tcp PLAYER_SURF","\tjr z, .alreadyfail","\tcp PLAYER_SURF_PIKA","\tjr z, .alreadyfail","\tcall GetFacingTileCoord","\tcall GetTileCollision","\tcp WATER_TILE","\tjr nz, .cannotsurf","\tcall CheckDirection","\tjr c, .cannotsurf","\tfarcall CheckFacingObject","\tjr c, .cannotsurf","\tld a, $1","\tret",".nofogbadge","\tld a, $80","\tret",".alreadyfail","\tld a, $3","\tret",".cannotsurf","\tld a, $2","\tret","",".DoSurf:","\tcall GetSurfType","\tld [wBuffer2], a","\tcall GetPartyNick","\tld hl, SurfFromMenuScript","\tcall QueueScript","\tld a, $81","\tret","",".FailSurf:","\tld hl, CantSurfText","\tcall MenuTextboxBackup","\tld a, $80","\tret","",".AlreadySurfing:","\tld hl, AlreadySurfingText","\tcall MenuTextboxBackup","\tld a, $80","\tret"],"name":"SurfFunction","file":"engine/events/overworld.asm","lineNo":333,"address":74377,"addressUsedBy":["MonMenu_Surf"]}