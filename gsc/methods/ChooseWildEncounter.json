{"names":["ChooseWildEncounter"],"callingMethods":["TryWildEncounter"],"methodsCalled":["AddNTimes","CheckEncounterRoamMon","CheckOnWater","LoadWildMonDataPointer","Random","ValidateTempWildMonSpecies"],"methodAddressesUsed":[],"varsSet":["wCurPartyLevel","wTempWildMonSpecies"],"varsUsed":["wTimeOfDay","wUnlockedUnowns"],"varAddressesUsed":["GrassMonProbTable","WaterMonProbTable"],"constantsUsed":["NUM_GRASSMON"],"lines":["ChooseWildEncounter:","\tcall LoadWildMonDataPointer","\tjp nc, .nowildbattle","\tcall CheckEncounterRoamMon","\tjp c, .startwildbattle","","\tinc hl","\tinc hl","\tinc hl","\tcall CheckOnWater","\tld de, WaterMonProbTable","\tjr z, .watermon","\tinc hl","\tinc hl","\tld a, [wTimeOfDay]","\tld bc, NUM_GRASSMON * 2","\tcall AddNTimes","\tld de, GrassMonProbTable","",".watermon","; hl contains the pointer to the wild mon data, let\u0027s save that to the stack","\tpush hl",".randomloop","\tcall Random","\tcp 100","\tjr nc, .randomloop","\tinc a ; 1 \u003c\u003d a \u003c\u003d 100","\tld b, a","\tld h, d","\tld l, e","; This next loop chooses which mon to load up.",".prob_bracket_loop","\tld a, [hli]","\tcp b","\tjr nc, .got_it","\tinc hl","\tjr .prob_bracket_loop","",".got_it","\tld c, [hl]","\tld b, 0","\tpop hl","\tadd hl, bc ; this selects our mon","\tld a, [hli]","\tld b, a","; If the Pokemon is encountered by surfing, we need to give the levels some variety.","\tcall CheckOnWater","\tjr nz, .ok","; Check if we buff the wild mon, and by how much.","\tcall Random","\tcp 35 percent","\tjr c, .ok","\tinc b","\tcp 65 percent","\tjr c, .ok","\tinc b","\tcp 85 percent","\tjr c, .ok","\tinc b","\tcp 95 percent","\tjr c, .ok","\tinc b","; Store the level",".ok","\tld a, b","\tld [wCurPartyLevel], a","\tld b, [hl]","\t; ld a, b","\tcall ValidateTempWildMonSpecies","\tjr c, .nowildbattle","","\tld a, b ; This is in the wrong place.","\tcp UNOWN","\tjr nz, .done","","\tld a, [wUnlockedUnowns]","\tand a","\tjr z, .nowildbattle","",".done","\tjr .loadwildmon","",".nowildbattle","\tld a, 1","\tand a","\tret","",".loadwildmon","\tld a, b","\tld [wTempWildMonSpecies], a","",".startwildbattle","\txor a","\tret"],"name":"ChooseWildEncounter","file":"engine/overworld/wildmons.asm","lineNo":252,"address":106073,"addressUsedBy":["SweetScentEncounter"]}