{"names":["_Option"],"callingMethods":[],"methodsCalled":["ClearBGPalettes","DelayFrames","GetOptionPointer","GetSGBLayout","JoyTextDelay","OptionsControl","Options_UpdateCursorPosition","PlaceString","PlaySFX","SetPalettes","Textbox","UpdateFrame","WaitBGMap","WaitSFX"],"methodAddressesUsed":[],"varsSet":["hBGMapMode","hInMenu","hJoyLast","wJumptableIndex"],"varsUsed":["hJoyPressed"],"varAddressesUsed":["StringOptions","hInMenu"],"constantsUsed":["NUM_OPTIONS","SCGB_DIPLOMA","SCREEN_HEIGHT","SCREEN_WIDTH","SFX_TRANSACTION","TRUE"],"lines":["_Option:","\tld hl, hInMenu","\tld a, [hl]","\tpush af","\tld [hl], TRUE","\tcall ClearBGPalettes","\thlcoord 0, 0","\tld b, SCREEN_HEIGHT - 2","\tld c, SCREEN_WIDTH - 2","\tcall Textbox","\thlcoord 2, 2","\tld de, StringOptions","\tcall PlaceString","\txor a","\tld [wJumptableIndex], a","","; display the settings of each option when the menu is opened","\tld c, NUM_OPTIONS - 2 ; omit frame type, the last option",".print_text_loop","\tpush bc","\txor a","\tldh [hJoyLast], a","\tcall GetOptionPointer","\tpop bc","\tld hl, wJumptableIndex","\tinc [hl]","\tdec c","\tjr nz, .print_text_loop","\tcall UpdateFrame ; display the frame type","","\txor a","\tld [wJumptableIndex], a","\tinc a","\tldh [hBGMapMode], a","\tcall WaitBGMap","\tld b, SCGB_DIPLOMA","\tcall GetSGBLayout","\tcall SetPalettes","",".joypad_loop","\tcall JoyTextDelay","\tldh a, [hJoyPressed]","\tand START | B_BUTTON","\tjr nz, .ExitOptions","\tcall OptionsControl","\tjr c, .dpad","\tcall GetOptionPointer","\tjr c, .ExitOptions","",".dpad","\tcall Options_UpdateCursorPosition","\tld c, 3","\tcall DelayFrames","\tjr .joypad_loop","",".ExitOptions:","\tld de, SFX_TRANSACTION","\tcall PlaySFX","\tcall WaitSFX","\tpop af","\tldh [hInMenu], a","\tret"],"name":"_Option","file":"engine/menus/options_menu.asm","lineNo":13,"address":248388,"addressUsedBy":["Option"]}