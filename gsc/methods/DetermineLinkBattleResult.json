{"names":["DetermineLinkBattleResult"],"callingMethods":[],"methodsCalled":["Divide","FarCall"],"methodAddressesUsed":[],"varsSet":["hDividend","hDivisor","wBattleResult"],"varsUsed":["hQuotient","wBattleResult"],"varAddressesUsed":["wOTPartyMon1HP","wPartyMon1HP"],"constantsUsed":["PARTYMON_STRUCT_LENGTH"],"lines":["\tfarcall UpdateEnemyMonInParty","\tld hl, wPartyMon1HP","\tcall .CountMonsRemaining","\tpush bc","\tld hl, wOTPartyMon1HP","\tcall .CountMonsRemaining","\tld a, c","\tpop bc","\tcp c","\tjr z, .even_number_of_mons_remaining","\tjr c, .defeat","\tjr .victory","",".even_number_of_mons_remaining","\tcall .BothSides_CheckNumberMonsAtFullHealth","\tjr z, .drawn","\tld a, e","\tcp $1","\tjr z, .victory","\tcp $2","\tjr z, .defeat","\tld hl, wPartyMon1HP","\tcall .CalcPercentHPRemaining","\tpush de","\tld hl, wOTPartyMon1HP","\tcall .CalcPercentHPRemaining","\tpop hl","\tld a, d","\tcp h","\tjr c, .victory","\tjr z, .compare_lo","\tjr .defeat","",".compare_lo","\tld a, e","\tcp l","\tjr z, .drawn","\tjr nc, .defeat","",".victory","\tld a, [wBattleResult]","\tand $f0","\tld [wBattleResult], a ; WIN","\tret","",".defeat","\tld a, [wBattleResult]","\tand $f0","\tadd LOSE","\tld [wBattleResult], a","\tret","",".drawn","\tld a, [wBattleResult]","\tand $f0","\tadd DRAW","\tld [wBattleResult], a","\tret","",".CountMonsRemaining:","\tld c, 0","\tld b, 3","\tld de, PARTYMON_STRUCT_LENGTH - 1",".loop","\tld a, [hli]","\tor [hl]","\tjr nz, .not_fainted","\tinc c","",".not_fainted","\tadd hl, de","\tdec b","\tjr nz, .loop","\tret","",".CalcPercentHPRemaining:","\tld de, 0","\tld c, $3",".loop2","\tld a, [hli]","\tor [hl]","\tjr z, .next","\tdec hl","\txor a","\tldh [hDividend + 0], a","\tld a, [hli]","\tldh [hDividend + 1], a","\tld a, [hli]","\tldh [hDividend + 2], a","\txor a","\tldh [hDividend + 3], a","\tld a, [hli]","\tld b, a","\tld a, [hld]","\tsrl b","\trr a","\tsrl b","\trr a","\tldh [hDivisor], a","\tld b, $4","\tcall Divide","\tldh a, [hQuotient + 3]","\tadd e","\tld e, a","\tldh a, [hQuotient + 2]","\tadc d","\tld d, a","\tdec hl","",".next","\tpush de","\tld de, $2f","\tadd hl, de","\tpop de","\tdec c","\tjr nz, .loop2","\tret","",".BothSides_CheckNumberMonsAtFullHealth:","\tld hl, wPartyMon1HP","\tcall .CheckFaintedOrFullHealth","\tjr nz, .finish ; we have a pokemon that\u0027s neither fainted nor at full health","\tld hl, wOTPartyMon1HP","\tcall .CheckFaintedOrFullHealth","\tld e, $1 ; victory","\tret","",".finish","\tld hl, wOTPartyMon1HP","\tcall .CheckFaintedOrFullHealth","\tld e, $0 ; drawn","\tret nz ; we both have pokemon that are neither fainted nor at full health","\tld e, $2 ; defeat","\tld a, $1 ; not drawn","\tand a","\tret","",".CheckFaintedOrFullHealth:","\tld d, 3",".loop3","\tld a, [hli]","\tld b, a","\tld a, [hli]","\tld c, a","\tor b","\tjr z, .fainted_or_full_health","\tld a, [hli]","\tcp b","\tret nz","\tld a, [hld]","\tcp c","\tret nz","",".fainted_or_full_health","\tpush de","\tld de, PARTYMON_STRUCT_LENGTH - 2","\tadd hl, de","\tpop de","\tdec d","\tjr nz, .loop3","\tret"],"name":"DetermineLinkBattleResult","lineNo":1,"address":109138,"addressUsedBy":["DisplayLinkBattleResult"]}