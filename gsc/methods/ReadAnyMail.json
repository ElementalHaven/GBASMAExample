{"names":["ReadAnyMail"],"callingMethods":["ReadPartyMonMail"],"methodsCalled":["ClearBGPalettes","ClearSprites","ClearTilemap","CloseSRAM","DisableLCD","EnableLCD","FarCall","Get1bpp","GetJoypad","LoadFontsExtra","LoadStandardFont","OpenSRAM","SetPalettes","WaitBGMap"],"methodAddressesUsed":["IsMailEuropean","LoadMailPalettes","PrintMailAndExit"],"varsSet":["hJoyPressed","wBuffer1","wBuffer2","wBuffer3","wCurPartySpecies","wJumptableIndex"],"varsUsed":["hJoyPressed","wBuffer3","wJumptableIndex"],"varAddressesUsed":["MailGFXPointers","sPartyMon1MailAuthorID","vTiles1"],"constantsUsed":[],"lines":["ReadAnyMail:","\tpush de","\tcall ClearBGPalettes","\tcall ClearSprites","\tcall ClearTilemap","\tcall DisableLCD","\tcall LoadFontsExtra","\tpop de","\tpush de","\tld a, BANK(sPartyMail)","\tcall OpenSRAM","\tfarcall IsMailEuropean","\tcall CloseSRAM","\tld a, c","\tld de, StandardEnglishFont","\tor a","\tjr z, .got_font","\tld de, FrenchGermanFont","\tsub $3","\tjr c, .got_font","\tld de, SpanishItalianFont","",".got_font","\tld hl, vTiles1","\tlb bc, BANK(StandardEnglishFont), $80","\tcall Get1bpp","\tpop de","\tcall .LoadGFX","\tcall EnableLCD","\tcall WaitBGMap","\tld a, [wBuffer3]","\tld e, a","\tfarcall LoadMailPalettes","\tcall SetPalettes","\txor a","\tldh [hJoyPressed], a","\tcall .loop","\tcall ClearBGPalettes","\tcall DisableLCD","\tcall LoadStandardFont","\tjp EnableLCD","",".loop","\tcall GetJoypad","\tldh a, [hJoyPressed]","\tand A_BUTTON | B_BUTTON | START","\tjr z, .loop","\tand START","\tjr nz, .pressed_start","\tret","",".pressed_start","\tld a, [wJumptableIndex]","\tpush af","\tcallfar PrintMailAndExit ; printer","\tpop af","\tld [wJumptableIndex], a","\tjr .loop","",".LoadGFX:","\tld h, d","\tld l, e","\tpush hl","\tld a, BANK(sPartyMail)","\tcall OpenSRAM","\tld de, sPartyMon1MailAuthorID - sPartyMon1Mail","\tadd hl, de","\tld a, [hli]","\tld [wBuffer1], a","\tld a, [hli]","\tld [wBuffer2], a","\tld a, [hli]","\tld [wCurPartySpecies], a","\tld b, [hl]","\tcall CloseSRAM","\tld hl, MailGFXPointers","\tld c, 0",".loop2","\tld a, [hli]","\tcp b","\tjr z, .got_pointer","\tcp -1","\tjr z, .invalid","\tinc c","\tinc hl","\tinc hl","\tjr .loop2","",".invalid","\tld hl, MailGFXPointers","\tinc hl","",".got_pointer","\tld a, c","\tld [wBuffer3], a","\tld a, [hli]","\tld h, [hl]","\tld l, a","\tld de, .done","\tpop bc","\tpush de","\tjp hl",".done","\tret"],"name":"ReadAnyMail","file":"engine/pokemon/mail_2.asm","lineNo":8,"address":199018,"addressUsedBy":["ReadMailMessage"]}