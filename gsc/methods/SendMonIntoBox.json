{"names":["SendMonIntoBox"],"callingMethods":["GivePoke"],"methodsCalled":["CloseSRAM","CopyBytes","FarCall","GetBaseData","GetPokemonName","OpenSRAM","Predef","RestorePPOfDepositedPokemon","SetSeenAndCaughtMon","ShiftBoxMon"],"methodAddressesUsed":["CalcExpAtLevel","UpdateUnownDex"],"varsSet":["wCurSpecies","wNamedObjectIndexBuffer"],"varsUsed":["hProduct","wCurPartyLevel","wCurPartySpecies"],"varAddressesUsed":["GetUnownLetterPredef","sBoxCount","sBoxMon1DVs","sBoxMon1Moves","sBoxMon1PP","sBoxMonNicknames","sBoxMonOT","wEnemyMonDVs","wPlayerID","wPlayerName","wStringBuffer1","wTempMonMoves","wTempMonPP"],"constantsUsed":["BASE_HAPPINESS","MON_NAME_LENGTH","NAME_LENGTH","NUM_MOVES"],"lines":["SendMonIntoBox:","; Sends the mon into one of Bills Boxes","; the data comes mainly from \u0027wEnemyMon:\u0027","\tld a, BANK(sBoxCount)","\tcall OpenSRAM","\tld de, sBoxCount","\tld a, [de]","\tcp MONS_PER_BOX","\tjp nc, .full","\tinc a","\tld [de], a","","\tld a, [wCurPartySpecies]","\tld [wCurSpecies], a","\tld c, a",".loop","\tinc de","\tld a, [de]","\tld b, a","\tld a, c","\tld c, b","\tld [de], a","\tinc a","\tjr nz, .loop","","\tcall GetBaseData","\tcall ShiftBoxMon","","\tld hl, wPlayerName","\tld de, sBoxMonOT","\tld bc, NAME_LENGTH","\tcall CopyBytes","","\tld a, [wCurPartySpecies]","\tld [wNamedObjectIndexBuffer], a","\tcall GetPokemonName","","\tld de, sBoxMonNicknames","\tld hl, wStringBuffer1","\tld bc, MON_NAME_LENGTH","\tcall CopyBytes","","\tld hl, wEnemyMon","\tld de, sBoxMon1","\tld bc, 1 + 1 + NUM_MOVES ; species + item + moves","\tcall CopyBytes","","\tld hl, wPlayerID","\tld a, [hli]","\tld [de], a","\tinc de","\tld a, [hl]","\tld [de], a","\tinc de","\tpush de","\tld a, [wCurPartyLevel]","\tld d, a","\tcallfar CalcExpAtLevel","\tpop de","\tldh a, [hProduct + 1]","\tld [de], a","\tinc de","\tldh a, [hProduct + 2]","\tld [de], a","\tinc de","\tldh a, [hProduct + 3]","\tld [de], a","\tinc de","","\t; Set all 5 Experience Values to 0","\txor a","\tld b, 2 * 5",".loop2","\tld [de], a","\tinc de","\tdec b","\tjr nz, .loop2","","\tld hl, wEnemyMonDVs","\tld b, 2 + NUM_MOVES ; DVs and PP ; wEnemyMonHappiness - wEnemyMonDVs",".loop3","\tld a, [hli]","\tld [de], a","\tinc de","\tdec b","\tjr nz, .loop3","","\tld a, BASE_HAPPINESS","\tld [de], a","\tinc de","\txor a","\tld [de], a","\tinc de","\tld [de], a","\tinc de","\tld [de], a","\tinc de","\tld a, [wCurPartyLevel]","\tld [de], a","\tld a, [wCurPartySpecies]","\tdec a","\tcall SetSeenAndCaughtMon","\tld a, [wCurPartySpecies]","\tcp UNOWN","\tjr nz, .not_unown","\tld hl, sBoxMon1DVs","\tpredef GetUnownLetter","\tcallfar UpdateUnownDex","",".not_unown","\tld hl, sBoxMon1Moves","\tld de, wTempMonMoves","\tld bc, NUM_MOVES","\tcall CopyBytes","","\tld hl, sBoxMon1PP","\tld de, wTempMonPP","\tld bc, NUM_MOVES","\tcall CopyBytes","","\tld b, 0","\tcall RestorePPOfDepositedPokemon","","\tcall CloseSRAM","\tscf","\tret","",".full","\tcall CloseSRAM","\tand a","\tret"],"name":"SendMonIntoBox","file":"engine/pokemon/move_mon.asm","lineNo":941,"address":77650,"addressUsedBy":["Function17e026"]}