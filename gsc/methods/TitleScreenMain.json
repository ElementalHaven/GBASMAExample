{"names":["TitleScreenMain"],"callingMethods":[],"methodsCalled":["GetJoypad"],"methodAddressesUsed":[],"varsSet":["hClockResetTrigger","wIntroSceneFrameCounter","wMusicFadeID"],"varsUsed":["hClockResetTrigger"],"varAddressesUsed":["hJoyDown","wMusicFade","wTitleScreenTimer"],"constantsUsed":[],"lines":["TitleScreenMain:","; Run the timer down.","\tld hl, wTitleScreenTimer","\tld e, [hl]","\tinc hl","\tld d, [hl]","\tld a, e","\tor d","\tjr z, .end","","\tdec de","\tld [hl], d","\tdec hl","\tld [hl], e","","; Save data can be deleted by pressing Up + B + Select.","\tcall GetJoypad","\tld hl, hJoyDown","\tld a, [hl]","\tand D_UP + B_BUTTON + SELECT","\tcp  D_UP + B_BUTTON + SELECT","\tjr z, .delete_save_data","","; To bring up the clock reset dialog:","","; Hold Down + B + Select to initiate the sequence.","\tldh a, [hClockResetTrigger]","\tcp $34","\tjr z, .check_clock_reset","","\tld a, [hl]","\tand D_DOWN + B_BUTTON + SELECT","\tcp  D_DOWN + B_BUTTON + SELECT","\tjr nz, .check_start","","\tld a, $34","\tldh [hClockResetTrigger], a","\tjr .check_start","","; Keep Select pressed, and hold Left + Up.","; Then let go of Select.",".check_clock_reset","\tbit SELECT_F, [hl]","\tjr nz, .check_start","","\txor a","\tldh [hClockResetTrigger], a","","\tld a, [hl]","\tand D_LEFT + D_UP","\tcp  D_LEFT + D_UP","\tjr z, .clock_reset","","; Press Start or A to start the game.",".check_start","\tld a, [hl]","\tand START | A_BUTTON","\tjr nz, .incave","\tret","",".incave","\tld a, 0","\tjr .done","",".delete_save_data","\tld a, 1","",".done","\tld [wIntroSceneFrameCounter], a","","; Return to the intro sequence.","\tld hl, wJumptableIndex","\tset 7, [hl]","\tret","",".end","; Next scene","\tld hl, wJumptableIndex","\tinc [hl]","","; Fade out the title screen music","\txor a ; MUSIC_NONE","\tld [wMusicFadeID], a","\tld [wMusicFadeID + 1], a","\tld hl, wMusicFade","\tld [hl], 8 ; 1 second","","\tld hl, wTitleScreenTimer","\tinc [hl]","\tret","",".clock_reset","\tld a, 4","\tld [wIntroSceneFrameCounter], a","","; Return to the intro sequence.","\tld hl, wJumptableIndex","\tset 7, [hl]","\tret"],"name":"TitleScreenMain","file":"engine/menus/intro_menu.asm","lineNo":1129,"address":63955,"addressUsedBy":[]}