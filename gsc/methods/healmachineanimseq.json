{"names":["healmachineanimseq"],"callingMethods":[],"methodsCalled":["DelayFrames","IsCGB"],"methodAddressesUsed":[],"varsSet":["hCGBPalUpdate","rOBP1","rSVBK"],"varsUsed":["rOBP1","rSVBK","wBuffer1"],"varAddressesUsed":["wOBPals2"],"constantsUsed":["PAL_OW_TREE","palette"],"lines":["healmachineanimseq: MACRO","rept _NARG","\tdb HEALMACHINESTATE_\\1","\tshift","endr","ENDM","",".Pokecenter:","\thealmachineanimseq LOADGFX, PCLOADBALLS, PLAYMUSIC, FINISH",".ElmLab:","\thealmachineanimseq LOADGFX, PCLOADBALLS, PLAYMUSIC, FINISH",".HallOfFame:","\thealmachineanimseq LOADGFX, HOFLOADBALLS, HOFPLAYSFX, FINISH","",".Jumptable:","; entries correspond to HEALMACHINESTATE_* constants","\tdw .LoadGFX","\tdw .PC_LoadBallsOntoMachine","\tdw .HOF_LoadBallsOntoMachine","\tdw .PlayHealMusic","\tdw .HOF_PlaySFX","\tdw .dummy_5 ; never encountered","",".LoadGFX:","\tcall .LoadPalettes","\tld de, .HealMachineGFX","\tld hl, vTiles0 tile $7c","\tlb bc, BANK(.HealMachineGFX), 2","\tcall Request2bpp","\tret","",".PC_LoadBallsOntoMachine:","\tld hl, wVirtualOAMSprite32","\tld de, .PC_ElmsLab_OAM","\tcall .PlaceHealingMachineTile","\tcall .PlaceHealingMachineTile","\tjr .LoadBallsOntoMachine","",".HOF_LoadBallsOntoMachine:","\tld hl, wVirtualOAMSprite32","\tld de, .HOF_OAM","",".LoadBallsOntoMachine:","\tld a, [wPartyCount]","\tld b, a",".party_loop","\tcall .PlaceHealingMachineTile","\tpush de","\tld de, SFX_SECOND_PART_OF_ITEMFINDER","\tcall PlaySFX","\tpop de","\tld c, 30","\tcall DelayFrames","\tdec b","\tjr nz, .party_loop","\tret","",".PlayHealMusic:","\tld de, MUSIC_HEAL","\tcall PlayMusic","\tjp .FlashPalettes8Times","",".HOF_PlaySFX:","\tld de, SFX_GAME_FREAK_LOGO_GS","\tcall PlaySFX","\tcall .FlashPalettes8Times","\tcall WaitSFX","\tld de, SFX_BOOT_PC","\tcall PlaySFX","\tret","",".dummy_5","\tret","",".PC_ElmsLab_OAM:","\tdbsprite   4,   4, 2, 0, $7c, PAL_OW_TREE | OBP_NUM","\tdbsprite   4,   4, 6, 0, $7c, PAL_OW_TREE | OBP_NUM","\tdbsprite   4,   4, 0, 6, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite   5,   4, 0, 6, $7d, PAL_OW_TREE | OBP_NUM | X_FLIP","\tdbsprite   4,   5, 0, 3, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite   5,   5, 0, 3, $7d, PAL_OW_TREE | OBP_NUM | X_FLIP","\tdbsprite   4,   6, 0, 0, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite   5,   6, 0, 0, $7d, PAL_OW_TREE | OBP_NUM | X_FLIP","",".HealMachineGFX:","INCBIN \"gfx/overworld/heal_machine.2bpp\"","",".HOF_OAM:","\tdbsprite  10,   7, 1, 4, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite  10,   7, 6, 4, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite   9,   7, 5, 3, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite  11,   7, 2, 3, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite   9,   7, 1, 1, $7d, PAL_OW_TREE | OBP_NUM","\tdbsprite  11,   7, 5, 1, $7d, PAL_OW_TREE | OBP_NUM","",".LoadPalettes:","\tcall IsCGB","\tjr nz, .cgb","\tld a, %11100000","\tldh [rOBP1], a","\tret","",".cgb","\tld hl, .palettes","\tld de, wOBPals2 palette PAL_OW_TREE","\tld bc, 1 palettes","\tld a, BANK(wOBPals2)","\tcall FarCopyWRAM","\tld a, $1","\tldh [hCGBPalUpdate], a","\tret","",".palettes","INCLUDE \"gfx/overworld/heal_machine.pal\"","",".FlashPalettes8Times:","\tld c, 8",".palette_loop","\tpush bc","\tcall .FlashPalettes","\tld c, 10","\tcall DelayFrames","\tpop bc","\tdec c","\tjr nz, .palette_loop","\tret","",".FlashPalettes:","\tcall IsCGB","\tjr nz, .go","\tldh a, [rOBP1]","\txor %00101000","\tldh [rOBP1], a","\tret","",".go","\tldh a, [rSVBK]","\tpush af","\tld a, BANK(wOBPals2)","\tldh [rSVBK], a","","\tld hl, wOBPals2 palette PAL_OW_TREE","\tld a, [hli]","\tld e, a","\tld a, [hli]","\tld d, a","\tpush de","\tld c, $3",".palette_loop_2","\tld a, [hli]","\tld e, a","\tld a, [hld]","\tld d, a","\tdec hl","\tld a, d","\tld [hld], a","\tld a, e","\tld [hli], a","\tinc hl","\tinc hl","\tinc hl","\tdec c","\tjr nz, .palette_loop_2","\tpop de","\tdec hl","\tld a, d","\tld [hld], a","\tld a, e","\tld [hl], a","","\tpop af","\tldh [rSVBK], a","\tld a, $1","\tldh [hCGBPalUpdate], a","\tret","",".PlaceHealingMachineTile:","\tpush bc","\tld a, [wBuffer1]","\tbcpixel 2, 4","\tcp HEALMACHINE_ELMS_LAB","\tjr z, .okay","\tbcpixel 0, 0","",".okay","\tld a, [de]","\tadd c","\tinc de","\tld [hli], a ; y","\tld a, [de]","\tadd b","\tinc de","\tld [hli], a ; x","\tld a, [de]","\tinc de","\tld [hli], a ; tile id","\tld a, [de]","\tinc de","\tld [hli], a ; attributes","\tpop bc","\tret"],"name":"healmachineanimseq","file":"engine/events/heal_machine_anim.asm","lineNo":62,"address":85638,"addressUsedBy":[]}